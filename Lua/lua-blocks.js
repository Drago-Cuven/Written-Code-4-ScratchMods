// Name: Lua
// ID: Drago0znzwLua
// Description: acts as a template for people to make their own extensions.
// By: Drago Cuven <https://github.com/Drago-Cuven>
// By: 0znzw <https://scratch.mit.edu/users/0znzw/>
// License: MIT AND LGPL-3.0

// Version 0.0.1

(async function (Scratch) {
    'use strict'
  
    if (!Scratch.extensions.unsandboxed) {
      throw new Error("the 'Lua' extension must run unsandboxed!")
    }
  
    const menuIconURI = "data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9Ijk0NyIgaGVpZ2h0PSI5NDciIHZpZXdCb3g9IjAgMCA5NDcgOTQ3IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBmaWxsPSJuYXZ5IiBkPSJNODM1LjUgNDczLjZjMC0xOTkuOC0xNjIuMi0zNjItMzYyLTM2MnMtMzYyIDE2Mi4yLTM2MiAzNjIgMTYyLjIgMzYyIDM2MiAzNjIgMzYyLTE2Mi4yIDM2Mi0zNjIiLz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNNzI5LjUgMzIzLjZjMC01OC41LTQ3LjUtMTA2LTEwNi0xMDZzLTEwNiA0Ny41LTEwNiAxMDYgNDcuNSAxMDYgMTA2IDEwNiAxMDYtNDcuNSAxMDYtMTA2Ii8+PHBhdGggZmlsbD0ibmF2eSIgZD0iTTk0MS41IDExMS41YzAtNTguNS00Ny41LTEwNi0xMDYtMTA2cy0xMDYgNDcuNS0xMDYgMTA2IDQ3LjUgMTA2IDEwNiAxMDYgMTA2LTQ3LjQgMTA2LTEwNiIvPjxwYXRoIGQ9Ik0yNTguMSA2MjcuOGgxMTcuM3YyNi43SDIyNy44VjQxN2gzMC4zem0yNTcuNCAyNi43di0yMy44Yy0xNiAyMi41LTMxLjkgMzEuMy01NyAzMS4zLTMzLjIgMC01NC40LTE4LjItNTQuNC00Ni42VjQ4My44aDI3djEyMC45YzAgMjAuNSAxMy43IDMzLjYgMzUuMiAzMy42IDI4LjMgMCA0Ni42LTIyLjggNDYuNi01Ny43di05Ni44aDI3djE3MC43em0yMjIuOSA0LjZjLTguOCAyLjMtMTMgMi45LTE4LjYgMi45LTE3LjYgMC0yNi4xLTcuOC0yOC0yNS4xLTE5LjIgMTcuNi0zNi41IDI1LjEtNTggMjUuMS0zNC41IDAtNTYtMTkuNS01Ni01MC41IDAtMjIuMiAxMC4xLTM3LjUgMzAtNDUuNiAxMC40LTQuMiAxNi4zLTUuNSA1NC43LTEwLjQgMjEuNS0yLjYgMjguMy03LjUgMjguMy0xOC45di03LjJjMC0xNi4zLTEzLjctMjUuNC0zOC4xLTI1LjQtMjUuNCAwLTM3LjggOS40LTQwLjEgMzAuM2gtMjcuNGMuNy0xNi45IDMuOS0yNi43IDExLjctMzUuNSAxMS40LTEyLjcgMzEuOS0xOS45IDU2LjctMTkuOSA0MiAwIDY0LjIgMTYuMyA2NC4yIDQ2LjZ2MTAwLjRjMCA4LjUgNS4yIDEzLjQgMTQuNyAxMy40IDEuNiAwIDIuOSAwIDUuOS0uN3ptLTQ3LjYtODljLTkuMSA0LjItMTUgNS41LTQzLjcgOS40LTI5IDQuMi00MS4xIDEzLjQtNDEuMSAzMS4zIDAgMTcuMyAxMi40IDI3LjQgMzMuNiAyNy40IDE2IDAgMjkuMy01LjIgNDAuNC0xNS4zIDguMS03LjUgMTAuOC0xMyAxMC44LTIyLjJ6IiBmaWxsPSIjRkZGIi8+PHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJncmF5IiBzdHJva2Utd2lkdGg9IjEwLjg2MSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSI0MC44NDciIGQ9Ik04OTAuNiAyNjFjMzMuNSA2NS44IDUxIDEzOC42IDUxIDIxMi41IDAgMjU4LjQtMjA5LjcgNDY4LjEtNDY4LjEgNDY4LjFTNS40IDczMS45IDUuNCA0NzMuNSAyMTUuMSA1LjQgNDczLjUgNS40YzgzLjEgMCAxNjQuNiAyMi4xIDIzNi4yIDYzLjkiLz48L3N2Zz4=";
    //https://cdn.jsdelivr.net/npm/wasmoon@1.16.0/+esm
    const { LuaFactory } = await import('data:text/javascript;base64,LyoqCiAqIEJ1bmRsZWQgYnkganNEZWxpdnIgdXNpbmcgUm9sbHVwIHYyLjc5LjEgYW5kIFRlcnNlciB2NS4xOS4yLgogKiBPcmlnaW5hbCBmaWxlOiAvbnBtL3dhc21vb25AMS4xNi4wL2Rpc3QvaW5kZXguanMKICoKICogRG8gTk9UIHVzZSBTUkkgd2l0aCBkeW5hbWljYWxseSBnZW5lcmF0ZWQgZmlsZXMhIE1vcmUgaW5mb3JtYXRpb246IGh0dHBzOi8vd3d3LmpzZGVsaXZyLmNvbS91c2luZy1zcmktd2l0aC1keW5hbWljLWZpbGVzCiAqLwp2YXIgZT0iL2FwcC8uY2FjaGUvbnBtL3dhc21vb25AMS4xNi4wL2Rpc3QiLHQ9InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fTtmdW5jdGlvbiByKCl7dGhyb3cgbmV3IEVycm9yKCJzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkIil9ZnVuY3Rpb24gYSgpe3Rocm93IG5ldyBFcnJvcigiY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkIil9dmFyIG49cixpPWE7ZnVuY3Rpb24gdShlKXtpZihuPT09c2V0VGltZW91dClyZXR1cm4gc2V0VGltZW91dChlLDApO2lmKChuPT09cnx8IW4pJiZzZXRUaW1lb3V0KXJldHVybiBuPXNldFRpbWVvdXQsc2V0VGltZW91dChlLDApO3RyeXtyZXR1cm4gbihlLDApfWNhdGNoKHQpe3RyeXtyZXR1cm4gbi5jYWxsKG51bGwsZSwwKX1jYXRjaCh0KXtyZXR1cm4gbi5jYWxsKHRoaXMsZSwwKX19fSJmdW5jdGlvbiI9PXR5cGVvZiB0LnNldFRpbWVvdXQmJihuPXNldFRpbWVvdXQpLCJmdW5jdGlvbiI9PXR5cGVvZiB0LmNsZWFyVGltZW91dCYmKGk9Y2xlYXJUaW1lb3V0KTt2YXIgbyxzPVtdLGw9ITEsaD0tMTtmdW5jdGlvbiBjKCl7bCYmbyYmKGw9ITEsby5sZW5ndGg/cz1vLmNvbmNhdChzKTpoPS0xLHMubGVuZ3RoJiZkKCkpfWZ1bmN0aW9uIGQoKXtpZighbCl7dmFyIGU9dShjKTtsPSEwO2Zvcih2YXIgdD1zLmxlbmd0aDt0Oyl7Zm9yKG89cyxzPVtdOysraDx0OylvJiZvW2hdLnJ1bigpO2g9LTEsdD1zLmxlbmd0aH1vPW51bGwsbD0hMSxmdW5jdGlvbihlKXtpZihpPT09Y2xlYXJUaW1lb3V0KXJldHVybiBjbGVhclRpbWVvdXQoZSk7aWYoKGk9PT1hfHwhaSkmJmNsZWFyVGltZW91dClyZXR1cm4gaT1jbGVhclRpbWVvdXQsY2xlYXJUaW1lb3V0KGUpO3RyeXtyZXR1cm4gaShlKX1jYXRjaCh0KXt0cnl7cmV0dXJuIGkuY2FsbChudWxsLGUpfWNhdGNoKHQpe3JldHVybiBpLmNhbGwodGhpcyxlKX19fShlKX19ZnVuY3Rpb24gZihlLHQpe3RoaXMuZnVuPWUsdGhpcy5hcnJheT10fWYucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpe3RoaXMuZnVuLmFwcGx5KG51bGwsdGhpcy5hcnJheSl9O2Z1bmN0aW9uIHAoKXt9dmFyIG09cCxfPXAsZz1wLGI9cCx3PXAseT1wLHY9cDt2YXIgRT10LnBlcmZvcm1hbmNlfHx7fSxMPUUubm93fHxFLm1vek5vd3x8RS5tc05vd3x8RS5vTm93fHxFLndlYmtpdE5vd3x8ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX07dmFyIFQ9bmV3IERhdGU7dmFyIGs9e25leHRUaWNrOmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSlmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXRbci0xXT1hcmd1bWVudHNbcl07cy5wdXNoKG5ldyBmKGUsdCkpLDEhPT1zLmxlbmd0aHx8bHx8dShkKX0sdGl0bGU6ImJyb3dzZXIiLGJyb3dzZXI6ITAsZW52Ont9LGFyZ3Y6W10sdmVyc2lvbjoiIix2ZXJzaW9uczp7fSxvbjptLGFkZExpc3RlbmVyOl8sb25jZTpnLG9mZjpiLHJlbW92ZUxpc3RlbmVyOncscmVtb3ZlQWxsTGlzdGVuZXJzOnksZW1pdDp2LGJpbmRpbmc6ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKCJwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCIpfSxjd2Q6ZnVuY3Rpb24oKXtyZXR1cm4iLyJ9LGNoZGlyOmZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcigicHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkIil9LHVtYXNrOmZ1bmN0aW9uKCl7cmV0dXJuIDB9LGhydGltZTpmdW5jdGlvbihlKXt2YXIgdD0uMDAxKkwuY2FsbChFKSxyPU1hdGguZmxvb3IodCksYT1NYXRoLmZsb29yKHQlMSoxZTkpO3JldHVybiBlJiYoci09ZVswXSwoYS09ZVsxXSk8MCYmKHItLSxhKz0xZTkpKSxbcixhXX0scGxhdGZvcm06ImJyb3dzZXIiLHJlbGVhc2U6e30sY29uZmlnOnt9LHVwdGltZTpmdW5jdGlvbigpe3JldHVybihuZXcgRGF0ZS1UKS8xZTN9fSxTPVtdLEE9W10sUj0idW5kZWZpbmVkIiE9dHlwZW9mIFVpbnQ4QXJyYXk/VWludDhBcnJheTpBcnJheSxNPSExO2Z1bmN0aW9uIE8oKXtNPSEwO2Zvcih2YXIgZT0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyIsdD0wO3Q8NjQ7Kyt0KVNbdF09ZVt0XSxBW2UuY2hhckNvZGVBdCh0KV09dDtBWyItIi5jaGFyQ29kZUF0KDApXT02MixBWyJfIi5jaGFyQ29kZUF0KDApXT02M31mdW5jdGlvbiBGKGUsdCxyKXtmb3IodmFyIGEsbixpPVtdLHU9dDt1PHI7dSs9MylhPShlW3VdPDwxNikrKGVbdSsxXTw8OCkrZVt1KzJdLGkucHVzaChTWyhuPWEpPj4xOCY2M10rU1tuPj4xMiY2M10rU1tuPj42JjYzXStTWzYzJm5dKTtyZXR1cm4gaS5qb2luKCIiKX1mdW5jdGlvbiB4KGUpe3ZhciB0O018fE8oKTtmb3IodmFyIHI9ZS5sZW5ndGgsYT1yJTMsbj0iIixpPVtdLHU9MTYzODMsbz0wLHM9ci1hO288cztvKz11KWkucHVzaChGKGUsbyxvK3U+cz9zOm8rdSkpO3JldHVybiAxPT09YT8odD1lW3ItMV0sbis9U1t0Pj4yXSxuKz1TW3Q8PDQmNjNdLG4rPSI9PSIpOjI9PT1hJiYodD0oZVtyLTJdPDw4KStlW3ItMV0sbis9U1t0Pj4xMF0sbis9U1t0Pj40JjYzXSxuKz1TW3Q8PDImNjNdLG4rPSI9IiksaS5wdXNoKG4pLGkuam9pbigiIil9ZnVuY3Rpb24gUChlLHQscixhLG4pe3ZhciBpLHUsbz04Km4tYS0xLHM9KDE8PG8pLTEsbD1zPj4xLGg9LTcsYz1yP24tMTowLGQ9cj8tMToxLGY9ZVt0K2NdO2ZvcihjKz1kLGk9ZiYoMTw8LWgpLTEsZj4+PS1oLGgrPW87aD4wO2k9MjU2KmkrZVt0K2NdLGMrPWQsaC09OCk7Zm9yKHU9aSYoMTw8LWgpLTEsaT4+PS1oLGgrPWE7aD4wO3U9MjU2KnUrZVt0K2NdLGMrPWQsaC09OCk7aWYoMD09PWkpaT0xLWw7ZWxzZXtpZihpPT09cylyZXR1cm4gdT9OYU46MS8wKihmPy0xOjEpO3UrPU1hdGgucG93KDIsYSksaS09bH1yZXR1cm4oZj8tMToxKSp1Kk1hdGgucG93KDIsaS1hKX1mdW5jdGlvbiBJKGUsdCxyLGEsbixpKXt2YXIgdSxvLHMsbD04Kmktbi0xLGg9KDE8PGwpLTEsYz1oPj4xLGQ9MjM9PT1uP01hdGgucG93KDIsLTI0KS1NYXRoLnBvdygyLC03Nyk6MCxmPWE/MDppLTEscD1hPzE6LTEsbT10PDB8fDA9PT10JiYxL3Q8MD8xOjA7Zm9yKHQ9TWF0aC5hYnModCksaXNOYU4odCl8fHQ9PT0xLzA/KG89aXNOYU4odCk/MTowLHU9aCk6KHU9TWF0aC5mbG9vcihNYXRoLmxvZyh0KS9NYXRoLkxOMiksdCoocz1NYXRoLnBvdygyLC11KSk8MSYmKHUtLSxzKj0yKSwodCs9dStjPj0xP2QvczpkKk1hdGgucG93KDIsMS1jKSkqcz49MiYmKHUrKyxzLz0yKSx1K2M+PWg/KG89MCx1PWgpOnUrYz49MT8obz0odCpzLTEpKk1hdGgucG93KDIsbiksdSs9Yyk6KG89dCpNYXRoLnBvdygyLGMtMSkqTWF0aC5wb3coMixuKSx1PTApKTtuPj04O2VbcitmXT0yNTUmbyxmKz1wLG8vPTI1NixuLT04KTtmb3IodT11PDxufG8sbCs9bjtsPjA7ZVtyK2ZdPTI1NSZ1LGYrPXAsdS89MjU2LGwtPTgpO2VbcitmLXBdfD0xMjgqbX12YXIgTj17fS50b1N0cmluZyxDPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiJbb2JqZWN0IEFycmF5XSI9PU4uY2FsbChlKX07ZnVuY3Rpb24gVSgpe3JldHVybiBCLlRZUEVEX0FSUkFZX1NVUFBPUlQ/MjE0NzQ4MzY0NzoxMDczNzQxODIzfWZ1bmN0aW9uIEQoZSx0KXtpZihVKCk8dCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCB0eXBlZCBhcnJheSBsZW5ndGgiKTtyZXR1cm4gQi5UWVBFRF9BUlJBWV9TVVBQT1JUPyhlPW5ldyBVaW50OEFycmF5KHQpKS5fX3Byb3RvX189Qi5wcm90b3R5cGU6KG51bGw9PT1lJiYoZT1uZXcgQih0KSksZS5sZW5ndGg9dCksZX1mdW5jdGlvbiBCKGUsdCxyKXtpZighKEIuVFlQRURfQVJSQVlfU1VQUE9SVHx8dGhpcyBpbnN0YW5jZW9mIEIpKXJldHVybiBuZXcgQihlLHQscik7aWYoIm51bWJlciI9PXR5cGVvZiBlKXtpZigic3RyaW5nIj09dHlwZW9mIHQpdGhyb3cgbmV3IEVycm9yKCJJZiBlbmNvZGluZyBpcyBzcGVjaWZpZWQgdGhlbiB0aGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZyIpO3JldHVybiBqKHRoaXMsZSl9cmV0dXJuIFYodGhpcyxlLHQscil9ZnVuY3Rpb24gVihlLHQscixhKXtpZigibnVtYmVyIj09dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcignInZhbHVlIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBhIG51bWJlcicpO3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgQXJyYXlCdWZmZXImJnQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9mdW5jdGlvbihlLHQscixhKXtpZih0LmJ5dGVMZW5ndGgscjwwfHx0LmJ5dGVMZW5ndGg8cil0aHJvdyBuZXcgUmFuZ2VFcnJvcigiJ29mZnNldCcgaXMgb3V0IG9mIGJvdW5kcyIpO2lmKHQuYnl0ZUxlbmd0aDxyKyhhfHwwKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiJ2xlbmd0aCcgaXMgb3V0IG9mIGJvdW5kcyIpO3Q9dm9pZCAwPT09ciYmdm9pZCAwPT09YT9uZXcgVWludDhBcnJheSh0KTp2b2lkIDA9PT1hP25ldyBVaW50OEFycmF5KHQscik6bmV3IFVpbnQ4QXJyYXkodCxyLGEpO0IuVFlQRURfQVJSQVlfU1VQUE9SVD8oZT10KS5fX3Byb3RvX189Qi5wcm90b3R5cGU6ZT16KGUsdCk7cmV0dXJuIGV9KGUsdCxyLGEpOiJzdHJpbmciPT10eXBlb2YgdD9mdW5jdGlvbihlLHQscil7InN0cmluZyI9PXR5cGVvZiByJiYiIiE9PXJ8fChyPSJ1dGY4Iik7aWYoIUIuaXNFbmNvZGluZyhyKSl0aHJvdyBuZXcgVHlwZUVycm9yKCciZW5jb2RpbmciIG11c3QgYmUgYSB2YWxpZCBzdHJpbmcgZW5jb2RpbmcnKTt2YXIgYT0wfEcodCxyKTtlPUQoZSxhKTt2YXIgbj1lLndyaXRlKHQscik7biE9PWEmJihlPWUuc2xpY2UoMCxuKSk7cmV0dXJuIGV9KGUsdCxyKTpmdW5jdGlvbihlLHQpe2lmKCQodCkpe3ZhciByPTB8SCh0Lmxlbmd0aCk7cmV0dXJuIDA9PT0oZT1EKGUscikpLmxlbmd0aHx8dC5jb3B5KGUsMCwwLHIpLGV9aWYodCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBBcnJheUJ1ZmZlciYmdC5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8Imxlbmd0aCJpbiB0KXJldHVybiJudW1iZXIiIT10eXBlb2YgdC5sZW5ndGh8fChhPXQubGVuZ3RoKSE9YT9EKGUsMCk6eihlLHQpO2lmKCJCdWZmZXIiPT09dC50eXBlJiZDKHQuZGF0YSkpcmV0dXJuIHooZSx0LmRhdGEpfXZhciBhO3Rocm93IG5ldyBUeXBlRXJyb3IoIkZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCBvciBhcnJheS1saWtlIG9iamVjdC4iKX0oZSx0KX1mdW5jdGlvbiBZKGUpe2lmKCJudW1iZXIiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCcic2l6ZSIgYXJndW1lbnQgbXVzdCBiZSBhIG51bWJlcicpO2lmKGU8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcignInNpemUiIGFyZ3VtZW50IG11c3Qgbm90IGJlIG5lZ2F0aXZlJyl9ZnVuY3Rpb24gaihlLHQpe2lmKFkodCksZT1EKGUsdDwwPzA6MHxIKHQpKSwhQi5UWVBFRF9BUlJBWV9TVVBQT1JUKWZvcih2YXIgcj0wO3I8dDsrK3IpZVtyXT0wO3JldHVybiBlfWZ1bmN0aW9uIHooZSx0KXt2YXIgcj10Lmxlbmd0aDwwPzA6MHxIKHQubGVuZ3RoKTtlPUQoZSxyKTtmb3IodmFyIGE9MDthPHI7YSs9MSllW2FdPTI1NSZ0W2FdO3JldHVybiBlfWZ1bmN0aW9uIEgoZSl7aWYoZT49VSgpKXRocm93IG5ldyBSYW5nZUVycm9yKCJBdHRlbXB0IHRvIGFsbG9jYXRlIEJ1ZmZlciBsYXJnZXIgdGhhbiBtYXhpbXVtIHNpemU6IDB4IitVKCkudG9TdHJpbmcoMTYpKyIgYnl0ZXMiKTtyZXR1cm4gMHxlfWZ1bmN0aW9uICQoZSl7cmV0dXJuIShudWxsPT1lfHwhZS5faXNCdWZmZXIpfWZ1bmN0aW9uIEcoZSx0KXtpZigkKGUpKXJldHVybiBlLmxlbmd0aDtpZigidW5kZWZpbmVkIiE9dHlwZW9mIEFycmF5QnVmZmVyJiYiZnVuY3Rpb24iPT10eXBlb2YgQXJyYXlCdWZmZXIuaXNWaWV3JiYoQXJyYXlCdWZmZXIuaXNWaWV3KGUpfHxlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpKXJldHVybiBlLmJ5dGVMZW5ndGg7InN0cmluZyIhPXR5cGVvZiBlJiYoZT0iIitlKTt2YXIgcj1lLmxlbmd0aDtpZigwPT09cilyZXR1cm4gMDtmb3IodmFyIGE9ITE7Oylzd2l0Y2godCl7Y2FzZSJhc2NpaSI6Y2FzZSJsYXRpbjEiOmNhc2UiYmluYXJ5IjpyZXR1cm4gcjtjYXNlInV0ZjgiOmNhc2UidXRmLTgiOmNhc2Ugdm9pZCAwOnJldHVybiB3ZShlKS5sZW5ndGg7Y2FzZSJ1Y3MyIjpjYXNlInVjcy0yIjpjYXNlInV0ZjE2bGUiOmNhc2UidXRmLTE2bGUiOnJldHVybiAyKnI7Y2FzZSJoZXgiOnJldHVybiByPj4+MTtjYXNlImJhc2U2NCI6cmV0dXJuIHllKGUpLmxlbmd0aDtkZWZhdWx0OmlmKGEpcmV0dXJuIHdlKGUpLmxlbmd0aDt0PSgiIit0KS50b0xvd2VyQ2FzZSgpLGE9ITB9fWZ1bmN0aW9uIFcoZSx0LHIpe3ZhciBhPSExO2lmKCh2b2lkIDA9PT10fHx0PDApJiYodD0wKSx0PnRoaXMubGVuZ3RoKXJldHVybiIiO2lmKCh2b2lkIDA9PT1yfHxyPnRoaXMubGVuZ3RoKSYmKHI9dGhpcy5sZW5ndGgpLHI8PTApcmV0dXJuIiI7aWYoKHI+Pj49MCk8PSh0Pj4+PTApKXJldHVybiIiO2ZvcihlfHwoZT0idXRmOCIpOzspc3dpdGNoKGUpe2Nhc2UiaGV4IjpyZXR1cm4gc2UodGhpcyx0LHIpO2Nhc2UidXRmOCI6Y2FzZSJ1dGYtOCI6cmV0dXJuIG5lKHRoaXMsdCxyKTtjYXNlImFzY2lpIjpyZXR1cm4gdWUodGhpcyx0LHIpO2Nhc2UibGF0aW4xIjpjYXNlImJpbmFyeSI6cmV0dXJuIG9lKHRoaXMsdCxyKTtjYXNlImJhc2U2NCI6cmV0dXJuIGFlKHRoaXMsdCxyKTtjYXNlInVjczIiOmNhc2UidWNzLTIiOmNhc2UidXRmMTZsZSI6Y2FzZSJ1dGYtMTZsZSI6cmV0dXJuIGxlKHRoaXMsdCxyKTtkZWZhdWx0OmlmKGEpdGhyb3cgbmV3IFR5cGVFcnJvcigiVW5rbm93biBlbmNvZGluZzogIitlKTtlPShlKyIiKS50b0xvd2VyQ2FzZSgpLGE9ITB9fWZ1bmN0aW9uIHEoZSx0LHIpe3ZhciBhPWVbdF07ZVt0XT1lW3JdLGVbcl09YX1mdW5jdGlvbiBLKGUsdCxyLGEsbil7aWYoMD09PWUubGVuZ3RoKXJldHVybi0xO2lmKCJzdHJpbmciPT10eXBlb2Ygcj8oYT1yLHI9MCk6cj4yMTQ3NDgzNjQ3P3I9MjE0NzQ4MzY0NzpyPC0yMTQ3NDgzNjQ4JiYocj0tMjE0NzQ4MzY0OCkscj0rcixpc05hTihyKSYmKHI9bj8wOmUubGVuZ3RoLTEpLHI8MCYmKHI9ZS5sZW5ndGgrcikscj49ZS5sZW5ndGgpe2lmKG4pcmV0dXJuLTE7cj1lLmxlbmd0aC0xfWVsc2UgaWYocjwwKXtpZighbilyZXR1cm4tMTtyPTB9aWYoInN0cmluZyI9PXR5cGVvZiB0JiYodD1CLmZyb20odCxhKSksJCh0KSlyZXR1cm4gMD09PXQubGVuZ3RoPy0xOlgoZSx0LHIsYSxuKTtpZigibnVtYmVyIj09dHlwZW9mIHQpcmV0dXJuIHQmPTI1NSxCLlRZUEVEX0FSUkFZX1NVUFBPUlQmJiJmdW5jdGlvbiI9PXR5cGVvZiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mP24/VWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGUsdCxyKTpVaW50OEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZi5jYWxsKGUsdCxyKTpYKGUsW3RdLHIsYSxuKTt0aHJvdyBuZXcgVHlwZUVycm9yKCJ2YWwgbXVzdCBiZSBzdHJpbmcsIG51bWJlciBvciBCdWZmZXIiKX1mdW5jdGlvbiBYKGUsdCxyLGEsbil7dmFyIGksdT0xLG89ZS5sZW5ndGgscz10Lmxlbmd0aDtpZih2b2lkIDAhPT1hJiYoInVjczIiPT09KGE9U3RyaW5nKGEpLnRvTG93ZXJDYXNlKCkpfHwidWNzLTIiPT09YXx8InV0ZjE2bGUiPT09YXx8InV0Zi0xNmxlIj09PWEpKXtpZihlLmxlbmd0aDwyfHx0Lmxlbmd0aDwyKXJldHVybi0xO3U9MixvLz0yLHMvPTIsci89Mn1mdW5jdGlvbiBsKGUsdCl7cmV0dXJuIDE9PT11P2VbdF06ZS5yZWFkVUludDE2QkUodCp1KX1pZihuKXt2YXIgaD0tMTtmb3IoaT1yO2k8bztpKyspaWYobChlLGkpPT09bCh0LC0xPT09aD8wOmktaCkpe2lmKC0xPT09aCYmKGg9aSksaS1oKzE9PT1zKXJldHVybiBoKnV9ZWxzZS0xIT09aCYmKGktPWktaCksaD0tMX1lbHNlIGZvcihyK3M+byYmKHI9by1zKSxpPXI7aT49MDtpLS0pe2Zvcih2YXIgYz0hMCxkPTA7ZDxzO2QrKylpZihsKGUsaStkKSE9PWwodCxkKSl7Yz0hMTticmVha31pZihjKXJldHVybiBpfXJldHVybi0xfWZ1bmN0aW9uIEooZSx0LHIsYSl7cj1OdW1iZXIocil8fDA7dmFyIG49ZS5sZW5ndGgtcjthPyhhPU51bWJlcihhKSk+biYmKGE9bik6YT1uO3ZhciBpPXQubGVuZ3RoO2lmKGklMiE9MCl0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGhleCBzdHJpbmciKTthPmkvMiYmKGE9aS8yKTtmb3IodmFyIHU9MDt1PGE7Kyt1KXt2YXIgbz1wYXJzZUludCh0LnN1YnN0cigyKnUsMiksMTYpO2lmKGlzTmFOKG8pKXJldHVybiB1O2Vbcit1XT1vfXJldHVybiB1fWZ1bmN0aW9uIFooZSx0LHIsYSl7cmV0dXJuIHZlKHdlKHQsZS5sZW5ndGgtciksZSxyLGEpfWZ1bmN0aW9uIFEoZSx0LHIsYSl7cmV0dXJuIHZlKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTA7cjxlLmxlbmd0aDsrK3IpdC5wdXNoKDI1NSZlLmNoYXJDb2RlQXQocikpO3JldHVybiB0fSh0KSxlLHIsYSl9ZnVuY3Rpb24gZWUoZSx0LHIsYSl7cmV0dXJuIFEoZSx0LHIsYSl9ZnVuY3Rpb24gdGUoZSx0LHIsYSl7cmV0dXJuIHZlKHllKHQpLGUscixhKX1mdW5jdGlvbiByZShlLHQscixhKXtyZXR1cm4gdmUoZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIsYSxuLGk9W10sdT0wO3U8ZS5sZW5ndGgmJiEoKHQtPTIpPDApOysrdSlhPShyPWUuY2hhckNvZGVBdCh1KSk+Pjgsbj1yJTI1NixpLnB1c2gobiksaS5wdXNoKGEpO3JldHVybiBpfSh0LGUubGVuZ3RoLXIpLGUscixhKX1mdW5jdGlvbiBhZShlLHQscil7cmV0dXJuIDA9PT10JiZyPT09ZS5sZW5ndGg/eChlKTp4KGUuc2xpY2UodCxyKSl9ZnVuY3Rpb24gbmUoZSx0LHIpe3I9TWF0aC5taW4oZS5sZW5ndGgscik7Zm9yKHZhciBhPVtdLG49dDtuPHI7KXt2YXIgaSx1LG8scyxsPWVbbl0saD1udWxsLGM9bD4yMzk/NDpsPjIyMz8zOmw+MTkxPzI6MTtpZihuK2M8PXIpc3dpdGNoKGMpe2Nhc2UgMTpsPDEyOCYmKGg9bCk7YnJlYWs7Y2FzZSAyOjEyOD09KDE5MiYoaT1lW24rMV0pKSYmKHM9KDMxJmwpPDw2fDYzJmkpPjEyNyYmKGg9cyk7YnJlYWs7Y2FzZSAzOmk9ZVtuKzFdLHU9ZVtuKzJdLDEyOD09KDE5MiZpKSYmMTI4PT0oMTkyJnUpJiYocz0oMTUmbCk8PDEyfCg2MyZpKTw8Nnw2MyZ1KT4yMDQ3JiYoczw1NTI5Nnx8cz41NzM0MykmJihoPXMpO2JyZWFrO2Nhc2UgNDppPWVbbisxXSx1PWVbbisyXSxvPWVbbiszXSwxMjg9PSgxOTImaSkmJjEyOD09KDE5MiZ1KSYmMTI4PT0oMTkyJm8pJiYocz0oMTUmbCk8PDE4fCg2MyZpKTw8MTJ8KDYzJnUpPDw2fDYzJm8pPjY1NTM1JiZzPDExMTQxMTImJihoPXMpfW51bGw9PT1oPyhoPTY1NTMzLGM9MSk6aD42NTUzNSYmKGgtPTY1NTM2LGEucHVzaChoPj4+MTAmMTAyM3w1NTI5NiksaD01NjMyMHwxMDIzJmgpLGEucHVzaChoKSxuKz1jfXJldHVybiBmdW5jdGlvbihlKXt2YXIgdD1lLmxlbmd0aDtpZih0PD1pZSlyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsZSk7dmFyIHI9IiIsYT0wO2Zvcig7YTx0OylyKz1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxlLnNsaWNlKGEsYSs9aWUpKTtyZXR1cm4gcn0oYSl9Qi5UWVBFRF9BUlJBWV9TVVBQT1JUPXZvaWQgMD09PXQuVFlQRURfQVJSQVlfU1VQUE9SVHx8dC5UWVBFRF9BUlJBWV9TVVBQT1JULFUoKSxCLnBvb2xTaXplPTgxOTIsQi5fYXVnbWVudD1mdW5jdGlvbihlKXtyZXR1cm4gZS5fX3Byb3RvX189Qi5wcm90b3R5cGUsZX0sQi5mcm9tPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gVihudWxsLGUsdCxyKX0sQi5UWVBFRF9BUlJBWV9TVVBQT1JUJiYoQi5wcm90b3R5cGUuX19wcm90b19fPVVpbnQ4QXJyYXkucHJvdG90eXBlLEIuX19wcm90b19fPVVpbnQ4QXJyYXksInVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5zcGVjaWVzJiZCW1N5bWJvbC5zcGVjaWVzXSksQi5hbGxvYz1mdW5jdGlvbihlLHQscil7cmV0dXJuIGZ1bmN0aW9uKGUsdCxyLGEpe3JldHVybiBZKHQpLHQ8PTA/RChlLHQpOnZvaWQgMCE9PXI/InN0cmluZyI9PXR5cGVvZiBhP0QoZSx0KS5maWxsKHIsYSk6RChlLHQpLmZpbGwocik6RChlLHQpfShudWxsLGUsdCxyKX0sQi5hbGxvY1Vuc2FmZT1mdW5jdGlvbihlKXtyZXR1cm4gaihudWxsLGUpfSxCLmFsbG9jVW5zYWZlU2xvdz1mdW5jdGlvbihlKXtyZXR1cm4gaihudWxsLGUpfSxCLmlzQnVmZmVyPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT1lJiYoISFlLl9pc0J1ZmZlcnx8RWUoZSl8fGZ1bmN0aW9uKGUpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlLnJlYWRGbG9hdExFJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5zbGljZSYmRWUoZS5zbGljZSgwLDApKX0oZSkpfSxCLmNvbXBhcmU9ZnVuY3Rpb24oZSx0KXtpZighJChlKXx8ISQodCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQXJndW1lbnRzIG11c3QgYmUgQnVmZmVycyIpO2lmKGU9PT10KXJldHVybiAwO2Zvcih2YXIgcj1lLmxlbmd0aCxhPXQubGVuZ3RoLG49MCxpPU1hdGgubWluKHIsYSk7bjxpOysrbilpZihlW25dIT09dFtuXSl7cj1lW25dLGE9dFtuXTticmVha31yZXR1cm4gcjxhPy0xOmE8cj8xOjB9LEIuaXNFbmNvZGluZz1mdW5jdGlvbihlKXtzd2l0Y2goU3RyaW5nKGUpLnRvTG93ZXJDYXNlKCkpe2Nhc2UiaGV4IjpjYXNlInV0ZjgiOmNhc2UidXRmLTgiOmNhc2UiYXNjaWkiOmNhc2UibGF0aW4xIjpjYXNlImJpbmFyeSI6Y2FzZSJiYXNlNjQiOmNhc2UidWNzMiI6Y2FzZSJ1Y3MtMiI6Y2FzZSJ1dGYxNmxlIjpjYXNlInV0Zi0xNmxlIjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX0sQi5jb25jYXQ9ZnVuY3Rpb24oZSx0KXtpZighQyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCcibGlzdCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJyk7aWYoMD09PWUubGVuZ3RoKXJldHVybiBCLmFsbG9jKDApO3ZhciByO2lmKHZvaWQgMD09PXQpZm9yKHQ9MCxyPTA7cjxlLmxlbmd0aDsrK3IpdCs9ZVtyXS5sZW5ndGg7dmFyIGE9Qi5hbGxvY1Vuc2FmZSh0KSxuPTA7Zm9yKHI9MDtyPGUubGVuZ3RoOysrcil7dmFyIGk9ZVtyXTtpZighJChpKSl0aHJvdyBuZXcgVHlwZUVycm9yKCcibGlzdCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJyk7aS5jb3B5KGEsbiksbis9aS5sZW5ndGh9cmV0dXJuIGF9LEIuYnl0ZUxlbmd0aD1HLEIucHJvdG90eXBlLl9pc0J1ZmZlcj0hMCxCLnByb3RvdHlwZS5zd2FwMTY9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxlbmd0aDtpZihlJTIhPTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAxNi1iaXRzIik7Zm9yKHZhciB0PTA7dDxlO3QrPTIpcSh0aGlzLHQsdCsxKTtyZXR1cm4gdGhpc30sQi5wcm90b3R5cGUuc3dhcDMyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5sZW5ndGg7aWYoZSU0IT0wKXRocm93IG5ldyBSYW5nZUVycm9yKCJCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMzItYml0cyIpO2Zvcih2YXIgdD0wO3Q8ZTt0Kz00KXEodGhpcyx0LHQrMykscSh0aGlzLHQrMSx0KzIpO3JldHVybiB0aGlzfSxCLnByb3RvdHlwZS5zd2FwNjQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxlbmd0aDtpZihlJTghPTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA2NC1iaXRzIik7Zm9yKHZhciB0PTA7dDxlO3QrPTgpcSh0aGlzLHQsdCs3KSxxKHRoaXMsdCsxLHQrNikscSh0aGlzLHQrMix0KzUpLHEodGhpcyx0KzMsdCs0KTtyZXR1cm4gdGhpc30sQi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgZT0wfHRoaXMubGVuZ3RoO3JldHVybiAwPT09ZT8iIjowPT09YXJndW1lbnRzLmxlbmd0aD9uZSh0aGlzLDAsZSk6Vy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LEIucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbihlKXtpZighJChlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIik7cmV0dXJuIHRoaXM9PT1lfHwwPT09Qi5jb21wYXJlKHRoaXMsZSl9LEIucHJvdG90eXBlLmluc3BlY3Q9ZnVuY3Rpb24oKXt2YXIgZT0iIjtyZXR1cm4gdGhpcy5sZW5ndGg+MCYmKGU9dGhpcy50b1N0cmluZygiaGV4IiwwLDUwKS5tYXRjaCgvLnsyfS9nKS5qb2luKCIgIiksdGhpcy5sZW5ndGg+NTAmJihlKz0iIC4uLiAiKSksIjxCdWZmZXIgIitlKyI+In0sQi5wcm90b3R5cGUuY29tcGFyZT1mdW5jdGlvbihlLHQscixhLG4pe2lmKCEkKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoIkFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXIiKTtpZih2b2lkIDA9PT10JiYodD0wKSx2b2lkIDA9PT1yJiYocj1lP2UubGVuZ3RoOjApLHZvaWQgMD09PWEmJihhPTApLHZvaWQgMD09PW4mJihuPXRoaXMubGVuZ3RoKSx0PDB8fHI+ZS5sZW5ndGh8fGE8MHx8bj50aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigib3V0IG9mIHJhbmdlIGluZGV4Iik7aWYoYT49biYmdD49cilyZXR1cm4gMDtpZihhPj1uKXJldHVybi0xO2lmKHQ+PXIpcmV0dXJuIDE7aWYodGhpcz09PWUpcmV0dXJuIDA7Zm9yKHZhciBpPShuPj4+PTApLShhPj4+PTApLHU9KHI+Pj49MCktKHQ+Pj49MCksbz1NYXRoLm1pbihpLHUpLHM9dGhpcy5zbGljZShhLG4pLGw9ZS5zbGljZSh0LHIpLGg9MDtoPG87KytoKWlmKHNbaF0hPT1sW2hdKXtpPXNbaF0sdT1sW2hdO2JyZWFrfXJldHVybiBpPHU/LTE6dTxpPzE6MH0sQi5wcm90b3R5cGUuaW5jbHVkZXM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybi0xIT09dGhpcy5pbmRleE9mKGUsdCxyKX0sQi5wcm90b3R5cGUuaW5kZXhPZj1mdW5jdGlvbihlLHQscil7cmV0dXJuIEsodGhpcyxlLHQsciwhMCl9LEIucHJvdG90eXBlLmxhc3RJbmRleE9mPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gSyh0aGlzLGUsdCxyLCExKX0sQi5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSx0LHIsYSl7aWYodm9pZCAwPT09dClhPSJ1dGY4IixyPXRoaXMubGVuZ3RoLHQ9MDtlbHNlIGlmKHZvaWQgMD09PXImJiJzdHJpbmciPT10eXBlb2YgdClhPXQscj10aGlzLmxlbmd0aCx0PTA7ZWxzZXtpZighaXNGaW5pdGUodCkpdGhyb3cgbmV3IEVycm9yKCJCdWZmZXIud3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0WywgbGVuZ3RoXSkgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCIpO3R8PTAsaXNGaW5pdGUocik/KHJ8PTAsdm9pZCAwPT09YSYmKGE9InV0ZjgiKSk6KGE9cixyPXZvaWQgMCl9dmFyIG49dGhpcy5sZW5ndGgtdDtpZigodm9pZCAwPT09cnx8cj5uKSYmKHI9biksZS5sZW5ndGg+MCYmKHI8MHx8dDwwKXx8dD50aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQXR0ZW1wdCB0byB3cml0ZSBvdXRzaWRlIGJ1ZmZlciBib3VuZHMiKTthfHwoYT0idXRmOCIpO2Zvcih2YXIgaT0hMTs7KXN3aXRjaChhKXtjYXNlImhleCI6cmV0dXJuIEoodGhpcyxlLHQscik7Y2FzZSJ1dGY4IjpjYXNlInV0Zi04IjpyZXR1cm4gWih0aGlzLGUsdCxyKTtjYXNlImFzY2lpIjpyZXR1cm4gUSh0aGlzLGUsdCxyKTtjYXNlImxhdGluMSI6Y2FzZSJiaW5hcnkiOnJldHVybiBlZSh0aGlzLGUsdCxyKTtjYXNlImJhc2U2NCI6cmV0dXJuIHRlKHRoaXMsZSx0LHIpO2Nhc2UidWNzMiI6Y2FzZSJ1Y3MtMiI6Y2FzZSJ1dGYxNmxlIjpjYXNlInV0Zi0xNmxlIjpyZXR1cm4gcmUodGhpcyxlLHQscik7ZGVmYXVsdDppZihpKXRocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gZW5jb2Rpbmc6ICIrYSk7YT0oIiIrYSkudG9Mb3dlckNhc2UoKSxpPSEwfX0sQi5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6IkJ1ZmZlciIsZGF0YTpBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLl9hcnJ8fHRoaXMsMCl9fTt2YXIgaWU9NDA5NjtmdW5jdGlvbiB1ZShlLHQscil7dmFyIGE9IiI7cj1NYXRoLm1pbihlLmxlbmd0aCxyKTtmb3IodmFyIG49dDtuPHI7KytuKWErPVN0cmluZy5mcm9tQ2hhckNvZGUoMTI3JmVbbl0pO3JldHVybiBhfWZ1bmN0aW9uIG9lKGUsdCxyKXt2YXIgYT0iIjtyPU1hdGgubWluKGUubGVuZ3RoLHIpO2Zvcih2YXIgbj10O248cjsrK24pYSs9U3RyaW5nLmZyb21DaGFyQ29kZShlW25dKTtyZXR1cm4gYX1mdW5jdGlvbiBzZShlLHQscil7dmFyIGE9ZS5sZW5ndGg7KCF0fHx0PDApJiYodD0wKSwoIXJ8fHI8MHx8cj5hKSYmKHI9YSk7Zm9yKHZhciBuPSIiLGk9dDtpPHI7KytpKW4rPWJlKGVbaV0pO3JldHVybiBufWZ1bmN0aW9uIGxlKGUsdCxyKXtmb3IodmFyIGE9ZS5zbGljZSh0LHIpLG49IiIsaT0wO2k8YS5sZW5ndGg7aSs9MiluKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGFbaV0rMjU2KmFbaSsxXSk7cmV0dXJuIG59ZnVuY3Rpb24gaGUoZSx0LHIpe2lmKGUlMSE9MHx8ZTwwKXRocm93IG5ldyBSYW5nZUVycm9yKCJvZmZzZXQgaXMgbm90IHVpbnQiKTtpZihlK3Q+cil0aHJvdyBuZXcgUmFuZ2VFcnJvcigiVHJ5aW5nIHRvIGFjY2VzcyBiZXlvbmQgYnVmZmVyIGxlbmd0aCIpfWZ1bmN0aW9uIGNlKGUsdCxyLGEsbixpKXtpZighJChlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCciYnVmZmVyIiBhcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIGluc3RhbmNlJyk7aWYodD5ufHx0PGkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJyJ2YWx1ZSIgYXJndW1lbnQgaXMgb3V0IG9mIGJvdW5kcycpO2lmKHIrYT5lLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW5kZXggb3V0IG9mIHJhbmdlIil9ZnVuY3Rpb24gZGUoZSx0LHIsYSl7dDwwJiYodD02NTUzNSt0KzEpO2Zvcih2YXIgbj0wLGk9TWF0aC5taW4oZS5sZW5ndGgtciwyKTtuPGk7KytuKWVbcituXT0odCYyNTU8PDgqKGE/bjoxLW4pKT4+PjgqKGE/bjoxLW4pfWZ1bmN0aW9uIGZlKGUsdCxyLGEpe3Q8MCYmKHQ9NDI5NDk2NzI5NSt0KzEpO2Zvcih2YXIgbj0wLGk9TWF0aC5taW4oZS5sZW5ndGgtciw0KTtuPGk7KytuKWVbcituXT10Pj4+OCooYT9uOjMtbikmMjU1fWZ1bmN0aW9uIHBlKGUsdCxyLGEsbixpKXtpZihyK2E+ZS5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZSIpO2lmKHI8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW5kZXggb3V0IG9mIHJhbmdlIil9ZnVuY3Rpb24gbWUoZSx0LHIsYSxuKXtyZXR1cm4gbnx8cGUoZSwwLHIsNCksSShlLHQscixhLDIzLDQpLHIrNH1mdW5jdGlvbiBfZShlLHQscixhLG4pe3JldHVybiBufHxwZShlLDAsciw4KSxJKGUsdCxyLGEsNTIsOCkscis4fUIucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKGUsdCl7dmFyIHIsYT10aGlzLmxlbmd0aDtpZigoZT1+fmUpPDA/KGUrPWEpPDAmJihlPTApOmU+YSYmKGU9YSksKHQ9dm9pZCAwPT09dD9hOn5+dCk8MD8odCs9YSk8MCYmKHQ9MCk6dD5hJiYodD1hKSx0PGUmJih0PWUpLEIuVFlQRURfQVJSQVlfU1VQUE9SVCkocj10aGlzLnN1YmFycmF5KGUsdCkpLl9fcHJvdG9fXz1CLnByb3RvdHlwZTtlbHNle3ZhciBuPXQtZTtyPW5ldyBCKG4sdm9pZCAwKTtmb3IodmFyIGk9MDtpPG47KytpKXJbaV09dGhpc1tpK2VdfXJldHVybiByfSxCLnByb3RvdHlwZS5yZWFkVUludExFPWZ1bmN0aW9uKGUsdCxyKXtlfD0wLHR8PTAscnx8aGUoZSx0LHRoaXMubGVuZ3RoKTtmb3IodmFyIGE9dGhpc1tlXSxuPTEsaT0wOysraTx0JiYobio9MjU2KTspYSs9dGhpc1tlK2ldKm47cmV0dXJuIGF9LEIucHJvdG90eXBlLnJlYWRVSW50QkU9ZnVuY3Rpb24oZSx0LHIpe2V8PTAsdHw9MCxyfHxoZShlLHQsdGhpcy5sZW5ndGgpO2Zvcih2YXIgYT10aGlzW2UrLS10XSxuPTE7dD4wJiYobio9MjU2KTspYSs9dGhpc1tlKy0tdF0qbjtyZXR1cm4gYX0sQi5wcm90b3R5cGUucmVhZFVJbnQ4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fGhlKGUsMSx0aGlzLmxlbmd0aCksdGhpc1tlXX0sQi5wcm90b3R5cGUucmVhZFVJbnQxNkxFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fGhlKGUsMix0aGlzLmxlbmd0aCksdGhpc1tlXXx0aGlzW2UrMV08PDh9LEIucHJvdG90eXBlLnJlYWRVSW50MTZCRT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxoZShlLDIsdGhpcy5sZW5ndGgpLHRoaXNbZV08PDh8dGhpc1tlKzFdfSxCLnByb3RvdHlwZS5yZWFkVUludDMyTEU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8aGUoZSw0LHRoaXMubGVuZ3RoKSwodGhpc1tlXXx0aGlzW2UrMV08PDh8dGhpc1tlKzJdPDwxNikrMTY3NzcyMTYqdGhpc1tlKzNdfSxCLnByb3RvdHlwZS5yZWFkVUludDMyQkU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8aGUoZSw0LHRoaXMubGVuZ3RoKSwxNjc3NzIxNip0aGlzW2VdKyh0aGlzW2UrMV08PDE2fHRoaXNbZSsyXTw8OHx0aGlzW2UrM10pfSxCLnByb3RvdHlwZS5yZWFkSW50TEU9ZnVuY3Rpb24oZSx0LHIpe2V8PTAsdHw9MCxyfHxoZShlLHQsdGhpcy5sZW5ndGgpO2Zvcih2YXIgYT10aGlzW2VdLG49MSxpPTA7KytpPHQmJihuKj0yNTYpOylhKz10aGlzW2UraV0qbjtyZXR1cm4gYT49KG4qPTEyOCkmJihhLT1NYXRoLnBvdygyLDgqdCkpLGF9LEIucHJvdG90eXBlLnJlYWRJbnRCRT1mdW5jdGlvbihlLHQscil7ZXw9MCx0fD0wLHJ8fGhlKGUsdCx0aGlzLmxlbmd0aCk7Zm9yKHZhciBhPXQsbj0xLGk9dGhpc1tlKy0tYV07YT4wJiYobio9MjU2KTspaSs9dGhpc1tlKy0tYV0qbjtyZXR1cm4gaT49KG4qPTEyOCkmJihpLT1NYXRoLnBvdygyLDgqdCkpLGl9LEIucHJvdG90eXBlLnJlYWRJbnQ4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fGhlKGUsMSx0aGlzLmxlbmd0aCksMTI4JnRoaXNbZV0/LTEqKDI1NS10aGlzW2VdKzEpOnRoaXNbZV19LEIucHJvdG90eXBlLnJlYWRJbnQxNkxFPWZ1bmN0aW9uKGUsdCl7dHx8aGUoZSwyLHRoaXMubGVuZ3RoKTt2YXIgcj10aGlzW2VdfHRoaXNbZSsxXTw8ODtyZXR1cm4gMzI3Njgmcj80Mjk0OTAxNzYwfHI6cn0sQi5wcm90b3R5cGUucmVhZEludDE2QkU9ZnVuY3Rpb24oZSx0KXt0fHxoZShlLDIsdGhpcy5sZW5ndGgpO3ZhciByPXRoaXNbZSsxXXx0aGlzW2VdPDw4O3JldHVybiAzMjc2OCZyPzQyOTQ5MDE3NjB8cjpyfSxCLnByb3RvdHlwZS5yZWFkSW50MzJMRT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxoZShlLDQsdGhpcy5sZW5ndGgpLHRoaXNbZV18dGhpc1tlKzFdPDw4fHRoaXNbZSsyXTw8MTZ8dGhpc1tlKzNdPDwyNH0sQi5wcm90b3R5cGUucmVhZEludDMyQkU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8aGUoZSw0LHRoaXMubGVuZ3RoKSx0aGlzW2VdPDwyNHx0aGlzW2UrMV08PDE2fHRoaXNbZSsyXTw8OHx0aGlzW2UrM119LEIucHJvdG90eXBlLnJlYWRGbG9hdExFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fGhlKGUsNCx0aGlzLmxlbmd0aCksUCh0aGlzLGUsITAsMjMsNCl9LEIucHJvdG90eXBlLnJlYWRGbG9hdEJFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fGhlKGUsNCx0aGlzLmxlbmd0aCksUCh0aGlzLGUsITEsMjMsNCl9LEIucHJvdG90eXBlLnJlYWREb3VibGVMRT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxoZShlLDgsdGhpcy5sZW5ndGgpLFAodGhpcyxlLCEwLDUyLDgpfSxCLnByb3RvdHlwZS5yZWFkRG91YmxlQkU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8aGUoZSw4LHRoaXMubGVuZ3RoKSxQKHRoaXMsZSwhMSw1Miw4KX0sQi5wcm90b3R5cGUud3JpdGVVSW50TEU9ZnVuY3Rpb24oZSx0LHIsYSl7KGU9K2UsdHw9MCxyfD0wLGEpfHxjZSh0aGlzLGUsdCxyLE1hdGgucG93KDIsOCpyKS0xLDApO3ZhciBuPTEsaT0wO2Zvcih0aGlzW3RdPTI1NSZlOysraTxyJiYobio9MjU2KTspdGhpc1t0K2ldPWUvbiYyNTU7cmV0dXJuIHQrcn0sQi5wcm90b3R5cGUud3JpdGVVSW50QkU9ZnVuY3Rpb24oZSx0LHIsYSl7KGU9K2UsdHw9MCxyfD0wLGEpfHxjZSh0aGlzLGUsdCxyLE1hdGgucG93KDIsOCpyKS0xLDApO3ZhciBuPXItMSxpPTE7Zm9yKHRoaXNbdCtuXT0yNTUmZTstLW4+PTAmJihpKj0yNTYpOyl0aGlzW3Qrbl09ZS9pJjI1NTtyZXR1cm4gdCtyfSxCLnByb3RvdHlwZS53cml0ZVVJbnQ4PWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZT0rZSx0fD0wLHJ8fGNlKHRoaXMsZSx0LDEsMjU1LDApLEIuVFlQRURfQVJSQVlfU1VQUE9SVHx8KGU9TWF0aC5mbG9vcihlKSksdGhpc1t0XT0yNTUmZSx0KzF9LEIucHJvdG90eXBlLndyaXRlVUludDE2TEU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPStlLHR8PTAscnx8Y2UodGhpcyxlLHQsMiw2NTUzNSwwKSxCLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbdF09MjU1JmUsdGhpc1t0KzFdPWU+Pj44KTpkZSh0aGlzLGUsdCwhMCksdCsyfSxCLnByb3RvdHlwZS53cml0ZVVJbnQxNkJFPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZT0rZSx0fD0wLHJ8fGNlKHRoaXMsZSx0LDIsNjU1MzUsMCksQi5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW3RdPWU+Pj44LHRoaXNbdCsxXT0yNTUmZSk6ZGUodGhpcyxlLHQsITEpLHQrMn0sQi5wcm90b3R5cGUud3JpdGVVSW50MzJMRT1mdW5jdGlvbihlLHQscil7cmV0dXJuIGU9K2UsdHw9MCxyfHxjZSh0aGlzLGUsdCw0LDQyOTQ5NjcyOTUsMCksQi5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW3QrM109ZT4+PjI0LHRoaXNbdCsyXT1lPj4+MTYsdGhpc1t0KzFdPWU+Pj44LHRoaXNbdF09MjU1JmUpOmZlKHRoaXMsZSx0LCEwKSx0KzR9LEIucHJvdG90eXBlLndyaXRlVUludDMyQkU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPStlLHR8PTAscnx8Y2UodGhpcyxlLHQsNCw0Mjk0OTY3Mjk1LDApLEIuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1t0XT1lPj4+MjQsdGhpc1t0KzFdPWU+Pj4xNix0aGlzW3QrMl09ZT4+PjgsdGhpc1t0KzNdPTI1NSZlKTpmZSh0aGlzLGUsdCwhMSksdCs0fSxCLnByb3RvdHlwZS53cml0ZUludExFPWZ1bmN0aW9uKGUsdCxyLGEpe2lmKGU9K2UsdHw9MCwhYSl7dmFyIG49TWF0aC5wb3coMiw4KnItMSk7Y2UodGhpcyxlLHQscixuLTEsLW4pfXZhciBpPTAsdT0xLG89MDtmb3IodGhpc1t0XT0yNTUmZTsrK2k8ciYmKHUqPTI1Nik7KWU8MCYmMD09PW8mJjAhPT10aGlzW3QraS0xXSYmKG89MSksdGhpc1t0K2ldPShlL3U+PjApLW8mMjU1O3JldHVybiB0K3J9LEIucHJvdG90eXBlLndyaXRlSW50QkU9ZnVuY3Rpb24oZSx0LHIsYSl7aWYoZT0rZSx0fD0wLCFhKXt2YXIgbj1NYXRoLnBvdygyLDgqci0xKTtjZSh0aGlzLGUsdCxyLG4tMSwtbil9dmFyIGk9ci0xLHU9MSxvPTA7Zm9yKHRoaXNbdCtpXT0yNTUmZTstLWk+PTAmJih1Kj0yNTYpOyllPDAmJjA9PT1vJiYwIT09dGhpc1t0K2krMV0mJihvPTEpLHRoaXNbdCtpXT0oZS91Pj4wKS1vJjI1NTtyZXR1cm4gdCtyfSxCLnByb3RvdHlwZS53cml0ZUludDg9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPStlLHR8PTAscnx8Y2UodGhpcyxlLHQsMSwxMjcsLTEyOCksQi5UWVBFRF9BUlJBWV9TVVBQT1JUfHwoZT1NYXRoLmZsb29yKGUpKSxlPDAmJihlPTI1NStlKzEpLHRoaXNbdF09MjU1JmUsdCsxfSxCLnByb3RvdHlwZS53cml0ZUludDE2TEU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPStlLHR8PTAscnx8Y2UodGhpcyxlLHQsMiwzMjc2NywtMzI3NjgpLEIuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1t0XT0yNTUmZSx0aGlzW3QrMV09ZT4+PjgpOmRlKHRoaXMsZSx0LCEwKSx0KzJ9LEIucHJvdG90eXBlLndyaXRlSW50MTZCRT1mdW5jdGlvbihlLHQscil7cmV0dXJuIGU9K2UsdHw9MCxyfHxjZSh0aGlzLGUsdCwyLDMyNzY3LC0zMjc2OCksQi5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW3RdPWU+Pj44LHRoaXNbdCsxXT0yNTUmZSk6ZGUodGhpcyxlLHQsITEpLHQrMn0sQi5wcm90b3R5cGUud3JpdGVJbnQzMkxFPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZT0rZSx0fD0wLHJ8fGNlKHRoaXMsZSx0LDQsMjE0NzQ4MzY0NywtMjE0NzQ4MzY0OCksQi5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW3RdPTI1NSZlLHRoaXNbdCsxXT1lPj4+OCx0aGlzW3QrMl09ZT4+PjE2LHRoaXNbdCszXT1lPj4+MjQpOmZlKHRoaXMsZSx0LCEwKSx0KzR9LEIucHJvdG90eXBlLndyaXRlSW50MzJCRT1mdW5jdGlvbihlLHQscil7cmV0dXJuIGU9K2UsdHw9MCxyfHxjZSh0aGlzLGUsdCw0LDIxNDc0ODM2NDcsLTIxNDc0ODM2NDgpLGU8MCYmKGU9NDI5NDk2NzI5NStlKzEpLEIuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1t0XT1lPj4+MjQsdGhpc1t0KzFdPWU+Pj4xNix0aGlzW3QrMl09ZT4+PjgsdGhpc1t0KzNdPTI1NSZlKTpmZSh0aGlzLGUsdCwhMSksdCs0fSxCLnByb3RvdHlwZS53cml0ZUZsb2F0TEU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBtZSh0aGlzLGUsdCwhMCxyKX0sQi5wcm90b3R5cGUud3JpdGVGbG9hdEJFPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbWUodGhpcyxlLHQsITEscil9LEIucHJvdG90eXBlLndyaXRlRG91YmxlTEU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBfZSh0aGlzLGUsdCwhMCxyKX0sQi5wcm90b3R5cGUud3JpdGVEb3VibGVCRT1mdW5jdGlvbihlLHQscil7cmV0dXJuIF9lKHRoaXMsZSx0LCExLHIpfSxCLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKGUsdCxyLGEpe2lmKHJ8fChyPTApLGF8fDA9PT1hfHwoYT10aGlzLmxlbmd0aCksdD49ZS5sZW5ndGgmJih0PWUubGVuZ3RoKSx0fHwodD0wKSxhPjAmJmE8ciYmKGE9ciksYT09PXIpcmV0dXJuIDA7aWYoMD09PWUubGVuZ3RofHwwPT09dGhpcy5sZW5ndGgpcmV0dXJuIDA7aWYodDwwKXRocm93IG5ldyBSYW5nZUVycm9yKCJ0YXJnZXRTdGFydCBvdXQgb2YgYm91bmRzIik7aWYocjwwfHxyPj10aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigic291cmNlU3RhcnQgb3V0IG9mIGJvdW5kcyIpO2lmKGE8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigic291cmNlRW5kIG91dCBvZiBib3VuZHMiKTthPnRoaXMubGVuZ3RoJiYoYT10aGlzLmxlbmd0aCksZS5sZW5ndGgtdDxhLXImJihhPWUubGVuZ3RoLXQrcik7dmFyIG4saT1hLXI7aWYodGhpcz09PWUmJnI8dCYmdDxhKWZvcihuPWktMTtuPj0wOy0tbillW24rdF09dGhpc1tuK3JdO2Vsc2UgaWYoaTwxZTN8fCFCLlRZUEVEX0FSUkFZX1NVUFBPUlQpZm9yKG49MDtuPGk7KytuKWVbbit0XT10aGlzW24rcl07ZWxzZSBVaW50OEFycmF5LnByb3RvdHlwZS5zZXQuY2FsbChlLHRoaXMuc3ViYXJyYXkocixyK2kpLHQpO3JldHVybiBpfSxCLnByb3RvdHlwZS5maWxsPWZ1bmN0aW9uKGUsdCxyLGEpe2lmKCJzdHJpbmciPT10eXBlb2YgZSl7aWYoInN0cmluZyI9PXR5cGVvZiB0PyhhPXQsdD0wLHI9dGhpcy5sZW5ndGgpOiJzdHJpbmciPT10eXBlb2YgciYmKGE9cixyPXRoaXMubGVuZ3RoKSwxPT09ZS5sZW5ndGgpe3ZhciBuPWUuY2hhckNvZGVBdCgwKTtuPDI1NiYmKGU9bil9aWYodm9pZCAwIT09YSYmInN0cmluZyIhPXR5cGVvZiBhKXRocm93IG5ldyBUeXBlRXJyb3IoImVuY29kaW5nIG11c3QgYmUgYSBzdHJpbmciKTtpZigic3RyaW5nIj09dHlwZW9mIGEmJiFCLmlzRW5jb2RpbmcoYSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiVW5rbm93biBlbmNvZGluZzogIithKX1lbHNlIm51bWJlciI9PXR5cGVvZiBlJiYoZSY9MjU1KTtpZih0PDB8fHRoaXMubGVuZ3RoPHR8fHRoaXMubGVuZ3RoPHIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIk91dCBvZiByYW5nZSBpbmRleCIpO2lmKHI8PXQpcmV0dXJuIHRoaXM7dmFyIGk7aWYodD4+Pj0wLHI9dm9pZCAwPT09cj90aGlzLmxlbmd0aDpyPj4+MCxlfHwoZT0wKSwibnVtYmVyIj09dHlwZW9mIGUpZm9yKGk9dDtpPHI7KytpKXRoaXNbaV09ZTtlbHNle3ZhciB1PSQoZSk/ZTp3ZShuZXcgQihlLGEpLnRvU3RyaW5nKCkpLG89dS5sZW5ndGg7Zm9yKGk9MDtpPHItdDsrK2kpdGhpc1tpK3RdPXVbaSVvXX1yZXR1cm4gdGhpc307dmFyIGdlPS9bXitcLzAtOUEtWmEtei1fXS9nO2Z1bmN0aW9uIGJlKGUpe3JldHVybiBlPDE2PyIwIitlLnRvU3RyaW5nKDE2KTplLnRvU3RyaW5nKDE2KX1mdW5jdGlvbiB3ZShlLHQpe3ZhciByO3Q9dHx8MS8wO2Zvcih2YXIgYT1lLmxlbmd0aCxuPW51bGwsaT1bXSx1PTA7dTxhOysrdSl7aWYoKHI9ZS5jaGFyQ29kZUF0KHUpKT41NTI5NSYmcjw1NzM0NCl7aWYoIW4pe2lmKHI+NTYzMTkpeyh0LT0zKT4tMSYmaS5wdXNoKDIzOSwxOTEsMTg5KTtjb250aW51ZX1pZih1KzE9PT1hKXsodC09Myk+LTEmJmkucHVzaCgyMzksMTkxLDE4OSk7Y29udGludWV9bj1yO2NvbnRpbnVlfWlmKHI8NTYzMjApeyh0LT0zKT4tMSYmaS5wdXNoKDIzOSwxOTEsMTg5KSxuPXI7Y29udGludWV9cj02NTUzNisobi01NTI5Njw8MTB8ci01NjMyMCl9ZWxzZSBuJiYodC09Myk+LTEmJmkucHVzaCgyMzksMTkxLDE4OSk7aWYobj1udWxsLHI8MTI4KXtpZigodC09MSk8MClicmVhaztpLnB1c2gocil9ZWxzZSBpZihyPDIwNDgpe2lmKCh0LT0yKTwwKWJyZWFrO2kucHVzaChyPj42fDE5Miw2MyZyfDEyOCl9ZWxzZSBpZihyPDY1NTM2KXtpZigodC09Myk8MClicmVhaztpLnB1c2gocj4+MTJ8MjI0LHI+PjYmNjN8MTI4LDYzJnJ8MTI4KX1lbHNle2lmKCEocjwxMTE0MTEyKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgY29kZSBwb2ludCIpO2lmKCh0LT00KTwwKWJyZWFrO2kucHVzaChyPj4xOHwyNDAscj4+MTImNjN8MTI4LHI+PjYmNjN8MTI4LDYzJnJ8MTI4KX19cmV0dXJuIGl9ZnVuY3Rpb24geWUoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0LHIsYSxuLGksdTtNfHxPKCk7dmFyIG89ZS5sZW5ndGg7aWYobyU0PjApdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHN0cmluZy4gTGVuZ3RoIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA0Iik7aT0iPSI9PT1lW28tMl0/MjoiPSI9PT1lW28tMV0/MTowLHU9bmV3IFIoMypvLzQtaSksYT1pPjA/by00Om87dmFyIHM9MDtmb3IodD0wLHI9MDt0PGE7dCs9NCxyKz0zKW49QVtlLmNoYXJDb2RlQXQodCldPDwxOHxBW2UuY2hhckNvZGVBdCh0KzEpXTw8MTJ8QVtlLmNoYXJDb2RlQXQodCsyKV08PDZ8QVtlLmNoYXJDb2RlQXQodCszKV0sdVtzKytdPW4+PjE2JjI1NSx1W3MrK109bj4+OCYyNTUsdVtzKytdPTI1NSZuO3JldHVybiAyPT09aT8obj1BW2UuY2hhckNvZGVBdCh0KV08PDJ8QVtlLmNoYXJDb2RlQXQodCsxKV0+PjQsdVtzKytdPTI1NSZuKToxPT09aSYmKG49QVtlLmNoYXJDb2RlQXQodCldPDwxMHxBW2UuY2hhckNvZGVBdCh0KzEpXTw8NHxBW2UuY2hhckNvZGVBdCh0KzIpXT4+Mix1W3MrK109bj4+OCYyNTUsdVtzKytdPTI1NSZuKSx1fShmdW5jdGlvbihlKXtpZigoZT1mdW5jdGlvbihlKXtyZXR1cm4gZS50cmltP2UudHJpbSgpOmUucmVwbGFjZSgvXlxzK3xccyskL2csIiIpfShlKS5yZXBsYWNlKGdlLCIiKSkubGVuZ3RoPDIpcmV0dXJuIiI7Zm9yKDtlLmxlbmd0aCU0IT0wOyllKz0iPSI7cmV0dXJuIGV9KGUpKX1mdW5jdGlvbiB2ZShlLHQscixhKXtmb3IodmFyIG49MDtuPGEmJiEobityPj10Lmxlbmd0aHx8bj49ZS5sZW5ndGgpOysrbil0W24rcl09ZVtuXTtyZXR1cm4gbn1mdW5jdGlvbiBFZShlKXtyZXR1cm4hIWUuY29uc3RydWN0b3ImJiJmdW5jdGlvbiI9PXR5cGVvZiBlLmNvbnN0cnVjdG9yLmlzQnVmZmVyJiZlLmNvbnN0cnVjdG9yLmlzQnVmZmVyKGUpfSJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmJiZzZWxmO2Z1bmN0aW9uIExlKGUpe3Rocm93IG5ldyBFcnJvcignQ291bGQgbm90IGR5bmFtaWNhbGx5IHJlcXVpcmUgIicrZSsnIi4gUGxlYXNlIGNvbmZpZ3VyZSB0aGUgZHluYW1pY1JlcXVpcmVUYXJnZXRzIG9yL2FuZCBpZ25vcmVEeW5hbWljUmVxdWlyZXMgb3B0aW9uIG9mIEByb2xsdXAvcGx1Z2luLWNvbW1vbmpzIGFwcHJvcHJpYXRlbHkgZm9yIHRoaXMgcmVxdWlyZSBjYWxsIHRvIHdvcmsuJyl9dmFyIFRlPXtleHBvcnRzOnt9fTshZnVuY3Rpb24odCl7dmFyIHI9InVuZGVmaW5lZCIhPXR5cGVvZiBkb2N1bWVudD9kb2N1bWVudC5jdXJyZW50U2NyaXB0Om51bGw7dC5MdWFSZXR1cm49dm9pZCAwLGZ1bmN0aW9uKGUpe2VbZS5Paz0wXT0iT2siLGVbZS5ZaWVsZD0xXT0iWWllbGQiLGVbZS5FcnJvclJ1bj0yXT0iRXJyb3JSdW4iLGVbZS5FcnJvclN5bnRheD0zXT0iRXJyb3JTeW50YXgiLGVbZS5FcnJvck1lbT00XT0iRXJyb3JNZW0iLGVbZS5FcnJvckVycj01XT0iRXJyb3JFcnIiLGVbZS5FcnJvckZpbGU9Nl09IkVycm9yRmlsZSJ9KHQuTHVhUmV0dXJufHwodC5MdWFSZXR1cm49e30pKTtjb25zdCBhPTQsbj0tMSxpPTFlNix1PS1pLTFlMzt0Lkx1YVR5cGU9dm9pZCAwLGZ1bmN0aW9uKGUpe2VbZS5Ob25lPS0xXT0iTm9uZSIsZVtlLk5pbD0wXT0iTmlsIixlW2UuQm9vbGVhbj0xXT0iQm9vbGVhbiIsZVtlLkxpZ2h0VXNlcmRhdGE9Ml09IkxpZ2h0VXNlcmRhdGEiLGVbZS5OdW1iZXI9M109Ik51bWJlciIsZVtlLlN0cmluZz00XT0iU3RyaW5nIixlW2UuVGFibGU9NV09IlRhYmxlIixlW2UuRnVuY3Rpb249Nl09IkZ1bmN0aW9uIixlW2UuVXNlcmRhdGE9N109IlVzZXJkYXRhIixlW2UuVGhyZWFkPThdPSJUaHJlYWQifSh0Lkx1YVR5cGV8fCh0Lkx1YVR5cGU9e30pKSx0Lkx1YUV2ZW50Q29kZXM9dm9pZCAwLGZ1bmN0aW9uKGUpe2VbZS5DYWxsPTBdPSJDYWxsIixlW2UuUmV0PTFdPSJSZXQiLGVbZS5MaW5lPTJdPSJMaW5lIixlW2UuQ291bnQ9M109IkNvdW50IixlW2UuVGFpbENhbGw9NF09IlRhaWxDYWxsIn0odC5MdWFFdmVudENvZGVzfHwodC5MdWFFdmVudENvZGVzPXt9KSksdC5MdWFFdmVudE1hc2tzPXZvaWQgMCxmdW5jdGlvbihlKXtlW2UuQ2FsbD0xXT0iQ2FsbCIsZVtlLlJldD0yXT0iUmV0IixlW2UuTGluZT00XT0iTGluZSIsZVtlLkNvdW50PThdPSJDb3VudCJ9KHQuTHVhRXZlbnRNYXNrc3x8KHQuTHVhRXZlbnRNYXNrcz17fSkpLHQuTHVhTGlicmFyaWVzPXZvaWQgMCxmdW5jdGlvbihlKXtlLkJhc2U9Il9HIixlLkNvcm91dGluZT0iY29yb3V0aW5lIixlLlRhYmxlPSJ0YWJsZSIsZS5JTz0iaW8iLGUuT1M9Im9zIixlLlN0cmluZz0ic3RyaW5nIixlLlVURjg9InV0ZjgiLGUuTWF0aD0ibWF0aCIsZS5EZWJ1Zz0iZGVidWciLGUuUGFja2FnZT0icGFja2FnZSJ9KHQuTHVhTGlicmFyaWVzfHwodC5MdWFMaWJyYXJpZXM9e30pKTtjbGFzcyBvIGV4dGVuZHMgRXJyb3J7fWNsYXNzIHN7Y29uc3RydWN0b3IoZSx0KXt0aGlzLnRhcmdldD1lLHRoaXMub3B0aW9ucz10fX1mdW5jdGlvbiBsKGUsdCl7cmV0dXJuIG5ldyBzKGUsdCl9Y2xhc3MgaCBleHRlbmRzIE51bWJlcnt9Y2xhc3MgYyBleHRlbmRzIEFycmF5e31jb25zdCBkPTFlMztjbGFzcyBme2NvbnN0cnVjdG9yKGUsdCxyLGEpe3RoaXMuY2xvc2VkPSExLHRoaXMubHVhPWUsdGhpcy50eXBlRXh0ZW5zaW9ucz10LHRoaXMuYWRkcmVzcz1yLHRoaXMucGFyZW50PWF9bmV3VGhyZWFkKCl7Y29uc3QgZT10aGlzLmx1YS5sdWFfbmV3dGhyZWFkKHRoaXMuYWRkcmVzcyk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJsdWFfbmV3dGhyZWFkIHJldHVybmVkIGEgbnVsbCBwb2ludGVyIik7cmV0dXJuIG5ldyBmKHRoaXMubHVhLHRoaXMudHlwZUV4dGVuc2lvbnMsZSx0aGlzLnBhcmVudHx8dGhpcyl9cmVzZXRUaHJlYWQoKXt0aGlzLmFzc2VydE9rKHRoaXMubHVhLmx1YV9yZXNldHRocmVhZCh0aGlzLmFkZHJlc3MpKX1sb2FkU3RyaW5nKGUsdCl7Y29uc3Qgcj10aGlzLmx1YS5tb2R1bGUubGVuZ3RoQnl0ZXNVVEY4KGUpLGE9cisxLG49dGhpcy5sdWEubW9kdWxlLl9tYWxsb2MoYSk7dHJ5e3RoaXMubHVhLm1vZHVsZS5zdHJpbmdUb1VURjgoZSxuLGEpLHRoaXMuYXNzZXJ0T2sodGhpcy5sdWEubHVhTF9sb2FkYnVmZmVyeCh0aGlzLmFkZHJlc3MsbixyLG51bGwhPXQ/dDpuLG51bGwpKX1maW5hbGx5e3RoaXMubHVhLm1vZHVsZS5fZnJlZShuKX19bG9hZEZpbGUoZSl7dGhpcy5hc3NlcnRPayh0aGlzLmx1YS5sdWFMX2xvYWRmaWxleCh0aGlzLmFkZHJlc3MsZSxudWxsKSl9cmVzdW1lKGU9MCl7Y29uc3QgdD10aGlzLmx1YS5tb2R1bGUuX21hbGxvYyhhKTt0cnl7cmV0dXJuIHRoaXMubHVhLm1vZHVsZS5zZXRWYWx1ZSh0LDAsImkzMiIpLHtyZXN1bHQ6dGhpcy5sdWEubHVhX3Jlc3VtZSh0aGlzLmFkZHJlc3MsbnVsbCxlLHQpLHJlc3VsdENvdW50OnRoaXMubHVhLm1vZHVsZS5nZXRWYWx1ZSh0LCJpMzIiKX19ZmluYWxseXt0aGlzLmx1YS5tb2R1bGUuX2ZyZWUodCl9fWdldFRvcCgpe3JldHVybiB0aGlzLmx1YS5sdWFfZ2V0dG9wKHRoaXMuYWRkcmVzcyl9c2V0VG9wKGUpe3RoaXMubHVhLmx1YV9zZXR0b3AodGhpcy5hZGRyZXNzLGUpfXJlbW92ZShlKXtyZXR1cm4gdGhpcy5sdWEubHVhX3JlbW92ZSh0aGlzLmFkZHJlc3MsZSl9c2V0RmllbGQoZSx0LHIpe2U9dGhpcy5sdWEubHVhX2Fic2luZGV4KHRoaXMuYWRkcmVzcyxlKSx0aGlzLnB1c2hWYWx1ZShyKSx0aGlzLmx1YS5sdWFfc2V0ZmllbGQodGhpcy5hZGRyZXNzLGUsdCl9YXN5bmMgcnVuKGU9MCxyKXtjb25zdCBhPXRoaXMudGltZW91dDt0cnl7dm9pZCAwIT09KG51bGw9PXI/dm9pZCAwOnIudGltZW91dCkmJnRoaXMuc2V0VGltZW91dChEYXRlLm5vdygpK3IudGltZW91dCk7bGV0IGE9dGhpcy5yZXN1bWUoZSk7Zm9yKDthLnJlc3VsdD09PXQuTHVhUmV0dXJuLllpZWxkOyl7aWYodGhpcy50aW1lb3V0JiZEYXRlLm5vdygpPnRoaXMudGltZW91dCl0aHJvdyBhLnJlc3VsdENvdW50PjAmJnRoaXMucG9wKGEucmVzdWx0Q291bnQpLG5ldyBvKCJ0aHJlYWQgdGltZW91dCBleGNlZWRlZCIpO2lmKGEucmVzdWx0Q291bnQ+MCl7Y29uc3QgZT10aGlzLmdldFZhbHVlKC0xKTt0aGlzLnBvcChhLnJlc3VsdENvdW50KSxlPT09UHJvbWlzZS5yZXNvbHZlKGUpP2F3YWl0IGU6YXdhaXQgbmV3IFByb21pc2UoKGU9PnNldEltbWVkaWF0ZShlKSkpfWVsc2UgYXdhaXQgbmV3IFByb21pc2UoKGU9PnNldEltbWVkaWF0ZShlKSkpO2E9dGhpcy5yZXN1bWUoMCl9cmV0dXJuIHRoaXMuYXNzZXJ0T2soYS5yZXN1bHQpLHRoaXMuZ2V0U3RhY2tWYWx1ZXMoKX1maW5hbGx5e3ZvaWQgMCE9PShudWxsPT1yP3ZvaWQgMDpyLnRpbWVvdXQpJiZ0aGlzLnNldFRpbWVvdXQoYSl9fXJ1blN5bmMoZT0wKXtjb25zdCB0PXRoaXMuZ2V0VG9wKCktZS0xO3JldHVybiB0aGlzLmFzc2VydE9rKHRoaXMubHVhLmx1YV9wY2FsbGsodGhpcy5hZGRyZXNzLGUsbiwwLDAsbnVsbCkpLHRoaXMuZ2V0U3RhY2tWYWx1ZXModCl9cG9wKGU9MSl7dGhpcy5sdWEubHVhX3BvcCh0aGlzLmFkZHJlc3MsZSl9Y2FsbChlLC4uLnIpe2NvbnN0IGE9dGhpcy5sdWEubHVhX2dldGdsb2JhbCh0aGlzLmFkZHJlc3MsZSk7aWYoYSE9PXQuTHVhVHlwZS5GdW5jdGlvbil0aHJvdyBuZXcgRXJyb3IoYEEgZnVuY3Rpb24gb2YgdHlwZSAnJHthfScgd2FzIHB1c2hlZCwgZXhwZWN0ZWQgaXMgJHt0Lkx1YVR5cGUuRnVuY3Rpb259YCk7Zm9yKGNvbnN0IGUgb2Ygcil0aGlzLnB1c2hWYWx1ZShlKTtjb25zdCBpPXRoaXMuZ2V0VG9wKCktci5sZW5ndGgtMTtyZXR1cm4gdGhpcy5sdWEubHVhX2NhbGxrKHRoaXMuYWRkcmVzcyxyLmxlbmd0aCxuLDAsbnVsbCksdGhpcy5nZXRTdGFja1ZhbHVlcyhpKX1nZXRTdGFja1ZhbHVlcyhlPTApe2NvbnN0IHQ9dGhpcy5nZXRUb3AoKS1lLHI9bmV3IGModCk7Zm9yKGxldCBhPTA7YTx0O2ErKylyW2FdPXRoaXMuZ2V0VmFsdWUoZSthKzEpO3JldHVybiByfXN0YXRlVG9UaHJlYWQoZSl7dmFyIHQ7cmV0dXJuIGU9PT0obnVsbD09PSh0PXRoaXMucGFyZW50KXx8dm9pZCAwPT09dD92b2lkIDA6dC5hZGRyZXNzKT90aGlzLnBhcmVudDpuZXcgZih0aGlzLmx1YSx0aGlzLnR5cGVFeHRlbnNpb25zLGUsdGhpcy5wYXJlbnR8fHRoaXMpfXB1c2hWYWx1ZShlLHQpe2NvbnN0IHI9dGhpcy5nZXRWYWx1ZURlY29yYXRpb25zKGUpLGE9ci50YXJnZXQ7aWYoYSBpbnN0YW5jZW9mIGYpcmV0dXJuIHZvaWQoMT09PXRoaXMubHVhLmx1YV9wdXNodGhyZWFkKGEuYWRkcmVzcyl8fHRoaXMubHVhLmx1YV94bW92ZShhLmFkZHJlc3MsdGhpcy5hZGRyZXNzLDEpKTtjb25zdCBuPXRoaXMuZ2V0VG9wKCk7c3dpdGNoKHR5cGVvZiBhKXtjYXNlInVuZGVmaW5lZCI6dGhpcy5sdWEubHVhX3B1c2huaWwodGhpcy5hZGRyZXNzKTticmVhaztjYXNlIm51bWJlciI6TnVtYmVyLmlzSW50ZWdlcihhKT90aGlzLmx1YS5sdWFfcHVzaGludGVnZXIodGhpcy5hZGRyZXNzLEJpZ0ludChhKSk6dGhpcy5sdWEubHVhX3B1c2hudW1iZXIodGhpcy5hZGRyZXNzLGEpO2JyZWFrO2Nhc2Uic3RyaW5nIjp0aGlzLmx1YS5sdWFfcHVzaHN0cmluZyh0aGlzLmFkZHJlc3MsYSk7YnJlYWs7Y2FzZSJib29sZWFuIjp0aGlzLmx1YS5sdWFfcHVzaGJvb2xlYW4odGhpcy5hZGRyZXNzLGE/MTowKTticmVhaztkZWZhdWx0OmlmKCF0aGlzLnR5cGVFeHRlbnNpb25zLmZpbmQoKGU9PmUuZXh0ZW5zaW9uLnB1c2hWYWx1ZSh0aGlzLHIsdCkpKSl0aHJvdyBuZXcgRXJyb3IoYFRoZSB0eXBlICcke3R5cGVvZiBhfScgaXMgbm90IHN1cHBvcnRlZCBieSBMdWFgKX1pZihyLm9wdGlvbnMubWV0YXRhYmxlJiZ0aGlzLnNldE1ldGF0YWJsZSgtMSxyLm9wdGlvbnMubWV0YXRhYmxlKSx0aGlzLmdldFRvcCgpIT09bisxKXRocm93IG5ldyBFcnJvcihgcHVzaFZhbHVlIGV4cGVjdGVkIHN0YWNrIHNpemUgJHtuKzF9LCBnb3QgJHt0aGlzLmdldFRvcCgpfWApfXNldE1ldGF0YWJsZShlLHQpe2lmKGU9dGhpcy5sdWEubHVhX2Fic2luZGV4KHRoaXMuYWRkcmVzcyxlKSx0aGlzLmx1YS5sdWFfZ2V0bWV0YXRhYmxlKHRoaXMuYWRkcmVzcyxlKSl7dGhpcy5wb3AoMSk7Y29uc3QgdD10aGlzLmdldE1ldGF0YWJsZU5hbWUoZSk7dGhyb3cgbmV3IEVycm9yKGBkYXRhIGFscmVhZHkgaGFzIGFzc29jaWF0ZWQgbWV0YXRhYmxlOiAke3R8fCJ1bmtub3duIG5hbWUifWApfXRoaXMucHVzaFZhbHVlKHQpLHRoaXMubHVhLmx1YV9zZXRtZXRhdGFibGUodGhpcy5hZGRyZXNzLGUpfWdldE1ldGF0YWJsZU5hbWUoZSl7Y29uc3Qgcj10aGlzLmx1YS5sdWFMX2dldG1ldGFmaWVsZCh0aGlzLmFkZHJlc3MsZSwiX19uYW1lIik7aWYocj09PXQuTHVhVHlwZS5OaWwpcmV0dXJuO2lmKHIhPT10Lkx1YVR5cGUuU3RyaW5nKXJldHVybiB2b2lkIHRoaXMucG9wKDEpO2NvbnN0IGE9dGhpcy5sdWEubHVhX3RvbHN0cmluZyh0aGlzLmFkZHJlc3MsLTEsbnVsbCk7cmV0dXJuIHRoaXMucG9wKDEpLGF9Z2V0VmFsdWUoZSxyLGEpe2U9dGhpcy5sdWEubHVhX2Fic2luZGV4KHRoaXMuYWRkcmVzcyxlKTtjb25zdCBuPW51bGwhPXI/cjp0aGlzLmx1YS5sdWFfdHlwZSh0aGlzLmFkZHJlc3MsZSk7c3dpdGNoKG4pe2Nhc2UgdC5MdWFUeXBlLk5vbmU6cmV0dXJuO2Nhc2UgdC5MdWFUeXBlLk5pbDpyZXR1cm4gbnVsbDtjYXNlIHQuTHVhVHlwZS5OdW1iZXI6cmV0dXJuIHRoaXMubHVhLmx1YV90b251bWJlcngodGhpcy5hZGRyZXNzLGUsbnVsbCk7Y2FzZSB0Lkx1YVR5cGUuU3RyaW5nOnJldHVybiB0aGlzLmx1YS5sdWFfdG9sc3RyaW5nKHRoaXMuYWRkcmVzcyxlLG51bGwpO2Nhc2UgdC5MdWFUeXBlLkJvb2xlYW46cmV0dXJuIEJvb2xlYW4odGhpcy5sdWEubHVhX3RvYm9vbGVhbih0aGlzLmFkZHJlc3MsZSkpO2Nhc2UgdC5MdWFUeXBlLlRocmVhZDpyZXR1cm4gdGhpcy5zdGF0ZVRvVGhyZWFkKHRoaXMubHVhLmx1YV90b3RocmVhZCh0aGlzLmFkZHJlc3MsZSkpO2RlZmF1bHQ6e2xldCByO24hPT10Lkx1YVR5cGUuVGFibGUmJm4hPT10Lkx1YVR5cGUuVXNlcmRhdGF8fChyPXRoaXMuZ2V0TWV0YXRhYmxlTmFtZShlKSk7Y29uc3QgaT10aGlzLnR5cGVFeHRlbnNpb25zLmZpbmQoKHQ9PnQuZXh0ZW5zaW9uLmlzVHlwZSh0aGlzLGUsbixyKSkpO3JldHVybiBpP2kuZXh0ZW5zaW9uLmdldFZhbHVlKHRoaXMsZSxhKTooY29uc29sZS53YXJuKGBUaGUgdHlwZSAnJHt0aGlzLmx1YS5sdWFfdHlwZW5hbWUodGhpcy5hZGRyZXNzLG4pfScgcmV0dXJuZWQgaXMgbm90IHN1cHBvcnRlZCBvbiBKU2ApLG5ldyBoKHRoaXMubHVhLmx1YV90b3BvaW50ZXIodGhpcy5hZGRyZXNzLGUpKSl9fX1jbG9zZSgpe3RoaXMuaXNDbG9zZWQoKXx8KHRoaXMuaG9va0Z1bmN0aW9uUG9pbnRlciYmdGhpcy5sdWEubW9kdWxlLnJlbW92ZUZ1bmN0aW9uKHRoaXMuaG9va0Z1bmN0aW9uUG9pbnRlciksdGhpcy5jbG9zZWQ9ITApfXNldFRpbWVvdXQoZSl7ZSYmZT4wPyh0aGlzLmhvb2tGdW5jdGlvblBvaW50ZXJ8fCh0aGlzLmhvb2tGdW5jdGlvblBvaW50ZXI9dGhpcy5sdWEubW9kdWxlLmFkZEZ1bmN0aW9uKCgoKT0+e0RhdGUubm93KCk+ZSYmKHRoaXMucHVzaFZhbHVlKG5ldyBvKCJ0aHJlYWQgdGltZW91dCBleGNlZWRlZCIpKSx0aGlzLmx1YS5sdWFfZXJyb3IodGhpcy5hZGRyZXNzKSl9KSwidmlpIikpLHRoaXMubHVhLmx1YV9zZXRob29rKHRoaXMuYWRkcmVzcyx0aGlzLmhvb2tGdW5jdGlvblBvaW50ZXIsdC5MdWFFdmVudE1hc2tzLkNvdW50LGQpLHRoaXMudGltZW91dD1lKTp0aGlzLmhvb2tGdW5jdGlvblBvaW50ZXImJih0aGlzLmhvb2tGdW5jdGlvblBvaW50ZXI9dm9pZCAwLHRoaXMudGltZW91dD12b2lkIDAsdGhpcy5sdWEubHVhX3NldGhvb2sodGhpcy5hZGRyZXNzLG51bGwsMCwwKSl9Z2V0VGltZW91dCgpe3JldHVybiB0aGlzLnRpbWVvdXR9Z2V0UG9pbnRlcihlKXtyZXR1cm4gbmV3IGgodGhpcy5sdWEubHVhX3RvcG9pbnRlcih0aGlzLmFkZHJlc3MsZSkpfWlzQ2xvc2VkKCl7dmFyIGU7cmV0dXJuIXRoaXMuYWRkcmVzc3x8dGhpcy5jbG9zZWR8fEJvb2xlYW4obnVsbD09PShlPXRoaXMucGFyZW50KXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5pc0Nsb3NlZCgpKX1pbmRleFRvU3RyaW5nKGUpe2NvbnN0IHQ9dGhpcy5sdWEubHVhTF90b2xzdHJpbmcodGhpcy5hZGRyZXNzLGUsbnVsbCk7cmV0dXJuIHRoaXMucG9wKCksdH1kdW1wU3RhY2soZT1jb25zb2xlLmxvZyl7Y29uc3QgdD10aGlzLmdldFRvcCgpO2ZvcihsZXQgcj0xO3I8PXQ7cisrKXtjb25zdCB0PXRoaXMubHVhLmx1YV90eXBlKHRoaXMuYWRkcmVzcyxyKTtlKHIsdGhpcy5sdWEubHVhX3R5cGVuYW1lKHRoaXMuYWRkcmVzcyx0KSx0aGlzLmdldFBvaW50ZXIociksdGhpcy5pbmRleFRvU3RyaW5nKHIpLHRoaXMuZ2V0VmFsdWUocix0KSl9fWFzc2VydE9rKGUpe2lmKGUhPT10Lkx1YVJldHVybi5PayYmZSE9PXQuTHVhUmV0dXJuLllpZWxkKXtjb25zdCByPXQuTHVhUmV0dXJuW2VdLGE9bmV3IEVycm9yKGBMdWEgRXJyb3IoJHtyfS8ke2V9KWApO2lmKHRoaXMuZ2V0VG9wKCk+MClpZihlPT09dC5MdWFSZXR1cm4uRXJyb3JNZW0pYS5tZXNzYWdlPXRoaXMubHVhLmx1YV90b2xzdHJpbmcodGhpcy5hZGRyZXNzLC0xLG51bGwpO2Vsc2V7Y29uc3QgZT10aGlzLmdldFZhbHVlKC0xKTtlIGluc3RhbmNlb2YgRXJyb3ImJihhLnN0YWNrPWUuc3RhY2spLGEubWVzc2FnZT10aGlzLmluZGV4VG9TdHJpbmcoLTEpfWlmKGUhPT10Lkx1YVJldHVybi5FcnJvck1lbSl0cnl7dGhpcy5sdWEubHVhTF90cmFjZWJhY2sodGhpcy5hZGRyZXNzLHRoaXMuYWRkcmVzcyxudWxsLDEpO2NvbnN0IGU9dGhpcy5sdWEubHVhX3RvbHN0cmluZyh0aGlzLmFkZHJlc3MsLTEsbnVsbCk7InN0YWNrIHRyYWNlYmFjazoiIT09ZS50cmltKCkmJihhLm1lc3NhZ2U9YCR7YS5tZXNzYWdlfVxuJHtlfWApLHRoaXMucG9wKDEpfWNhdGNoKGUpe2NvbnNvbGUud2FybigiRmFpbGVkIHRvIGdlbmVyYXRlIHN0YWNrIHRyYWNlIixlKX10aHJvdyBhfX1nZXRWYWx1ZURlY29yYXRpb25zKGUpe3JldHVybiBlIGluc3RhbmNlb2Ygcz9lOm5ldyBzKGUse30pfX1jbGFzcyBwIGV4dGVuZHMgZntjb25zdHJ1Y3RvcihlLHQpe2lmKHQpe2NvbnN0IHQ9e21lbW9yeVVzZWQ6MH0scj1lLm1vZHVsZS5hZGRGdW5jdGlvbigoKHIsYSxuLGkpPT57aWYoMD09PWkpcmV0dXJuIGEmJih0Lm1lbW9yeVVzZWQtPW4sZS5tb2R1bGUuX2ZyZWUoYSkpLDA7Y29uc3QgdT1hP2ktbjppLG89dC5tZW1vcnlVc2VkK3U7aWYoaT5uJiZ0Lm1lbW9yeU1heCYmbz50Lm1lbW9yeU1heClyZXR1cm4gMDtjb25zdCBzPWUubW9kdWxlLl9yZWFsbG9jKGEsaSk7cmV0dXJuIHMmJih0Lm1lbW9yeVVzZWQ9byksc30pLCJpaWlpaSIpLGE9ZS5sdWFfbmV3c3RhdGUocixudWxsKTtpZighYSl0aHJvdyBlLm1vZHVsZS5yZW1vdmVGdW5jdGlvbihyKSxuZXcgRXJyb3IoImx1YV9uZXdzdGF0ZSByZXR1cm5lZCBhIG51bGwgcG9pbnRlciIpO3N1cGVyKGUsW10sYSksdGhpcy5tZW1vcnlTdGF0cz10LHRoaXMuYWxsb2NhdG9yRnVuY3Rpb25Qb2ludGVyPXJ9ZWxzZSBzdXBlcihlLFtdLGUubHVhTF9uZXdzdGF0ZSgpKTtpZih0aGlzLmlzQ2xvc2VkKCkpdGhyb3cgbmV3IEVycm9yKCJHbG9iYWwgc3RhdGUgY291bGQgbm90IGJlIGNyZWF0ZWQgKHByb2JhYmx5IGR1ZSB0byBsYWNrIG9mIG1lbW9yeSkiKX1jbG9zZSgpe2lmKCF0aGlzLmlzQ2xvc2VkKCkpe3N1cGVyLmNsb3NlKCksdGhpcy5sdWEubHVhX2Nsb3NlKHRoaXMuYWRkcmVzcyksdGhpcy5hbGxvY2F0b3JGdW5jdGlvblBvaW50ZXImJnRoaXMubHVhLm1vZHVsZS5yZW1vdmVGdW5jdGlvbih0aGlzLmFsbG9jYXRvckZ1bmN0aW9uUG9pbnRlcik7Zm9yKGNvbnN0IGUgb2YgdGhpcy50eXBlRXh0ZW5zaW9ucyllLmV4dGVuc2lvbi5jbG9zZSgpfX1yZWdpc3RlclR5cGVFeHRlbnNpb24oZSx0KXt0aGlzLnR5cGVFeHRlbnNpb25zLnB1c2goe2V4dGVuc2lvbjp0LHByaW9yaXR5OmV9KSx0aGlzLnR5cGVFeHRlbnNpb25zLnNvcnQoKChlLHQpPT50LnByaW9yaXR5LWUucHJpb3JpdHkpKX1sb2FkTGlicmFyeShlKXtzd2l0Y2goZSl7Y2FzZSB0Lkx1YUxpYnJhcmllcy5CYXNlOnRoaXMubHVhLmx1YW9wZW5fYmFzZSh0aGlzLmFkZHJlc3MpO2JyZWFrO2Nhc2UgdC5MdWFMaWJyYXJpZXMuQ29yb3V0aW5lOnRoaXMubHVhLmx1YW9wZW5fY29yb3V0aW5lKHRoaXMuYWRkcmVzcyk7YnJlYWs7Y2FzZSB0Lkx1YUxpYnJhcmllcy5UYWJsZTp0aGlzLmx1YS5sdWFvcGVuX3RhYmxlKHRoaXMuYWRkcmVzcyk7YnJlYWs7Y2FzZSB0Lkx1YUxpYnJhcmllcy5JTzp0aGlzLmx1YS5sdWFvcGVuX2lvKHRoaXMuYWRkcmVzcyk7YnJlYWs7Y2FzZSB0Lkx1YUxpYnJhcmllcy5PUzp0aGlzLmx1YS5sdWFvcGVuX29zKHRoaXMuYWRkcmVzcyk7YnJlYWs7Y2FzZSB0Lkx1YUxpYnJhcmllcy5TdHJpbmc6Y2FzZSB0Lkx1YUxpYnJhcmllcy5VVEY4OnRoaXMubHVhLmx1YW9wZW5fc3RyaW5nKHRoaXMuYWRkcmVzcyk7YnJlYWs7Y2FzZSB0Lkx1YUxpYnJhcmllcy5NYXRoOnRoaXMubHVhLmx1YW9wZW5fbWF0aCh0aGlzLmFkZHJlc3MpO2JyZWFrO2Nhc2UgdC5MdWFMaWJyYXJpZXMuRGVidWc6dGhpcy5sdWEubHVhb3Blbl9kZWJ1Zyh0aGlzLmFkZHJlc3MpO2JyZWFrO2Nhc2UgdC5MdWFMaWJyYXJpZXMuUGFja2FnZTp0aGlzLmx1YS5sdWFvcGVuX3BhY2thZ2UodGhpcy5hZGRyZXNzKX10aGlzLmx1YS5sdWFfc2V0Z2xvYmFsKHRoaXMuYWRkcmVzcyxlKX1nZXQoZSl7Y29uc3QgdD10aGlzLmx1YS5sdWFfZ2V0Z2xvYmFsKHRoaXMuYWRkcmVzcyxlKSxyPXRoaXMuZ2V0VmFsdWUoLTEsdCk7cmV0dXJuIHRoaXMucG9wKCkscn1zZXQoZSx0KXt0aGlzLnB1c2hWYWx1ZSh0KSx0aGlzLmx1YS5sdWFfc2V0Z2xvYmFsKHRoaXMuYWRkcmVzcyxlKX1nZXRUYWJsZShlLHIpe2NvbnN0IGE9dGhpcy5nZXRUb3AoKSxuPXRoaXMubHVhLmx1YV9nZXRnbG9iYWwodGhpcy5hZGRyZXNzLGUpO3RyeXtpZihuIT09dC5MdWFUeXBlLlRhYmxlKXRocm93IG5ldyBUeXBlRXJyb3IoYFVuZXhwZWN0ZWQgdHlwZSBpbiAke2V9LiBFeHBlY3RlZCAke3QuTHVhVHlwZVt0Lkx1YVR5cGUuVGFibGVdfS4gR290ICR7dC5MdWFUeXBlW25dfS5gKTtyKGErMSl9ZmluYWxseXt0aGlzLmdldFRvcCgpIT09YSsxJiZjb25zb2xlLndhcm4oYGdldFRhYmxlOiBleHBlY3RlZCBzdGFjayBzaXplICR7YX0gZ290ICR7dGhpcy5nZXRUb3AoKX1gKSx0aGlzLnNldFRvcChhKX19Z2V0TWVtb3J5VXNlZCgpe3JldHVybiB0aGlzLmdldE1lbW9yeVN0YXRzUmVmKCkubWVtb3J5VXNlZH1nZXRNZW1vcnlNYXgoKXtyZXR1cm4gdGhpcy5nZXRNZW1vcnlTdGF0c1JlZigpLm1lbW9yeU1heH1zZXRNZW1vcnlNYXgoZSl7dGhpcy5nZXRNZW1vcnlTdGF0c1JlZigpLm1lbW9yeU1heD1lfWdldE1lbW9yeVN0YXRzUmVmKCl7aWYoIXRoaXMubWVtb3J5U3RhdHMpdGhyb3cgbmV3IEVycm9yKCJNZW1vcnkgYWxsb2NhdGlvbnMgaXMgbm90IGJlaW5nIHRyYWNlZCwgcGxlYXNlIGJ1aWxkIGVuZ2luZSB3aXRoIHsgdHJhY2VBbGxvY2F0aW9uczogdHJ1ZSB9Iik7cmV0dXJuIHRoaXMubWVtb3J5U3RhdHN9fWNsYXNzIG17Y29uc3RydWN0b3IoZSx0KXt0aGlzLnRocmVhZD1lLHRoaXMubmFtZT10fWlzVHlwZShlLHIsYSxuKXtyZXR1cm4gYT09PXQuTHVhVHlwZS5Vc2VyZGF0YSYmbj09PXRoaXMubmFtZX1nZXRWYWx1ZShlLHQscil7Y29uc3QgYT1lLmx1YS5sdWFMX3Rlc3R1ZGF0YShlLmFkZHJlc3MsdCx0aGlzLm5hbWUpO2lmKCFhKXRocm93IG5ldyBFcnJvcihgZGF0YSBkb2VzIG5vdCBoYXZlIHRoZSBleHBlY3RlZCBtZXRhdGFibGU6ICR7dGhpcy5uYW1lfWApO2NvbnN0IG49ZS5sdWEubW9kdWxlLmdldFZhbHVlKGEsIioiKTtyZXR1cm4gZS5sdWEuZ2V0UmVmKG4pfXB1c2hWYWx1ZShlLHIsbil7Y29uc3R7dGFyZ2V0Oml9PXIsdT1lLmx1YS5yZWYoaSksbz1lLmx1YS5sdWFfbmV3dXNlcmRhdGF1dihlLmFkZHJlc3MsYSwwKTtpZihlLmx1YS5tb2R1bGUuc2V0VmFsdWUobyx1LCIqIiksdC5MdWFUeXBlLk5pbD09PWUubHVhLmx1YUxfZ2V0bWV0YXRhYmxlKGUuYWRkcmVzcyx0aGlzLm5hbWUpKXRocm93IGUucG9wKDIpLG5ldyBFcnJvcihgbWV0YXRhYmxlIG5vdCBmb3VuZDogJHt0aGlzLm5hbWV9YCk7cmV0dXJuIGUubHVhLmx1YV9zZXRtZXRhdGFibGUoZS5hZGRyZXNzLC0yKSwhMH19Y2xhc3MgXyBleHRlbmRzIG17Y29uc3RydWN0b3IoZSxyKXtpZihzdXBlcihlLCJqc19lcnJvciIpLHRoaXMuZ2NQb2ludGVyPWUubHVhLm1vZHVsZS5hZGRGdW5jdGlvbigocj0+e2NvbnN0IGE9ZS5sdWEubHVhTF9jaGVja3VkYXRhKHIsMSx0aGlzLm5hbWUpLG49ZS5sdWEubW9kdWxlLmdldFZhbHVlKGEsIioiKTtyZXR1cm4gZS5sdWEudW5yZWYobiksdC5MdWFSZXR1cm4uT2t9KSwiaWkiKSxlLmx1YS5sdWFMX25ld21ldGF0YWJsZShlLmFkZHJlc3MsdGhpcy5uYW1lKSl7Y29uc3QgdD1lLmx1YS5sdWFfZ2V0dG9wKGUuYWRkcmVzcyk7ZS5sdWEubHVhX3B1c2hzdHJpbmcoZS5hZGRyZXNzLCJwcm90ZWN0ZWQgbWV0YXRhYmxlIiksZS5sdWEubHVhX3NldGZpZWxkKGUuYWRkcmVzcyx0LCJfX21ldGF0YWJsZSIpLGUubHVhLmx1YV9wdXNoY2Nsb3N1cmUoZS5hZGRyZXNzLHRoaXMuZ2NQb2ludGVyLDApLGUubHVhLmx1YV9zZXRmaWVsZChlLmFkZHJlc3MsdCwiX19nYyIpLGUucHVzaFZhbHVlKCgoZSx0KT0+Im1lc3NhZ2UiPT09dD9lLm1lc3NhZ2U6bnVsbCkpLGUubHVhLmx1YV9zZXRmaWVsZChlLmFkZHJlc3MsdCwiX19pbmRleCIpLGUucHVzaFZhbHVlKChlPT5lLm1lc3NhZ2UpKSxlLmx1YS5sdWFfc2V0ZmllbGQoZS5hZGRyZXNzLHQsIl9fdG9zdHJpbmciKX1lLmx1YS5sdWFfcG9wKGUuYWRkcmVzcywxKSxyJiZlLnNldCgiRXJyb3IiLHtjcmVhdGU6ZT0+e2lmKGUmJiJzdHJpbmciIT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoIm1lc3NhZ2UgbXVzdCBiZSBhIHN0cmluZyIpO3JldHVybiBuZXcgRXJyb3IoZSl9fSl9cHVzaFZhbHVlKGUsdCl7cmV0dXJuIHQudGFyZ2V0IGluc3RhbmNlb2YgRXJyb3ImJnN1cGVyLnB1c2hWYWx1ZShlLHQpfWNsb3NlKCl7dGhpcy50aHJlYWQubHVhLm1vZHVsZS5yZW1vdmVGdW5jdGlvbih0aGlzLmdjUG9pbnRlcil9fWZ1bmN0aW9uIGcoZSx0KXtyZXR1cm4gbmV3IF8oZSx0KX1jbGFzcyBie2NvbnN0cnVjdG9yKGUpe3RoaXMuY291bnQ9ZX19ZnVuY3Rpb24gdyhlLHQpe3JldHVybiBuZXcgcyhlLHQpfWNsYXNzIHkgZXh0ZW5kcyBte2NvbnN0cnVjdG9yKGUscil7c3VwZXIoZSwianNfZnVuY3Rpb24iKSx0aGlzLmZ1bmN0aW9uUmVnaXN0cnk9InVuZGVmaW5lZCIhPXR5cGVvZiBGaW5hbGl6YXRpb25SZWdpc3RyeT9uZXcgRmluYWxpemF0aW9uUmVnaXN0cnkoKGU9Pnt0aGlzLnRocmVhZC5pc0Nsb3NlZCgpfHx0aGlzLnRocmVhZC5sdWEubHVhTF91bnJlZih0aGlzLnRocmVhZC5hZGRyZXNzLHUsZSl9KSk6dm9pZCAwLHRoaXMub3B0aW9ucz1yLHRoaXMuY2FsbGJhY2tDb250ZXh0PWUubmV3VGhyZWFkKCksdGhpcy5jYWxsYmFja0NvbnRleHRJbmRleD10aGlzLnRocmVhZC5sdWEubHVhTF9yZWYoZS5hZGRyZXNzLHUpLHRoaXMuZnVuY3Rpb25SZWdpc3RyeXx8Y29uc29sZS53YXJuKCJGdW5jdGlvblR5cGVFeHRlbnNpb246IEZpbmFsaXphdGlvblJlZ2lzdHJ5IG5vdCBmb3VuZC4gTWVtb3J5IGxlYWtzIGxpa2VseS4iKSx0aGlzLmdjUG9pbnRlcj1lLmx1YS5tb2R1bGUuYWRkRnVuY3Rpb24oKHI9PntlLmx1YS5sdWFMX2NoZWNrdWRhdGEociwxLHRoaXMubmFtZSk7Y29uc3QgYT1lLmx1YS5sdWFMX2NoZWNrdWRhdGEociwxLHRoaXMubmFtZSksbj1lLmx1YS5tb2R1bGUuZ2V0VmFsdWUoYSwiKiIpO3JldHVybiBlLmx1YS51bnJlZihuKSx0Lkx1YVJldHVybi5Pa30pLCJpaSIpLGUubHVhLmx1YUxfbmV3bWV0YXRhYmxlKGUuYWRkcmVzcyx0aGlzLm5hbWUpJiYoZS5sdWEubHVhX3B1c2hzdHJpbmcoZS5hZGRyZXNzLCJfX2djIiksZS5sdWEubHVhX3B1c2hjY2xvc3VyZShlLmFkZHJlc3MsdGhpcy5nY1BvaW50ZXIsMCksZS5sdWEubHVhX3NldHRhYmxlKGUuYWRkcmVzcywtMyksZS5sdWEubHVhX3B1c2hzdHJpbmcoZS5hZGRyZXNzLCJfX21ldGF0YWJsZSIpLGUubHVhLmx1YV9wdXNoc3RyaW5nKGUuYWRkcmVzcywicHJvdGVjdGVkIG1ldGF0YWJsZSIpLGUubHVhLmx1YV9zZXR0YWJsZShlLmFkZHJlc3MsLTMpKSxlLmx1YS5sdWFfcG9wKGUuYWRkcmVzcywxKSx0aGlzLmZ1bmN0aW9uV3JhcHBlcj1lLmx1YS5tb2R1bGUuYWRkRnVuY3Rpb24oKHQ9Pntjb25zdCByPWUuc3RhdGVUb1RocmVhZCh0KSxhPWUubHVhLmx1YUxfY2hlY2t1ZGF0YSh0LGUubHVhLmx1YV91cHZhbHVlaW5kZXgoMSksdGhpcy5uYW1lKSxuPWUubHVhLm1vZHVsZS5nZXRWYWx1ZShhLCIqIikse3RhcmdldDppLG9wdGlvbnM6dX09ZS5sdWEuZ2V0UmVmKG4pLG89ci5nZXRUb3AoKSxzPVtdO2lmKHUucmVjZWl2ZVRocmVhZCYmcy5wdXNoKHIpLHUucmVjZWl2ZUFyZ3NRdWFudGl0eSlzLnB1c2gobyk7ZWxzZSBmb3IobGV0IGU9MTtlPD1vO2UrKyl7Y29uc3QgdD1yLmdldFZhbHVlKGUpOzE9PT1lJiYobnVsbD09dT92b2lkIDA6dS5zZWxmKSYmdD09PXUuc2VsZnx8cy5wdXNoKHQpfXRyeXtjb25zdCBlPWkuYXBwbHkobnVsbD09dT92b2lkIDA6dS5zZWxmLHMpO2lmKHZvaWQgMD09PWUpcmV0dXJuIDA7aWYoZSBpbnN0YW5jZW9mIGIpcmV0dXJuIGUuY291bnQ7aWYoZSBpbnN0YW5jZW9mIGMpe2Zvcihjb25zdCB0IG9mIGUpci5wdXNoVmFsdWUodCk7cmV0dXJuIGUubGVuZ3RofXJldHVybiByLnB1c2hWYWx1ZShlKSwxfWNhdGNoKGUpe2lmKGU9PT0xLzApdGhyb3cgZTtyZXR1cm4gci5wdXNoVmFsdWUoZSksci5sdWEubHVhX2Vycm9yKHIuYWRkcmVzcyl9fSksImlpIil9Y2xvc2UoKXt0aGlzLnRocmVhZC5sdWEubW9kdWxlLnJlbW92ZUZ1bmN0aW9uKHRoaXMuZ2NQb2ludGVyKSx0aGlzLnRocmVhZC5sdWEubW9kdWxlLnJlbW92ZUZ1bmN0aW9uKHRoaXMuZnVuY3Rpb25XcmFwcGVyKSx0aGlzLmNhbGxiYWNrQ29udGV4dC5jbG9zZSgpLHRoaXMuY2FsbGJhY2tDb250ZXh0Lmx1YS5sdWFMX3VucmVmKHRoaXMuY2FsbGJhY2tDb250ZXh0LmFkZHJlc3MsdSx0aGlzLmNhbGxiYWNrQ29udGV4dEluZGV4KX1pc1R5cGUoZSxyLGEpe3JldHVybiBhPT09dC5MdWFUeXBlLkZ1bmN0aW9ufXB1c2hWYWx1ZShlLHIpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiByLnRhcmdldClyZXR1cm4hMTtjb25zdCBuPWUubHVhLnJlZihyKSxpPWUubHVhLmx1YV9uZXd1c2VyZGF0YXV2KGUuYWRkcmVzcyxhLDApO2lmKGUubHVhLm1vZHVsZS5zZXRWYWx1ZShpLG4sIioiKSx0Lkx1YVR5cGUuTmlsPT09ZS5sdWEubHVhTF9nZXRtZXRhdGFibGUoZS5hZGRyZXNzLHRoaXMubmFtZSkpdGhyb3cgZS5wb3AoMSksZS5sdWEudW5yZWYobiksbmV3IEVycm9yKGBtZXRhdGFibGUgbm90IGZvdW5kOiAke3RoaXMubmFtZX1gKTtyZXR1cm4gZS5sdWEubHVhX3NldG1ldGF0YWJsZShlLmFkZHJlc3MsLTIpLGUubHVhLmx1YV9wdXNoY2Nsb3N1cmUoZS5hZGRyZXNzLHRoaXMuZnVuY3Rpb25XcmFwcGVyLDEpLCEwfWdldFZhbHVlKGUscil7dmFyIGE7ZS5sdWEubHVhX3B1c2h2YWx1ZShlLmFkZHJlc3Mscik7Y29uc3Qgbj1lLmx1YS5sdWFMX3JlZihlLmFkZHJlc3MsdSksaT0oLi4uZSk9Pnt2YXIgcjtpZih0aGlzLmNhbGxiYWNrQ29udGV4dC5pc0Nsb3NlZCgpKXJldHVybiB2b2lkIGNvbnNvbGUud2FybigiVHJpZWQgdG8gY2FsbCBhIGZ1bmN0aW9uIGFmdGVyIGNsb3NpbmcgbHVhIHN0YXRlIik7Y29uc3QgYT10aGlzLmNhbGxiYWNrQ29udGV4dC5uZXdUaHJlYWQoKTt0cnl7Y29uc3QgaT1hLmx1YS5sdWFfcmF3Z2V0aShhLmFkZHJlc3MsdSxCaWdJbnQobikpO2lmKGkhPT10Lkx1YVR5cGUuRnVuY3Rpb24pe2NvbnN0IGU9YS5sdWEubHVhTF9nZXRtZXRhZmllbGQoYS5hZGRyZXNzLC0xLCJfX2NhbGwiKTtpZihhLnBvcCgpLGUhPT10Lkx1YVR5cGUuRnVuY3Rpb24pdGhyb3cgbmV3IEVycm9yKGBBIHZhbHVlIG9mIHR5cGUgJyR7aX0nIHdhcyBwdXNoZWQgYnV0IGl0IGlzIG5vdCBjYWxsYWJsZWApfWZvcihjb25zdCB0IG9mIGUpYS5wdXNoVmFsdWUodCk7KG51bGw9PT0ocj10aGlzLm9wdGlvbnMpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmZ1bmN0aW9uVGltZW91dCkmJmEuc2V0VGltZW91dChEYXRlLm5vdygpK3RoaXMub3B0aW9ucy5mdW5jdGlvblRpbWVvdXQpO2NvbnN0IG89YS5sdWEubHVhX3BjYWxsayhhLmFkZHJlc3MsZS5sZW5ndGgsMSwwLDAsbnVsbCk7aWYobz09PXQuTHVhUmV0dXJuLllpZWxkKXRocm93IG5ldyBFcnJvcigiY2Fubm90IHlpZWxkIGluIGNhbGxiYWNrcyBmcm9tIGphdmFzY3JpcHQiKTtyZXR1cm4gYS5hc3NlcnRPayhvKSxhLmdldFRvcCgpPjA/YS5nZXRWYWx1ZSgtMSk6dm9pZCAwfWZpbmFsbHl7YS5jbG9zZSgpLHRoaXMuY2FsbGJhY2tDb250ZXh0LnBvcCgpfX07cmV0dXJuIG51bGw9PT0oYT10aGlzLmZ1bmN0aW9uUmVnaXN0cnkpfHx2b2lkIDA9PT1hfHxhLnJlZ2lzdGVyKGksbiksaX19ZnVuY3Rpb24gdihlLHQpe3JldHVybiBuZXcgeShlLHQpfWNsYXNzIEUgZXh0ZW5kcyBte2NvbnN0cnVjdG9yKGUpe2lmKHN1cGVyKGUsImpzX251bGwiKSx0aGlzLmdjUG9pbnRlcj1lLmx1YS5tb2R1bGUuYWRkRnVuY3Rpb24oKHI9Pntjb25zdCBhPWUubHVhLmx1YUxfY2hlY2t1ZGF0YShyLDEsdGhpcy5uYW1lKSxuPWUubHVhLm1vZHVsZS5nZXRWYWx1ZShhLCIqIik7cmV0dXJuIGUubHVhLnVucmVmKG4pLHQuTHVhUmV0dXJuLk9rfSksImlpIiksZS5sdWEubHVhTF9uZXdtZXRhdGFibGUoZS5hZGRyZXNzLHRoaXMubmFtZSkpe2NvbnN0IHQ9ZS5sdWEubHVhX2dldHRvcChlLmFkZHJlc3MpO2UubHVhLmx1YV9wdXNoc3RyaW5nKGUuYWRkcmVzcywicHJvdGVjdGVkIG1ldGF0YWJsZSIpLGUubHVhLmx1YV9zZXRmaWVsZChlLmFkZHJlc3MsdCwiX19tZXRhdGFibGUiKSxlLmx1YS5sdWFfcHVzaGNjbG9zdXJlKGUuYWRkcmVzcyx0aGlzLmdjUG9pbnRlciwwKSxlLmx1YS5sdWFfc2V0ZmllbGQoZS5hZGRyZXNzLHQsIl9fZ2MiKSxlLnB1c2hWYWx1ZSgoKCk9Pm51bGwpKSxlLmx1YS5sdWFfc2V0ZmllbGQoZS5hZGRyZXNzLHQsIl9faW5kZXgiKSxlLnB1c2hWYWx1ZSgoKCk9PiJudWxsIikpLGUubHVhLmx1YV9zZXRmaWVsZChlLmFkZHJlc3MsdCwiX190b3N0cmluZyIpLGUucHVzaFZhbHVlKCgoZSx0KT0+ZT09PXQpKSxlLmx1YS5sdWFfc2V0ZmllbGQoZS5hZGRyZXNzLHQsIl9fZXEiKX1lLmx1YS5sdWFfcG9wKGUuYWRkcmVzcywxKSxzdXBlci5wdXNoVmFsdWUoZSxuZXcgcyh7fSx7fSkpLGUubHVhLmx1YV9zZXRnbG9iYWwoZS5hZGRyZXNzLCJudWxsIil9Z2V0VmFsdWUoZSx0KXtpZighZS5sdWEubHVhTF90ZXN0dWRhdGEoZS5hZGRyZXNzLHQsdGhpcy5uYW1lKSl0aHJvdyBuZXcgRXJyb3IoYGRhdGEgZG9lcyBub3QgaGF2ZSB0aGUgZXhwZWN0ZWQgbWV0YXRhYmxlOiAke3RoaXMubmFtZX1gKTtyZXR1cm4gbnVsbH1wdXNoVmFsdWUoZSx0KXtyZXR1cm4gbnVsbD09PShudWxsPT10P3ZvaWQgMDp0LnRhcmdldCkmJihlLmx1YS5sdWFfZ2V0Z2xvYmFsKGUuYWRkcmVzcywibnVsbCIpLCEwKX1jbG9zZSgpe3RoaXMudGhyZWFkLmx1YS5tb2R1bGUucmVtb3ZlRnVuY3Rpb24odGhpcy5nY1BvaW50ZXIpfX1mdW5jdGlvbiBMKGUpe3JldHVybiBuZXcgRShlKX1jbGFzcyBUIGV4dGVuZHMgbXtjb25zdHJ1Y3RvcihlLHIpe2lmKHN1cGVyKGUsImpzX3Byb21pc2UiKSx0aGlzLmdjUG9pbnRlcj1lLmx1YS5tb2R1bGUuYWRkRnVuY3Rpb24oKHI9Pntjb25zdCBhPWUubHVhLmx1YUxfY2hlY2t1ZGF0YShyLDEsdGhpcy5uYW1lKSxuPWUubHVhLm1vZHVsZS5nZXRWYWx1ZShhLCIqIik7cmV0dXJuIGUubHVhLnVucmVmKG4pLHQuTHVhUmV0dXJuLk9rfSksImlpIiksZS5sdWEubHVhTF9uZXdtZXRhdGFibGUoZS5hZGRyZXNzLHRoaXMubmFtZSkpe2NvbnN0IHQ9ZS5sdWEubHVhX2dldHRvcChlLmFkZHJlc3MpO2UubHVhLmx1YV9wdXNoc3RyaW5nKGUuYWRkcmVzcywicHJvdGVjdGVkIG1ldGF0YWJsZSIpLGUubHVhLmx1YV9zZXRmaWVsZChlLmFkZHJlc3MsdCwiX19tZXRhdGFibGUiKSxlLmx1YS5sdWFfcHVzaGNjbG9zdXJlKGUuYWRkcmVzcyx0aGlzLmdjUG9pbnRlciwwKSxlLmx1YS5sdWFfc2V0ZmllbGQoZS5hZGRyZXNzLHQsIl9fZ2MiKTtjb25zdCByPWU9PntpZihQcm9taXNlLnJlc29sdmUoZSkhPT1lJiYiZnVuY3Rpb24iIT10eXBlb2YgZS50aGVuKXRocm93IG5ldyBFcnJvcigicHJvbWlzZSBtZXRob2QgY2FsbGVkIHdpdGhvdXQgc2VsZiBpbnN0YW5jZSIpO3JldHVybiEwfTtlLnB1c2hWYWx1ZSh7bmV4dDooZSwuLi50KT0+cihlKSYmZS50aGVuKC4uLnQpLGNhdGNoOihlLC4uLnQpPT5yKGUpJiZlLmNhdGNoKC4uLnQpLGZpbmFsbHk6KGUsLi4udCk9PnIoZSkmJmUuZmluYWxseSguLi50KSxhd2FpdDp3KCgodCxhKT0+e2lmKHIoYSksdC5hZGRyZXNzPT09ZS5hZGRyZXNzKXRocm93IG5ldyBFcnJvcigiY2Fubm90IGF3YWl0IGluIHRoZSBtYWluIHRocmVhZCIpO2xldCBuO2NvbnN0IGk9YS50aGVuKChlPT57bj17c3RhdHVzOiJmdWxmaWxsZWQiLHZhbHVlOmV9fSkpLmNhdGNoKChlPT57bj17c3RhdHVzOiJyZWplY3RlZCIsdmFsdWU6ZX19KSksdT10aGlzLnRocmVhZC5sdWEubW9kdWxlLmFkZEZ1bmN0aW9uKChyPT57aWYoIW4pcmV0dXJuIGUubHVhLmx1YV95aWVsZGsodC5hZGRyZXNzLDAsMCx1KTt0aGlzLnRocmVhZC5sdWEubW9kdWxlLnJlbW92ZUZ1bmN0aW9uKHUpO2NvbnN0IGE9ZS5zdGF0ZVRvVGhyZWFkKHIpO2lmKCJyZWplY3RlZCI9PT1uLnN0YXR1cylyZXR1cm4gYS5wdXNoVmFsdWUobi52YWx1ZXx8bmV3IEVycm9yKCJwcm9taXNlIHJlamVjdGVkIHdpdGggbm8gZXJyb3IiKSksdGhpcy50aHJlYWQubHVhLmx1YV9lcnJvcihyKTtpZihuLnZhbHVlIGluc3RhbmNlb2YgYilyZXR1cm4gbi52YWx1ZS5jb3VudDtpZihuLnZhbHVlIGluc3RhbmNlb2YgYyl7Zm9yKGNvbnN0IGUgb2Ygbi52YWx1ZSlhLnB1c2hWYWx1ZShlKTtyZXR1cm4gbi52YWx1ZS5sZW5ndGh9cmV0dXJuIGEucHVzaFZhbHVlKG4udmFsdWUpLDF9KSwiaWlpaSIpO3JldHVybiB0LnB1c2hWYWx1ZShpKSxuZXcgYihlLmx1YS5sdWFfeWllbGRrKHQuYWRkcmVzcywxLDAsdSkpfSkse3JlY2VpdmVUaHJlYWQ6ITB9KX0pLGUubHVhLmx1YV9zZXRmaWVsZChlLmFkZHJlc3MsdCwiX19pbmRleCIpLGUucHVzaFZhbHVlKCgoZSx0KT0+ZT09PXQpKSxlLmx1YS5sdWFfc2V0ZmllbGQoZS5hZGRyZXNzLHQsIl9fZXEiKX1lLmx1YS5sdWFfcG9wKGUuYWRkcmVzcywxKSxyJiZlLnNldCgiUHJvbWlzZSIse2NyZWF0ZTplPT5uZXcgUHJvbWlzZShlKSxhbGw6ZT0+e2lmKCFBcnJheS5pc0FycmF5KGUpKXRocm93IG5ldyBFcnJvcigiYXJndW1lbnQgbXVzdCBiZSBhbiBhcnJheSBvZiBwcm9taXNlcyIpO3JldHVybiBQcm9taXNlLmFsbChlLm1hcCgoZT0+UHJvbWlzZS5yZXNvbHZlKGUpKSkpfSxyZXNvbHZlOmU9PlByb21pc2UucmVzb2x2ZShlKX0pfWNsb3NlKCl7dGhpcy50aHJlYWQubHVhLm1vZHVsZS5yZW1vdmVGdW5jdGlvbih0aGlzLmdjUG9pbnRlcil9cHVzaFZhbHVlKGUsdCl7cmV0dXJuKFByb21pc2UucmVzb2x2ZSh0LnRhcmdldCk9PT10LnRhcmdldHx8ImZ1bmN0aW9uIj09dHlwZW9mIHQudGFyZ2V0LnRoZW4pJiZzdXBlci5wdXNoVmFsdWUoZSx0KX19ZnVuY3Rpb24gUyhlLHQpe3JldHVybiBuZXcgVChlLHQpfWZ1bmN0aW9uIEEoZSx0KXtyZXR1cm4gbmV3IHMoZSx0fHx7fSl9Y2xhc3MgUiBleHRlbmRzIG17Y29uc3RydWN0b3IoZSl7aWYoc3VwZXIoZSwianNfcHJveHkiKSx0aGlzLmdjUG9pbnRlcj1lLmx1YS5tb2R1bGUuYWRkRnVuY3Rpb24oKHI9Pntjb25zdCBhPWUubHVhLmx1YUxfY2hlY2t1ZGF0YShyLDEsdGhpcy5uYW1lKSxuPWUubHVhLm1vZHVsZS5nZXRWYWx1ZShhLCIqIik7cmV0dXJuIGUubHVhLnVucmVmKG4pLHQuTHVhUmV0dXJuLk9rfSksImlpIiksZS5sdWEubHVhTF9uZXdtZXRhdGFibGUoZS5hZGRyZXNzLHRoaXMubmFtZSkpe2NvbnN0IHQ9ZS5sdWEubHVhX2dldHRvcChlLmFkZHJlc3MpO2UubHVhLmx1YV9wdXNoc3RyaW5nKGUuYWRkcmVzcywicHJvdGVjdGVkIG1ldGF0YWJsZSIpLGUubHVhLmx1YV9zZXRmaWVsZChlLmFkZHJlc3MsdCwiX19tZXRhdGFibGUiKSxlLmx1YS5sdWFfcHVzaGNjbG9zdXJlKGUuYWRkcmVzcyx0aGlzLmdjUG9pbnRlciwwKSxlLmx1YS5sdWFfc2V0ZmllbGQoZS5hZGRyZXNzLHQsIl9fZ2MiKSxlLnB1c2hWYWx1ZSgoKGUsdCk9Pntzd2l0Y2godHlwZW9mIHQpe2Nhc2UibnVtYmVyIjp0LT0xO2Nhc2Uic3RyaW5nIjpicmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiT25seSBzdHJpbmdzIG9yIG51bWJlcnMgY2FuIGluZGV4IGpzIG9iamVjdHMiKX1jb25zdCByPWVbdF07cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHI/dyhyLHtzZWxmOmV9KTpyfSkpLGUubHVhLmx1YV9zZXRmaWVsZChlLmFkZHJlc3MsdCwiX19pbmRleCIpLGUucHVzaFZhbHVlKCgoZSx0LHIpPT57c3dpdGNoKHR5cGVvZiB0KXtjYXNlIm51bWJlciI6dC09MTtjYXNlInN0cmluZyI6YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoIk9ubHkgc3RyaW5ncyBvciBudW1iZXJzIGNhbiBpbmRleCBqcyBvYmplY3RzIil9ZVt0XT1yfSkpLGUubHVhLmx1YV9zZXRmaWVsZChlLmFkZHJlc3MsdCwiX19uZXdpbmRleCIpLGUucHVzaFZhbHVlKChlPT57dmFyIHQscjtyZXR1cm4gbnVsbCE9PShyPW51bGw9PT0odD1lLnRvU3RyaW5nKXx8dm9pZCAwPT09dD92b2lkIDA6dC5jYWxsKGUpKSYmdm9pZCAwIT09cj9yOnR5cGVvZiBlfSkpLGUubHVhLmx1YV9zZXRmaWVsZChlLmFkZHJlc3MsdCwiX190b3N0cmluZyIpLGUucHVzaFZhbHVlKChlPT5lLmxlbmd0aHx8MCkpLGUubHVhLmx1YV9zZXRmaWVsZChlLmFkZHJlc3MsdCwiX19sZW4iKSxlLnB1c2hWYWx1ZSgoZT0+e2NvbnN0IHQ9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSk7bGV0IHI9MDtyZXR1cm4gYy5vZigoKCk9Pntjb25zdCBhPWMub2YodFtyXSxlW3Rbcl1dKTtyZXR1cm4gcisrLGF9KSxlLG51bGwpfSkpLGUubHVhLmx1YV9zZXRmaWVsZChlLmFkZHJlc3MsdCwiX19wYWlycyIpLGUucHVzaFZhbHVlKCgoZSx0KT0+ZT09PXQpKSxlLmx1YS5sdWFfc2V0ZmllbGQoZS5hZGRyZXNzLHQsIl9fZXEiKSxlLnB1c2hWYWx1ZSgoKGUsLi4udCk9Pih0WzBdPT09ZSYmdC5zaGlmdCgpLGUoLi4udCkpKSksZS5sdWEubHVhX3NldGZpZWxkKGUuYWRkcmVzcyx0LCJfX2NhbGwiKX1lLmx1YS5sdWFfcG9wKGUuYWRkcmVzcywxKX1pc1R5cGUoZSxyLGEsbil7cmV0dXJuIGE9PT10Lkx1YVR5cGUuVXNlcmRhdGEmJm49PT10aGlzLm5hbWV9Z2V0VmFsdWUoZSx0KXtjb25zdCByPWUubHVhLmx1YV90b3VzZXJkYXRhKGUuYWRkcmVzcyx0KSxhPWUubHVhLm1vZHVsZS5nZXRWYWx1ZShyLCIqIik7cmV0dXJuIGUubHVhLmdldFJlZihhKX1wdXNoVmFsdWUoZSx0KXt2YXIgcjtjb25zdHt0YXJnZXQ6YSxvcHRpb25zOm59PXQ7aWYodm9pZCAwPT09bi5wcm94eSl7aWYobnVsbD09YSlyZXR1cm4hMTtpZigib2JqZWN0IiE9dHlwZW9mIGEmJigiZnVuY3Rpb24iIT10eXBlb2YgYXx8KG51bGw9PT0ocj1hLnByb3RvdHlwZSl8fHZvaWQgMD09PXI/dm9pZCAwOnIuY29uc3RydWN0b3IpIT09YXx8IWEudG9TdHJpbmcoKS5zdGFydHNXaXRoKCJjbGFzcyAiKSkpcmV0dXJuITE7aWYoUHJvbWlzZS5yZXNvbHZlKGEpPT09YXx8ImZ1bmN0aW9uIj09dHlwZW9mIGEudGhlbilyZXR1cm4hMX1lbHNlIGlmKCExPT09bi5wcm94eSlyZXR1cm4hMTtyZXR1cm4hbi5tZXRhdGFibGV8fG4ubWV0YXRhYmxlIGluc3RhbmNlb2Ygcz9zdXBlci5wdXNoVmFsdWUoZSx0KToodC5vcHRpb25zLm1ldGF0YWJsZT1BKG4ubWV0YXRhYmxlLHtwcm94eTohMX0pLCExKX1jbG9zZSgpe3RoaXMudGhyZWFkLmx1YS5tb2R1bGUucmVtb3ZlRnVuY3Rpb24odGhpcy5nY1BvaW50ZXIpfX1mdW5jdGlvbiBNKGUpe3JldHVybiBuZXcgUihlKX1jbGFzcyBPIGV4dGVuZHMgbXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlLCJqc190YWJsZSIpfWNsb3NlKCl7fWlzVHlwZShlLHIsYSl7cmV0dXJuIGE9PT10Lkx1YVR5cGUuVGFibGV9Z2V0VmFsdWUoZSx0LHIpe2NvbnN0IGE9cnx8bmV3IE1hcCxuPWUubHVhLmx1YV90b3BvaW50ZXIoZS5hZGRyZXNzLHQpO2xldCBpPWEuZ2V0KG4pO2lmKCFpKXtjb25zdCByPXRoaXMucmVhZFRhYmxlS2V5cyhlLHQpLHU9ci5sZW5ndGg+MCYmci5ldmVyeSgoKGUsdCk9PmU9PT1TdHJpbmcodCsxKSkpO2k9dT9bXTp7fSxhLnNldChuLGkpLHRoaXMucmVhZFRhYmxlVmFsdWVzKGUsdCxhLGkpfXJldHVybiBpfXB1c2hWYWx1ZShlLHt0YXJnZXQ6dH0scil7aWYoIm9iamVjdCIhPXR5cGVvZiB0fHxudWxsPT09dClyZXR1cm4hMTtjb25zdCBhPXJ8fG5ldyBNYXAsbj1hLmdldCh0KTtpZih2b2lkIDAhPT1uKXJldHVybiBlLmx1YS5sdWFfcmF3Z2V0aShlLmFkZHJlc3MsdSxCaWdJbnQobikpLCEwO3RyeXtjb25zdCByPWUuZ2V0VG9wKCkrMSxuPShyLG4pPT57ZS5sdWEubHVhX2NyZWF0ZXRhYmxlKGUuYWRkcmVzcyxyLG4pO2NvbnN0IGk9ZS5sdWEubHVhTF9yZWYoZS5hZGRyZXNzLHUpO2Euc2V0KHQsaSksZS5sdWEubHVhX3Jhd2dldGkoZS5hZGRyZXNzLHUsQmlnSW50KGkpKX07aWYoQXJyYXkuaXNBcnJheSh0KSl7bih0Lmxlbmd0aCwwKTtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyllLnB1c2hWYWx1ZShuKzEsYSksZS5wdXNoVmFsdWUodFtuXSxhKSxlLmx1YS5sdWFfc2V0dGFibGUoZS5hZGRyZXNzLHIpfWVsc2V7bigwLE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpLmxlbmd0aCk7Zm9yKGNvbnN0IG4gaW4gdCllLnB1c2hWYWx1ZShuLGEpLGUucHVzaFZhbHVlKHRbbl0sYSksZS5sdWEubHVhX3NldHRhYmxlKGUuYWRkcmVzcyxyKX19ZmluYWxseXtpZih2b2lkIDA9PT1yKWZvcihjb25zdCB0IG9mIGEudmFsdWVzKCkpZS5sdWEubHVhTF91bnJlZihlLmFkZHJlc3MsdSx0KX1yZXR1cm4hMH1yZWFkVGFibGVLZXlzKGUsdCl7Y29uc3Qgcj1bXTtmb3IoZS5sdWEubHVhX3B1c2huaWwoZS5hZGRyZXNzKTtlLmx1YS5sdWFfbmV4dChlLmFkZHJlc3MsdCk7KXtjb25zdCB0PWUuaW5kZXhUb1N0cmluZygtMik7ci5wdXNoKHQpLGUucG9wKCl9cmV0dXJuIHJ9cmVhZFRhYmxlVmFsdWVzKGUsdCxyLGEpe2NvbnN0IG49QXJyYXkuaXNBcnJheShhKTtmb3IoZS5sdWEubHVhX3B1c2huaWwoZS5hZGRyZXNzKTtlLmx1YS5sdWFfbmV4dChlLmFkZHJlc3MsdCk7KXtjb25zdCB0PWUuaW5kZXhUb1N0cmluZygtMiksaT1lLmdldFZhbHVlKC0xLHZvaWQgMCxyKTtuP2EucHVzaChpKTphW3RdPWksZS5wb3AoKX19fWZ1bmN0aW9uIEYoZSl7cmV0dXJuIG5ldyBPKGUpfWZ1bmN0aW9uIHgoZSl7cmV0dXJuIG5ldyBzKGUse3JlZmVyZW5jZTohMH0pfWNsYXNzIFAgZXh0ZW5kcyBte2NvbnN0cnVjdG9yKGUpe2lmKHN1cGVyKGUsImpzX3VzZXJkYXRhIiksdGhpcy5nY1BvaW50ZXI9ZS5sdWEubW9kdWxlLmFkZEZ1bmN0aW9uKChyPT57Y29uc3QgYT1lLmx1YS5sdWFMX2NoZWNrdWRhdGEociwxLHRoaXMubmFtZSksbj1lLmx1YS5tb2R1bGUuZ2V0VmFsdWUoYSwiKiIpO3JldHVybiBlLmx1YS51bnJlZihuKSx0Lkx1YVJldHVybi5Pa30pLCJpaSIpLGUubHVhLmx1YUxfbmV3bWV0YXRhYmxlKGUuYWRkcmVzcyx0aGlzLm5hbWUpKXtjb25zdCB0PWUubHVhLmx1YV9nZXR0b3AoZS5hZGRyZXNzKTtlLmx1YS5sdWFfcHVzaHN0cmluZyhlLmFkZHJlc3MsInByb3RlY3RlZCBtZXRhdGFibGUiKSxlLmx1YS5sdWFfc2V0ZmllbGQoZS5hZGRyZXNzLHQsIl9fbWV0YXRhYmxlIiksZS5sdWEubHVhX3B1c2hjY2xvc3VyZShlLmFkZHJlc3MsdGhpcy5nY1BvaW50ZXIsMCksZS5sdWEubHVhX3NldGZpZWxkKGUuYWRkcmVzcyx0LCJfX2djIil9ZS5sdWEubHVhX3BvcChlLmFkZHJlc3MsMSl9aXNUeXBlKGUscixhLG4pe3JldHVybiBhPT09dC5MdWFUeXBlLlVzZXJkYXRhJiZuPT09dGhpcy5uYW1lfWdldFZhbHVlKGUsdCl7Y29uc3Qgcj1lLmx1YS5sdWFfdG91c2VyZGF0YShlLmFkZHJlc3MsdCksYT1lLmx1YS5tb2R1bGUuZ2V0VmFsdWUociwiKiIpO3JldHVybiBlLmx1YS5nZXRSZWYoYSl9cHVzaFZhbHVlKGUsdCl7cmV0dXJuISF0Lm9wdGlvbnMucmVmZXJlbmNlJiZzdXBlci5wdXNoVmFsdWUoZSx0KX1jbG9zZSgpe3RoaXMudGhyZWFkLmx1YS5tb2R1bGUucmVtb3ZlRnVuY3Rpb24odGhpcy5nY1BvaW50ZXIpfX1mdW5jdGlvbiBJKGUpe3JldHVybiBuZXcgUChlKX1jbGFzcyBOe2NvbnN0cnVjdG9yKGUse29wZW5TdGFuZGFyZExpYnM6dD0hMCxpbmplY3RPYmplY3RzOnI9ITEsZW5hYmxlUHJveHk6YT0hMCx0cmFjZUFsbG9jYXRpb25zOm49ITEsZnVuY3Rpb25UaW1lb3V0Oml9PXt9KXt0aGlzLmNtb2R1bGU9ZSx0aGlzLmdsb2JhbD1uZXcgcCh0aGlzLmNtb2R1bGUsbiksdGhpcy5nbG9iYWwucmVnaXN0ZXJUeXBlRXh0ZW5zaW9uKDAsRih0aGlzLmdsb2JhbCkpLHRoaXMuZ2xvYmFsLnJlZ2lzdGVyVHlwZUV4dGVuc2lvbigwLHYodGhpcy5nbG9iYWwse2Z1bmN0aW9uVGltZW91dDppfSkpLHRoaXMuZ2xvYmFsLnJlZ2lzdGVyVHlwZUV4dGVuc2lvbigxLFModGhpcy5nbG9iYWwscikpLHImJnRoaXMuZ2xvYmFsLnJlZ2lzdGVyVHlwZUV4dGVuc2lvbig1LEwodGhpcy5nbG9iYWwpKSxhP3RoaXMuZ2xvYmFsLnJlZ2lzdGVyVHlwZUV4dGVuc2lvbigzLE0odGhpcy5nbG9iYWwpKTp0aGlzLmdsb2JhbC5yZWdpc3RlclR5cGVFeHRlbnNpb24oMSxnKHRoaXMuZ2xvYmFsLHIpKSx0aGlzLmdsb2JhbC5yZWdpc3RlclR5cGVFeHRlbnNpb24oNCxJKHRoaXMuZ2xvYmFsKSksdCYmdGhpcy5jbW9kdWxlLmx1YUxfb3BlbmxpYnModGhpcy5nbG9iYWwuYWRkcmVzcyl9ZG9TdHJpbmcoZSl7cmV0dXJuIHRoaXMuY2FsbEJ5dGVDb2RlKCh0PT50LmxvYWRTdHJpbmcoZSkpKX1kb0ZpbGUoZSl7cmV0dXJuIHRoaXMuY2FsbEJ5dGVDb2RlKCh0PT50LmxvYWRGaWxlKGUpKSl9ZG9TdHJpbmdTeW5jKGUpe3JldHVybiB0aGlzLmdsb2JhbC5sb2FkU3RyaW5nKGUpLHRoaXMuZ2xvYmFsLnJ1blN5bmMoKVswXX1kb0ZpbGVTeW5jKGUpe3JldHVybiB0aGlzLmdsb2JhbC5sb2FkRmlsZShlKSx0aGlzLmdsb2JhbC5ydW5TeW5jKClbMF19YXN5bmMgY2FsbEJ5dGVDb2RlKGUpe2NvbnN0IHQ9dGhpcy5nbG9iYWwubmV3VGhyZWFkKCkscj10aGlzLmdsb2JhbC5nZXRUb3AoKTt0cnl7ZSh0KTtjb25zdCByPWF3YWl0IHQucnVuKDApO3JldHVybiByLmxlbmd0aD4wPyh0aGlzLmNtb2R1bGUubHVhX3htb3ZlKHQuYWRkcmVzcyx0aGlzLmdsb2JhbC5hZGRyZXNzLHIubGVuZ3RoKSx0aGlzLmdsb2JhbC5nZXRWYWx1ZSh0aGlzLmdsb2JhbC5nZXRUb3AoKS1yLmxlbmd0aCsxKSk6dm9pZCAwfWZpbmFsbHl7dGhpcy5nbG9iYWwucmVtb3ZlKHIpfX19dmFyIEMsVT0oQz0idW5kZWZpbmVkIj09dHlwZW9mIGRvY3VtZW50JiYidW5kZWZpbmVkIj09dHlwZW9mIGxvY2F0aW9uP0xlKCJ1cmwiKS5wYXRoVG9GaWxlVVJMKGUpLmhyZWY6InVuZGVmaW5lZCI9PXR5cGVvZiBkb2N1bWVudD9sb2NhdGlvbi5ocmVmOnImJnIuc3JjfHxuZXcgVVJMKCJpbmRleC5qcyIsZG9jdW1lbnQuYmFzZVVSSSkuaHJlZixhc3luYyBmdW5jdGlvbih0PXt9KXt2YXIgYSxuLGk9dDtpLnJlYWR5PW5ldyBQcm9taXNlKCgoZSx0KT0+e2E9ZSxuPXR9KSksIl9tYWxsb2MgX2ZyZWUgX3JlYWxsb2MgX2x1YUxfY2hlY2t2ZXJzaW9uXyBfbHVhTF9nZXRtZXRhZmllbGQgX2x1YUxfY2FsbG1ldGEgX2x1YUxfdG9sc3RyaW5nIF9sdWFMX2FyZ2Vycm9yIF9sdWFMX3R5cGVlcnJvciBfbHVhTF9jaGVja2xzdHJpbmcgX2x1YUxfb3B0bHN0cmluZyBfbHVhTF9jaGVja251bWJlciBfbHVhTF9vcHRudW1iZXIgX2x1YUxfY2hlY2tpbnRlZ2VyIF9sdWFMX29wdGludGVnZXIgX2x1YUxfY2hlY2tzdGFjayBfbHVhTF9jaGVja3R5cGUgX2x1YUxfY2hlY2thbnkgX2x1YUxfbmV3bWV0YXRhYmxlIF9sdWFMX3NldG1ldGF0YWJsZSBfbHVhTF90ZXN0dWRhdGEgX2x1YUxfY2hlY2t1ZGF0YSBfbHVhTF93aGVyZSBfbHVhTF9maWxlcmVzdWx0IF9sdWFMX2V4ZWNyZXN1bHQgX2x1YUxfcmVmIF9sdWFMX3VucmVmIF9sdWFMX2xvYWRmaWxleCBfbHVhTF9sb2FkYnVmZmVyeCBfbHVhTF9sb2Fkc3RyaW5nIF9sdWFMX25ld3N0YXRlIF9sdWFMX2xlbiBfbHVhTF9hZGRnc3ViIF9sdWFMX2dzdWIgX2x1YUxfc2V0ZnVuY3MgX2x1YUxfZ2V0c3VidGFibGUgX2x1YUxfdHJhY2ViYWNrIF9sdWFMX3JlcXVpcmVmIF9sdWFMX2J1ZmZpbml0IF9sdWFMX3ByZXBidWZmc2l6ZSBfbHVhTF9hZGRsc3RyaW5nIF9sdWFMX2FkZHN0cmluZyBfbHVhTF9hZGR2YWx1ZSBfbHVhTF9wdXNocmVzdWx0IF9sdWFMX3B1c2hyZXN1bHRzaXplIF9sdWFMX2J1ZmZpbml0c2l6ZSBfbHVhX25ld3N0YXRlIF9sdWFfY2xvc2UgX2x1YV9uZXd0aHJlYWQgX2x1YV9yZXNldHRocmVhZCBfbHVhX2F0cGFuaWMgX2x1YV92ZXJzaW9uIF9sdWFfYWJzaW5kZXggX2x1YV9nZXR0b3AgX2x1YV9zZXR0b3AgX2x1YV9wdXNodmFsdWUgX2x1YV9yb3RhdGUgX2x1YV9jb3B5IF9sdWFfY2hlY2tzdGFjayBfbHVhX3htb3ZlIF9sdWFfaXNudW1iZXIgX2x1YV9pc3N0cmluZyBfbHVhX2lzY2Z1bmN0aW9uIF9sdWFfaXNpbnRlZ2VyIF9sdWFfaXN1c2VyZGF0YSBfbHVhX3R5cGUgX2x1YV90eXBlbmFtZSBfbHVhX3RvbnVtYmVyeCBfbHVhX3RvaW50ZWdlcnggX2x1YV90b2Jvb2xlYW4gX2x1YV90b2xzdHJpbmcgX2x1YV9yYXdsZW4gX2x1YV90b2NmdW5jdGlvbiBfbHVhX3RvdXNlcmRhdGEgX2x1YV90b3RocmVhZCBfbHVhX3RvcG9pbnRlciBfbHVhX2FyaXRoIF9sdWFfcmF3ZXF1YWwgX2x1YV9jb21wYXJlIF9sdWFfcHVzaG5pbCBfbHVhX3B1c2hudW1iZXIgX2x1YV9wdXNoaW50ZWdlciBfbHVhX3B1c2hsc3RyaW5nIF9sdWFfcHVzaHN0cmluZyBfbHVhX3B1c2hjY2xvc3VyZSBfbHVhX3B1c2hib29sZWFuIF9sdWFfcHVzaGxpZ2h0dXNlcmRhdGEgX2x1YV9wdXNodGhyZWFkIF9sdWFfZ2V0Z2xvYmFsIF9sdWFfZ2V0dGFibGUgX2x1YV9nZXRmaWVsZCBfbHVhX2dldGkgX2x1YV9yYXdnZXQgX2x1YV9yYXdnZXRpIF9sdWFfcmF3Z2V0cCBfbHVhX2NyZWF0ZXRhYmxlIF9sdWFfbmV3dXNlcmRhdGF1diBfbHVhX2dldG1ldGF0YWJsZSBfbHVhX2dldGl1c2VydmFsdWUgX2x1YV9zZXRnbG9iYWwgX2x1YV9zZXR0YWJsZSBfbHVhX3NldGZpZWxkIF9sdWFfc2V0aSBfbHVhX3Jhd3NldCBfbHVhX3Jhd3NldGkgX2x1YV9yYXdzZXRwIF9sdWFfc2V0bWV0YXRhYmxlIF9sdWFfc2V0aXVzZXJ2YWx1ZSBfbHVhX2NhbGxrIF9sdWFfcGNhbGxrIF9sdWFfbG9hZCBfbHVhX2R1bXAgX2x1YV95aWVsZGsgX2x1YV9yZXN1bWUgX2x1YV9zdGF0dXMgX2x1YV9pc3lpZWxkYWJsZSBfbHVhX3NldHdhcm5mIF9sdWFfd2FybmluZyBfbHVhX2Vycm9yIF9sdWFfbmV4dCBfbHVhX2NvbmNhdCBfbHVhX2xlbiBfbHVhX3N0cmluZ3RvbnVtYmVyIF9sdWFfZ2V0YWxsb2NmIF9sdWFfc2V0YWxsb2NmIF9sdWFfdG9jbG9zZSBfbHVhX2Nsb3Nlc2xvdCBfbHVhX2dldHN0YWNrIF9sdWFfZ2V0aW5mbyBfbHVhX2dldGxvY2FsIF9sdWFfc2V0bG9jYWwgX2x1YV9nZXR1cHZhbHVlIF9sdWFfc2V0dXB2YWx1ZSBfbHVhX3VwdmFsdWVpZCBfbHVhX3VwdmFsdWVqb2luIF9sdWFfc2V0aG9vayBfbHVhX2dldGhvb2sgX2x1YV9nZXRob29rbWFzayBfbHVhX2dldGhvb2tjb3VudCBfbHVhX3NldGNzdGFja2xpbWl0IF9sdWFvcGVuX2Jhc2UgX2x1YW9wZW5fY29yb3V0aW5lIF9sdWFvcGVuX3RhYmxlIF9sdWFvcGVuX2lvIF9sdWFvcGVuX29zIF9sdWFvcGVuX3N0cmluZyBfbHVhb3Blbl91dGY4IF9sdWFvcGVuX21hdGggX2x1YW9wZW5fZGVidWcgX2x1YW9wZW5fcGFja2FnZSBfbHVhTF9vcGVubGlicyBfbWVtb3J5IF9fX2luZGlyZWN0X2Z1bmN0aW9uX3RhYmxlIF9mZmx1c2ggb25SdW50aW1lSW5pdGlhbGl6ZWQiLnNwbGl0KCIgIikuZm9yRWFjaCgoZT0+e09iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaS5yZWFkeSxlKXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGkucmVhZHksZSx7Z2V0OigpPT5RKCJZb3UgYXJlIGdldHRpbmcgIitlKyIgb24gdGhlIFByb21pc2Ugb2JqZWN0LCBpbnN0ZWFkIG9mIHRoZSBpbnN0YW5jZS4gVXNlIC50aGVuKCkgdG8gZ2V0IGNhbGxlZCBiYWNrIHdpdGggdGhlIGluc3RhbmNlLCBzZWUgdGhlIE1PRFVMQVJJWkUgZG9jcyBpbiBzcmMvc2V0dGluZ3MuanMiKSxzZXQ6KCk9PlEoIllvdSBhcmUgc2V0dGluZyAiK2UrIiBvbiB0aGUgUHJvbWlzZSBvYmplY3QsIGluc3RlYWQgb2YgdGhlIGluc3RhbmNlLiBVc2UgLnRoZW4oKSB0byBnZXQgY2FsbGVkIGJhY2sgd2l0aCB0aGUgaW5zdGFuY2UsIHNlZSB0aGUgTU9EVUxBUklaRSBkb2NzIGluIHNyYy9zZXR0aW5ncy5qcyIpfSl9KSk7dmFyIHU9T2JqZWN0LmFzc2lnbih7fSxpKSxvPSIuL3RoaXMucHJvZ3JhbSIscz0oZSx0KT0+e3Rocm93IHR9LGw9Im9iamVjdCI9PXR5cGVvZiB3aW5kb3csaD0iZnVuY3Rpb24iPT10eXBlb2YgaW1wb3J0U2NyaXB0cyxjPSJvYmplY3QiPT10eXBlb2YgayYmIm9iamVjdCI9PXR5cGVvZiBrLnZlcnNpb25zJiYic3RyaW5nIj09dHlwZW9mIGsudmVyc2lvbnMubm9kZSxkPSFsJiYhYyYmIWg7aWYoaS5FTlZJUk9OTUVOVCl0aHJvdyBFcnJvcigiTW9kdWxlLkVOVklST05NRU5UIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFRvIGZvcmNlIHRoZSBlbnZpcm9ubWVudCwgdXNlIHRoZSBFTlZJUk9OTUVOVCBjb21waWxlLXRpbWUgb3B0aW9uIChmb3IgZXhhbXBsZSwgLXNFTlZJUk9OTUVOVD13ZWIgb3IgLXNFTlZJUk9OTUVOVD1ub2RlKSIpO3ZhciBmLHAsbSxfPSIiO2lmKGMpe2lmKHZvaWQgMD09PWt8fCFrLnJlbGVhc2V8fCJub2RlIiE9PWsucmVsZWFzZS5uYW1lKXRocm93IEVycm9yKCJub3QgY29tcGlsZWQgZm9yIHRoaXMgZW52aXJvbm1lbnQgKGRpZCB5b3UgYnVpbGQgdG8gSFRNTCBhbmQgdHJ5IHRvIHJ1biBpdCBub3Qgb24gdGhlIHdlYiwgb3Igc2V0IEVOVklST05NRU5UIHRvIHNvbWV0aGluZyAtIGxpa2Ugbm9kZSAtIGFuZCBydW4gaXQgc29tZXBsYWNlIGVsc2UgLSBsaWtlIG9uIHRoZSB3ZWI/KSIpO3ZhciBnPWsudmVyc2lvbnMubm9kZSxiPWcuc3BsaXQoIi4iKS5zbGljZSgwLDMpO2lmKDE2ZTQ+KGI9MWU0KmJbMF0rMTAwKmJbMV0rMSpiWzJdLnNwbGl0KCItIilbMF0pKXRocm93IEVycm9yKCJUaGlzIGVtc2NyaXB0ZW4tZ2VuZXJhdGVkIGNvZGUgcmVxdWlyZXMgbm9kZSB2MTYuMC4wIChkZXRlY3RlZCB2IitnKyIpIik7Y29uc3R7Y3JlYXRlUmVxdWlyZTp0fT1hd2FpdCBpbXBvcnQoIi9ucG0vbW9kdWxlLytlc20iKTt2YXIgdz10KCJ1bmRlZmluZWQiPT10eXBlb2YgZG9jdW1lbnQmJiJ1bmRlZmluZWQiPT10eXBlb2YgbG9jYXRpb24/TGUoInVybCIpLnBhdGhUb0ZpbGVVUkwoZSkuaHJlZjoidW5kZWZpbmVkIj09dHlwZW9mIGRvY3VtZW50P2xvY2F0aW9uLmhyZWY6ciYmci5zcmN8fG5ldyBVUkwoImluZGV4LmpzIixkb2N1bWVudC5iYXNlVVJJKS5ocmVmKSx5PXcoImZzIiksdj13KCJwYXRoIik7Xz1oP3YuZGlybmFtZShfKSsiLyI6dygidXJsIikuZmlsZVVSTFRvUGF0aChuZXcgVVJMKCIuLyIsInVuZGVmaW5lZCI9PXR5cGVvZiBkb2N1bWVudCYmInVuZGVmaW5lZCI9PXR5cGVvZiBsb2NhdGlvbj9MZSgidXJsIikucGF0aFRvRmlsZVVSTChlKS5ocmVmOiJ1bmRlZmluZWQiPT10eXBlb2YgZG9jdW1lbnQ/bG9jYXRpb24uaHJlZjpyJiZyLnNyY3x8bmV3IFVSTCgiaW5kZXguanMiLGRvY3VtZW50LmJhc2VVUkkpLmhyZWYpKSxmPShlLHQpPT4oZT1yZShlKT9uZXcgVVJMKGUpOnYubm9ybWFsaXplKGUpLHkucmVhZEZpbGVTeW5jKGUsdD92b2lkIDA6InV0ZjgiKSksbT1lPT4oKGU9ZihlLCEwKSkuYnVmZmVyfHwoZT1uZXcgVWludDhBcnJheShlKSksTihlLmJ1ZmZlciksZSkscD0oZSx0LHIsYT0hMCk9PntlPXJlKGUpP25ldyBVUkwoZSk6di5ub3JtYWxpemUoZSkseS5yZWFkRmlsZShlLGE/dm9pZCAwOiJ1dGY4IiwoKGUsbik9PntlP3IoZSk6dChhP24uYnVmZmVyOm4pfSkpfSwhaS50aGlzUHJvZ3JhbSYmMTxrLmFyZ3YubGVuZ3RoJiYobz1rLmFyZ3ZbMV0ucmVwbGFjZSgvXFwvZywiLyIpKSxrLmFyZ3Yuc2xpY2UoMikscz0oZSx0KT0+e3Rocm93IGsuZXhpdENvZGU9ZSx0fSxpLmluc3BlY3Q9KCk9PiJbRW1zY3JpcHRlbiBNb2R1bGUgb2JqZWN0XSJ9ZWxzZSBpZihkKXtpZigib2JqZWN0Ij09dHlwZW9mIGsmJiJmdW5jdGlvbiI9PXR5cGVvZiB3fHwib2JqZWN0Ij09dHlwZW9mIHdpbmRvd3x8ImZ1bmN0aW9uIj09dHlwZW9mIGltcG9ydFNjcmlwdHMpdGhyb3cgRXJyb3IoIm5vdCBjb21waWxlZCBmb3IgdGhpcyBlbnZpcm9ubWVudCAoZGlkIHlvdSBidWlsZCB0byBIVE1MIGFuZCB0cnkgdG8gcnVuIGl0IG5vdCBvbiB0aGUgd2ViLCBvciBzZXQgRU5WSVJPTk1FTlQgdG8gc29tZXRoaW5nIC0gbGlrZSBub2RlIC0gYW5kIHJ1biBpdCBzb21lcGxhY2UgZWxzZSAtIGxpa2Ugb24gdGhlIHdlYj8pIik7InVuZGVmaW5lZCIhPXR5cGVvZiByZWFkJiYoZj1yZWFkKSxtPWU9PiJmdW5jdGlvbiI9PXR5cGVvZiByZWFkYnVmZmVyP25ldyBVaW50OEFycmF5KHJlYWRidWZmZXIoZSkpOihOKCJvYmplY3QiPT10eXBlb2YoZT1yZWFkKGUsImJpbmFyeSIpKSksZSkscD0oZSx0KT0+e3NldFRpbWVvdXQoKCgpPT50KG0oZSkpKSl9LCJ1bmRlZmluZWQiPT10eXBlb2YgY2xlYXJUaW1lb3V0JiYoZ2xvYmFsVGhpcy5jbGVhclRpbWVvdXQ9KCk9Pnt9KSwidW5kZWZpbmVkIj09dHlwZW9mIHNldFRpbWVvdXQmJihnbG9iYWxUaGlzLnNldFRpbWVvdXQ9ZT0+ImZ1bmN0aW9uIj09dHlwZW9mIGU/ZSgpOlEoKSksImZ1bmN0aW9uIj09dHlwZW9mIHF1aXQmJihzPShlLHQpPT57dGhyb3cgc2V0VGltZW91dCgoKCk9PntpZighKHQgaW5zdGFuY2VvZiBwZSkpe2xldCBlPXQ7dCYmIm9iamVjdCI9PXR5cGVvZiB0JiZ0LnN0YWNrJiYoZT1bdCx0LnN0YWNrXSksTChgZXhpdGluZyBkdWUgdG8gZXhjZXB0aW9uOiAke2V9YCl9cXVpdChlKX0pKSx0fSksInVuZGVmaW5lZCIhPXR5cGVvZiBwcmludCYmKCJ1bmRlZmluZWQiPT10eXBlb2YgY29uc29sZSYmKGNvbnNvbGU9e30pLGNvbnNvbGUubG9nPXByaW50LGNvbnNvbGUud2Fybj1jb25zb2xlLmVycm9yPSJ1bmRlZmluZWQiIT10eXBlb2YgcHJpbnRFcnI/cHJpbnRFcnI6cHJpbnQpfWVsc2V7aWYoIWwmJiFoKXRocm93IEVycm9yKCJlbnZpcm9ubWVudCBkZXRlY3Rpb24gZXJyb3IiKTtpZihoP189c2VsZi5sb2NhdGlvbi5ocmVmOiJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQmJmRvY3VtZW50LmN1cnJlbnRTY3JpcHQmJihfPWRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjKSxDJiYoXz1DKSxfPTAhPT1fLmluZGV4T2YoImJsb2I6Iik/Xy5zdWJzdHIoMCxfLnJlcGxhY2UoL1s/I10uKi8sIiIpLmxhc3RJbmRleE9mKCIvIikrMSk6IiIsIm9iamVjdCIhPXR5cGVvZiB3aW5kb3cmJiJmdW5jdGlvbiIhPXR5cGVvZiBpbXBvcnRTY3JpcHRzKXRocm93IEVycm9yKCJub3QgY29tcGlsZWQgZm9yIHRoaXMgZW52aXJvbm1lbnQgKGRpZCB5b3UgYnVpbGQgdG8gSFRNTCBhbmQgdHJ5IHRvIHJ1biBpdCBub3Qgb24gdGhlIHdlYiwgb3Igc2V0IEVOVklST05NRU5UIHRvIHNvbWV0aGluZyAtIGxpa2Ugbm9kZSAtIGFuZCBydW4gaXQgc29tZXBsYWNlIGVsc2UgLSBsaWtlIG9uIHRoZSB3ZWI/KSIpO2Y9ZT0+e3ZhciB0PW5ldyBYTUxIdHRwUmVxdWVzdDtyZXR1cm4gdC5vcGVuKCJHRVQiLGUsITEpLHQuc2VuZChudWxsKSx0LnJlc3BvbnNlVGV4dH0saCYmKG09ZT0+e3ZhciB0PW5ldyBYTUxIdHRwUmVxdWVzdDtyZXR1cm4gdC5vcGVuKCJHRVQiLGUsITEpLHQucmVzcG9uc2VUeXBlPSJhcnJheWJ1ZmZlciIsdC5zZW5kKG51bGwpLG5ldyBVaW50OEFycmF5KHQucmVzcG9uc2UpfSkscD0oZSx0LHIpPT57dmFyIGE9bmV3IFhNTEh0dHBSZXF1ZXN0O2Eub3BlbigiR0VUIixlLCEwKSxhLnJlc3BvbnNlVHlwZT0iYXJyYXlidWZmZXIiLGEub25sb2FkPSgpPT57MjAwPT1hLnN0YXR1c3x8MD09YS5zdGF0dXMmJmEucmVzcG9uc2U/dChhLnJlc3BvbnNlKTpyKCl9LGEub25lcnJvcj1yLGEuc2VuZChudWxsKX19dmFyIEU9Y29uc29sZS5sb2cuYmluZChjb25zb2xlKSxMPWNvbnNvbGUuZXJyb3IuYmluZChjb25zb2xlKTtPYmplY3QuYXNzaWduKGksdSksdT1udWxsLGhlKCJFTlZJUk9OTUVOVCIpLGhlKCJHTF9NQVhfVEVYVFVSRV9JTUFHRV9VTklUUyIpLGhlKCJTRExfY2FuUGxheVdpdGhXZWJBdWRpbyIpLGhlKCJTRExfbnVtU2ltdWx0YW5lb3VzbHlRdWV1ZWRCdWZmZXJzIiksaGUoIklOSVRJQUxfTUVNT1JZIiksaGUoIndhc21NZW1vcnkiKSxoZSgiYXJndW1lbnRzIiksaGUoImJ1ZmZlciIpLGhlKCJjYW52YXMiKSxoZSgiZG9Ob3RDYXB0dXJlS2V5Ym9hcmQiKSxoZSgiZHluYW1pY0xpYnJhcmllcyIpLGhlKCJlbGVtZW50UG9pbnRlckxvY2siKSxoZSgiZXh0cmFTdGFja1RyYWNlIiksaGUoImZvcmNlZEFzcGVjdFJhdGlvIiksaGUoImluc3RhbnRpYXRlV2FzbSIpLGhlKCJrZXlib2FyZExpc3RlbmluZ0VsZW1lbnQiKSxoZSgiZnJlZVByZWxvYWRlZE1lZGlhT25Vc2UiKSxoZSgibG9hZFNwbGl0TW9kdWxlIiksaGUoImxvZ1JlYWRGaWxlcyIpLGhlKCJtYWluU2NyaXB0VXJsT3JCbG9iIiksaGUoIm1lbSIpLGhlKCJtb25pdG9yUnVuRGVwZW5kZW5jaWVzIiksaGUoIm5vRXhpdFJ1bnRpbWUiKSxoZSgibm9Jbml0aWFsUnVuIiksaGUoIm9uQWJvcnQiKSxoZSgib25DdXN0b21NZXNzYWdlIiksaGUoIm9uRXhpdCIpLGhlKCJvbkZyZWUiKSxoZSgib25GdWxsU2NyZWVuIiksaGUoIm9uTWFsbG9jIiksaGUoIm9uUmVhbGxvYyIpLGhlKCJvblJ1bnRpbWVJbml0aWFsaXplZCIpLGhlKCJwb3N0TWFpbkxvb3AiKSxoZSgicG9zdFJ1biIpLGhlKCJwcmVJbml0IiksaGUoInByZU1haW5Mb29wIiksaGUoInByZWluaXRpYWxpemVkV2ViR0xDb250ZXh0IiksaGUoIm1lbW9yeUluaXRpYWxpemVyUmVxdWVzdCIpLGhlKCJwcmVsb2FkUGx1Z2lucyIpLGhlKCJwcmludCIpLGhlKCJwcmludEVyciIpLGhlKCJxdWl0IiksaGUoInNldFN0YXR1cyIpLGhlKCJzdGF0dXNNZXNzYWdlIiksaGUoInN0ZGVyciIpLGhlKCJzdGRpbiIpLGhlKCJzdGRvdXQiKSxoZSgidGhpc1Byb2dyYW0iKSxoZSgid2FzbSIpLGhlKCJ3YXNtQmluYXJ5IiksaGUoIndlYnNvY2tldCIpLGhlKCJmZXRjaFNldHRpbmdzIiksbGUoImFyZ3VtZW50cyIsImFyZ3VtZW50c18iKSxsZSgidGhpc1Byb2dyYW0iLCJ0aGlzUHJvZ3JhbSIpLGxlKCJxdWl0IiwicXVpdF8iKSxOKHZvaWQgMD09PWkubWVtb3J5SW5pdGlhbGl6ZXJQcmVmaXhVUkwsIk1vZHVsZS5tZW1vcnlJbml0aWFsaXplclByZWZpeFVSTCBvcHRpb24gd2FzIHJlbW92ZWQsIHVzZSBNb2R1bGUubG9jYXRlRmlsZSBpbnN0ZWFkIiksTih2b2lkIDA9PT1pLnB0aHJlYWRNYWluUHJlZml4VVJMLCJNb2R1bGUucHRocmVhZE1haW5QcmVmaXhVUkwgb3B0aW9uIHdhcyByZW1vdmVkLCB1c2UgTW9kdWxlLmxvY2F0ZUZpbGUgaW5zdGVhZCIpLE4odm9pZCAwPT09aS5jZEluaXRpYWxpemVyUHJlZml4VVJMLCJNb2R1bGUuY2RJbml0aWFsaXplclByZWZpeFVSTCBvcHRpb24gd2FzIHJlbW92ZWQsIHVzZSBNb2R1bGUubG9jYXRlRmlsZSBpbnN0ZWFkIiksTih2b2lkIDA9PT1pLmZpbGVQYWNrYWdlUHJlZml4VVJMLCJNb2R1bGUuZmlsZVBhY2thZ2VQcmVmaXhVUkwgb3B0aW9uIHdhcyByZW1vdmVkLCB1c2UgTW9kdWxlLmxvY2F0ZUZpbGUgaW5zdGVhZCIpLE4odm9pZCAwPT09aS5yZWFkLCJNb2R1bGUucmVhZCBvcHRpb24gd2FzIHJlbW92ZWQgKG1vZGlmeSByZWFkXyBpbiBKUykiKSxOKHZvaWQgMD09PWkucmVhZEFzeW5jLCJNb2R1bGUucmVhZEFzeW5jIG9wdGlvbiB3YXMgcmVtb3ZlZCAobW9kaWZ5IHJlYWRBc3luYyBpbiBKUykiKSxOKHZvaWQgMD09PWkucmVhZEJpbmFyeSwiTW9kdWxlLnJlYWRCaW5hcnkgb3B0aW9uIHdhcyByZW1vdmVkIChtb2RpZnkgcmVhZEJpbmFyeSBpbiBKUykiKSxOKHZvaWQgMD09PWkuc2V0V2luZG93VGl0bGUsIk1vZHVsZS5zZXRXaW5kb3dUaXRsZSBvcHRpb24gd2FzIHJlbW92ZWQgKG1vZGlmeSBlbXNjcmlwdGVuX3NldF93aW5kb3dfdGl0bGUgaW4gSlMpIiksTih2b2lkIDA9PT1pLlRPVEFMX01FTU9SWSwiTW9kdWxlLlRPVEFMX01FTU9SWSBoYXMgYmVlbiByZW5hbWVkIE1vZHVsZS5JTklUSUFMX01FTU9SWSIpLGxlKCJhc20iLCJ3YXNtRXhwb3J0cyIpLGxlKCJyZWFkIiwicmVhZF8iKSxsZSgicmVhZEFzeW5jIiwicmVhZEFzeW5jIiksbGUoInJlYWRCaW5hcnkiLCJyZWFkQmluYXJ5IiksbGUoInNldFdpbmRvd1RpdGxlIiwic2V0V2luZG93VGl0bGUiKSxOKCFkLCJzaGVsbCBlbnZpcm9ubWVudCBkZXRlY3RlZCBidXQgbm90IGVuYWJsZWQgYXQgYnVpbGQgdGltZS4gIEFkZCAnc2hlbGwnIHRvIGAtc0VOVklST05NRU5UYCB0byBlbmFibGUuIiksbGUoIndhc21CaW5hcnkiLCJ3YXNtQmluYXJ5IiksIm9iamVjdCIhPXR5cGVvZiBXZWJBc3NlbWJseSYmUSgibm8gbmF0aXZlIHdhc20gc3VwcG9ydCBkZXRlY3RlZCIpO3ZhciBULFMsQSxSLE0sTyxGLHgsUCxJPSExO2Z1bmN0aW9uIE4oZSx0KXtlfHxRKCJBc3NlcnRpb24gZmFpbGVkIisodD8iOiAiK3Q6IiIpKX1mdW5jdGlvbiBVKCl7dmFyIGU9VC5idWZmZXI7aS5IRUFQOD1TPW5ldyBJbnQ4QXJyYXkoZSksaS5IRUFQMTY9Uj1uZXcgSW50MTZBcnJheShlKSxpLkhFQVBVOD1BPW5ldyBVaW50OEFycmF5KGUpLGkuSEVBUFUxNj1uZXcgVWludDE2QXJyYXkoZSksaS5IRUFQMzI9TT1uZXcgSW50MzJBcnJheShlKSxpLkhFQVBVMzI9Tz1uZXcgVWludDMyQXJyYXkoZSksaS5IRUFQRjMyPUY9bmV3IEZsb2F0MzJBcnJheShlKSxpLkhFQVBGNjQ9UD1uZXcgRmxvYXQ2NEFycmF5KGUpLGkuSEVBUDY0PXg9bmV3IEJpZ0ludDY0QXJyYXkoZSksaS5IRUFQVTY0PW5ldyBCaWdVaW50NjRBcnJheShlKX1mdW5jdGlvbiBEKCl7aWYoIUkpe3ZhciBlPVd0KCk7MD09ZSYmKGUrPTQpO3ZhciB0PU9bZT4+Ml0scj1PW2UrND4+Ml07MzQ4MjEyMjM9PXQmJjIzMTA3MjEwMjI9PXJ8fFEoYFN0YWNrIG92ZXJmbG93ISBTdGFjayBjb29raWUgaGFzIGJlZW4gb3ZlcndyaXR0ZW4gYXQgJHtfZShlKX0sIGV4cGVjdGVkIGhleCBkd29yZHMgMHg4OUJBQ0RGRSBhbmQgMHgyMTM1NDY3LCBidXQgcmVjZWl2ZWQgJHtfZShyKX0gJHtfZSh0KX1gKSwxNjY4NTA5MDI5IT1PWzBdJiZRKCJSdW50aW1lIGVycm9yOiBUaGUgYXBwbGljYXRpb24gaGFzIGNvcnJ1cHRlZCBpdHMgaGVhcCBtZW1vcnkgYXJlYSAoYWRkcmVzcyB6ZXJvKSEiKX19TighaS5TVEFDS19TSVpFLCJTVEFDS19TSVpFIGNhbiBubyBsb25nZXIgYmUgc2V0IGF0IHJ1bnRpbWUuICBVc2UgLXNTVEFDS19TSVpFIGF0IGxpbmsgdGltZSIpLE4oInVuZGVmaW5lZCIhPXR5cGVvZiBJbnQzMkFycmF5JiYidW5kZWZpbmVkIiE9dHlwZW9mIEZsb2F0NjRBcnJheSYmbnVsbCE9SW50MzJBcnJheS5wcm90b3R5cGUuc3ViYXJyYXkmJm51bGwhPUludDMyQXJyYXkucHJvdG90eXBlLnNldCwiSlMgZW5naW5lIGRvZXMgbm90IHByb3ZpZGUgZnVsbCB0eXBlZCBhcnJheSBzdXBwb3J0IiksTighaS53YXNtTWVtb3J5LCJVc2Ugb2YgYHdhc21NZW1vcnlgIGRldGVjdGVkLiAgVXNlIC1zSU1QT1JURURfTUVNT1JZIHRvIGRlZmluZSB3YXNtTWVtb3J5IGV4dGVybmFsbHkiKSxOKCFpLklOSVRJQUxfTUVNT1JZLCJEZXRlY3RlZCBydW50aW1lIElOSVRJQUxfTUVNT1JZIHNldHRpbmcuICBVc2UgLXNJTVBPUlRFRF9NRU1PUlkgdG8gZGVmaW5lIHdhc21NZW1vcnkgZHluYW1pY2FsbHkiKTt2YXIgVj1uZXcgSW50MTZBcnJheSgxKSxZPW5ldyBJbnQ4QXJyYXkoVi5idWZmZXIpO2lmKFZbMF09MjU0NTksMTE1IT09WVswXXx8OTkhPT1ZWzFdKXRocm93IlJ1bnRpbWUgZXJyb3I6IGV4cGVjdGVkIHRoZSBzeXN0ZW0gdG8gYmUgbGl0dGxlLWVuZGlhbiEgKFJ1biB3aXRoIC1zU1VQUE9SVF9CSUdfRU5ESUFOIHRvIGJ5cGFzcykiO3ZhciBqPVtdLHo9W10sSD1bXSwkPSExO04oTWF0aC5pbXVsLCJUaGlzIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBNYXRoLmltdWwoKSwgYnVpbGQgd2l0aCBMRUdBQ1lfVk1fU1VQUE9SVCBvciBQT0xZRklMTF9PTERfTUFUSF9GVU5DVElPTlMgdG8gYWRkIGluIGEgcG9seWZpbGwiKSxOKE1hdGguZnJvdW5kLCJUaGlzIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBNYXRoLmZyb3VuZCgpLCBidWlsZCB3aXRoIExFR0FDWV9WTV9TVVBQT1JUIG9yIFBPTFlGSUxMX09MRF9NQVRIX0ZVTkNUSU9OUyB0byBhZGQgaW4gYSBwb2x5ZmlsbCIpLE4oTWF0aC5jbHozMiwiVGhpcyBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgTWF0aC5jbHozMigpLCBidWlsZCB3aXRoIExFR0FDWV9WTV9TVVBQT1JUIG9yIFBPTFlGSUxMX09MRF9NQVRIX0ZVTkNUSU9OUyB0byBhZGQgaW4gYSBwb2x5ZmlsbCIpLE4oTWF0aC50cnVuYywiVGhpcyBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgTWF0aC50cnVuYygpLCBidWlsZCB3aXRoIExFR0FDWV9WTV9TVVBQT1JUIG9yIFBPTFlGSUxMX09MRF9NQVRIX0ZVTkNUSU9OUyB0byBhZGQgaW4gYSBwb2x5ZmlsbCIpO3ZhciBHPTAsVz1udWxsLHE9bnVsbCxLPXt9O2Z1bmN0aW9uIFgoZSl7Zm9yKHZhciB0PWU7Oyl7aWYoIUtbZV0pcmV0dXJuIGU7ZT10K01hdGgucmFuZG9tKCl9fWZ1bmN0aW9uIEooZSl7RysrLGU/KE4oIUtbZV0pLEtbZV09MSxudWxsPT09VyYmInVuZGVmaW5lZCIhPXR5cGVvZiBzZXRJbnRlcnZhbCYmKFc9c2V0SW50ZXJ2YWwoKCgpPT57aWYoSSljbGVhckludGVydmFsKFcpLFc9bnVsbDtlbHNle3ZhciBlLHQ9ITE7Zm9yKGUgaW4gSyl0fHwodD0hMCxMKCJzdGlsbCB3YWl0aW5nIG9uIHJ1biBkZXBlbmRlbmNpZXM6IikpLEwoYGRlcGVuZGVuY3k6ICR7ZX1gKTt0JiZMKCIoZW5kIG9mIGxpc3QpIil9fSksMWU0KSkpOkwoIndhcm5pbmc6IHJ1biBkZXBlbmRlbmN5IGFkZGVkIHdpdGhvdXQgSUQiKX1mdW5jdGlvbiBaKGUpe0ctLSxlPyhOKEtbZV0pLGRlbGV0ZSBLW2VdKTpMKCJ3YXJuaW5nOiBydW4gZGVwZW5kZW5jeSByZW1vdmVkIHdpdGhvdXQgSUQiKSwwPT1HJiYobnVsbCE9PVcmJihjbGVhckludGVydmFsKFcpLFc9bnVsbCkscSYmKGU9cSxxPW51bGwsZSgpKSl9ZnVuY3Rpb24gUShlKXt0aHJvdyBMKGU9IkFib3J0ZWQoIitlKyIpIiksST0hMCxlPW5ldyBXZWJBc3NlbWJseS5SdW50aW1lRXJyb3IoZSksbihlKSxlfXZhciBlZSx0ZT1lPT5lLnN0YXJ0c1dpdGgoImRhdGE6YXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtO2Jhc2U2NCwiKSxyZT1lPT5lLnN0YXJ0c1dpdGgoImZpbGU6Ly8iKTtmdW5jdGlvbiBhZShlKXtyZXR1cm4gZnVuY3Rpb24oKXtOKCQsYG5hdGl2ZSBmdW5jdGlvbiBcYCR7ZX1cYCBjYWxsZWQgYmVmb3JlIHJ1bnRpbWUgaW5pdGlhbGl6YXRpb25gKTt2YXIgdD1WdFtlXTtyZXR1cm4gTih0LGBleHBvcnRlZCBuYXRpdmUgZnVuY3Rpb24gXGAke2V9XGAgbm90IGZvdW5kYCksdC5hcHBseShudWxsLGFyZ3VtZW50cyl9fWlmKGkubG9jYXRlRmlsZSl7aWYoIXRlKGVlPSJnbHVlLndhc20iKSl7dmFyIG5lPWVlO2VlPWkubG9jYXRlRmlsZT9pLmxvY2F0ZUZpbGUobmUsXyk6XytuZX19ZWxzZSBlZT1uZXcgVVJMKCJnbHVlLndhc20iLCJ1bmRlZmluZWQiPT10eXBlb2YgZG9jdW1lbnQmJiJ1bmRlZmluZWQiPT10eXBlb2YgbG9jYXRpb24/TGUoInVybCIpLnBhdGhUb0ZpbGVVUkwoZSkuaHJlZjoidW5kZWZpbmVkIj09dHlwZW9mIGRvY3VtZW50P2xvY2F0aW9uLmhyZWY6ciYmci5zcmN8fG5ldyBVUkwoImluZGV4LmpzIixkb2N1bWVudC5iYXNlVVJJKS5ocmVmKS5ocmVmO2Z1bmN0aW9uIGllKGUpe2lmKG0pcmV0dXJuIG0oZSk7dGhyb3ciYm90aCBhc3luYyBhbmQgc3luYyBmZXRjaGluZyBvZiB0aGUgd2FzbSBmYWlsZWQifWZ1bmN0aW9uIHVlKGUpe2lmKGx8fGgpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBmZXRjaCYmIXJlKGUpKXJldHVybiBmZXRjaChlLHtjcmVkZW50aWFsczoic2FtZS1vcmlnaW4ifSkudGhlbigodD0+e2lmKCF0Lm9rKXRocm93ImZhaWxlZCB0byBsb2FkIHdhc20gYmluYXJ5IGZpbGUgYXQgJyIrZSsiJyI7cmV0dXJuIHQuYXJyYXlCdWZmZXIoKX0pKS5jYXRjaCgoKCk9PmllKGUpKSk7aWYocClyZXR1cm4gbmV3IFByb21pc2UoKCh0LHIpPT57cChlLChlPT50KG5ldyBVaW50OEFycmF5KGUpKSkscil9KSl9cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCgpPT5pZShlKSkpfWZ1bmN0aW9uIG9lKGUsdCxyKXtyZXR1cm4gdWUoZSkudGhlbigoZT0+V2ViQXNzZW1ibHkuaW5zdGFudGlhdGUoZSx0KSkpLnRoZW4oKGU9PmUpKS50aGVuKHIsKGU9PntMKGBmYWlsZWQgdG8gYXN5bmNocm9ub3VzbHkgcHJlcGFyZSB3YXNtOiAke2V9YCkscmUoZWUpJiZMKGB3YXJuaW5nOiBMb2FkaW5nIGZyb20gYSBmaWxlIFVSSSAoJHtlZX0pIGlzIG5vdCBzdXBwb3J0ZWQgaW4gbW9zdCBicm93c2Vycy4gU2VlIGh0dHBzOi8vZW1zY3JpcHRlbi5vcmcvZG9jcy9nZXR0aW5nX3N0YXJ0ZWQvRkFRLmh0bWwjaG93LWRvLWktcnVuLWEtbG9jYWwtd2Vic2VydmVyLWZvci10ZXN0aW5nLXdoeS1kb2VzLW15LXByb2dyYW0tc3RhbGwtaW4tZG93bmxvYWRpbmctb3ItcHJlcGFyaW5nYCksUShlKX0pKX1mdW5jdGlvbiBzZShlLHQpe3ZhciByPWVlO3JldHVybiJmdW5jdGlvbiIhPXR5cGVvZiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZ3x8dGUocil8fHJlKHIpfHxjfHwiZnVuY3Rpb24iIT10eXBlb2YgZmV0Y2g/b2UocixlLHQpOmZldGNoKHIse2NyZWRlbnRpYWxzOiJzYW1lLW9yaWdpbiJ9KS50aGVuKChhPT5XZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZyhhLGUpLnRoZW4odCwoZnVuY3Rpb24oYSl7cmV0dXJuIEwoYHdhc20gc3RyZWFtaW5nIGNvbXBpbGUgZmFpbGVkOiAke2F9YCksTCgiZmFsbGluZyBiYWNrIHRvIEFycmF5QnVmZmVyIGluc3RhbnRpYXRpb24iKSxvZShyLGUsdCl9KSkpKX1mdW5jdGlvbiBsZShlLHQpe09iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSxlKXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGksZSx7Y29uZmlndXJhYmxlOiEwLGdldCgpe1EoYFxgTW9kdWxlLiR7ZX1cYCBoYXMgYmVlbiByZXBsYWNlZCBieSBcYCR7dH1cYCAodGhlIGluaXRpYWwgdmFsdWUgY2FuIGJlIHByb3ZpZGVkIG9uIE1vZHVsZSwgYnV0IGFmdGVyIHN0YXJ0dXAgdGhlIHZhbHVlIGlzIG9ubHkgbG9va2VkIGZvciBvbiBhIGxvY2FsIHZhcmlhYmxlIG9mIHRoYXQgbmFtZSlgKX19KX1mdW5jdGlvbiBoZShlKXtPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksZSkmJlEoYFxgTW9kdWxlLiR7ZX1cYCB3YXMgc3VwcGxpZWQgYnV0IFxgJHtlfVxgIG5vdCBpbmNsdWRlZCBpbiBJTkNPTUlOR19NT0RVTEVfSlNfQVBJYCl9ZnVuY3Rpb24gY2UoZSl7cmV0dXJuIkZTX2NyZWF0ZVBhdGgiPT09ZXx8IkZTX2NyZWF0ZURhdGFGaWxlIj09PWV8fCJGU19jcmVhdGVQcmVsb2FkZWRGaWxlIj09PWV8fCJGU191bmxpbmsiPT09ZXx8ImFkZFJ1bkRlcGVuZGVuY3kiPT09ZXx8IkZTX2NyZWF0ZUxhenlGaWxlIj09PWV8fCJGU19jcmVhdGVEZXZpY2UiPT09ZXx8InJlbW92ZVJ1bkRlcGVuZGVuY3kiPT09ZX1mdW5jdGlvbiBkZShlLHQpeyJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsVGhpcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGdsb2JhbFRoaXMsZSx7Y29uZmlndXJhYmxlOiEwLGdldCgpe2dlKGBcYCR7ZX1cYCBpcyBub3QgbG9uZ2VyIGRlZmluZWQgYnkgZW1zY3JpcHRlbi4gJHt0fWApfX0pfWZ1bmN0aW9uIGZlKGUpe09iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSxlKXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGksZSx7Y29uZmlndXJhYmxlOiEwLGdldCgpe3ZhciB0PWAnJHtlfScgd2FzIG5vdCBleHBvcnRlZC4gYWRkIGl0IHRvIEVYUE9SVEVEX1JVTlRJTUVfTUVUSE9EUyAoc2VlIHRoZSBFbXNjcmlwdGVuIEZBUSlgO2NlKGUpJiYodCs9Ii4gQWx0ZXJuYXRpdmVseSwgZm9yY2luZyBmaWxlc3lzdGVtIHN1cHBvcnQgKC1zRk9SQ0VfRklMRVNZU1RFTSkgY2FuIGV4cG9ydCB0aGlzIGZvciB5b3UiKSxRKHQpfX0pfWZ1bmN0aW9uIHBlKGUpe3RoaXMubmFtZT0iRXhpdFN0YXR1cyIsdGhpcy5tZXNzYWdlPWBQcm9ncmFtIHRlcm1pbmF0ZWQgd2l0aCBleGl0KCR7ZX0pYCx0aGlzLnN0YXR1cz1lfWRlKCJidWZmZXIiLCJQbGVhc2UgdXNlIEhFQVA4LmJ1ZmZlciBvciB3YXNtTWVtb3J5LmJ1ZmZlciIpLGRlKCJhc20iLCJQbGVhc2UgdXNlIHdhc21FeHBvcnRzIGluc3RlYWQiKTt2YXIgbWUsX2U9ZT0+KE4oIm51bWJlciI9PXR5cGVvZiBlKSwiMHgiKyhlPj4+MCkudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDgsIjAiKSksZ2U9ZT0+e21lfHw9e30sbWVbZV18fChtZVtlXT0xLGMmJihlPSJ3YXJuaW5nOiAiK2UpLEwoZSkpfSxiZT0oZSx0KT0+e2Zvcih2YXIgcj0wLGE9ZS5sZW5ndGgtMTswPD1hO2EtLSl7dmFyIG49ZVthXTsiLiI9PT1uP2Uuc3BsaWNlKGEsMSk6Ii4uIj09PW4/KGUuc3BsaWNlKGEsMSkscisrKTpyJiYoZS5zcGxpY2UoYSwxKSxyLS0pfWlmKHQpZm9yKDtyO3ItLSllLnVuc2hpZnQoIi4uIik7cmV0dXJuIGV9LHdlPWU9Pnt2YXIgdD0iLyI9PT1lLmNoYXJBdCgwKSxyPSIvIj09PWUuc3Vic3RyKC0xKTtyZXR1cm4oZT1iZShlLnNwbGl0KCIvIikuZmlsdGVyKChlPT4hIWUpKSwhdCkuam9pbigiLyIpKXx8dHx8KGU9Ii4iKSxlJiZyJiYoZSs9Ii8iKSwodD8iLyI6IiIpK2V9LHllPWU9Pnt2YXIgdD0vXihcLz98KShbXHNcU10qPykoKD86XC57MSwyfXxbXlwvXSs/fCkoXC5bXi5cL10qfCkpKD86W1wvXSopJC8uZXhlYyhlKS5zbGljZSgxKTtyZXR1cm4gZT10WzBdLHQ9dFsxXSxlfHx0Pyh0JiY9dC5zdWJzdHIoMCx0Lmxlbmd0aC0xKSxlK3QpOiIuIn0sdmU9ZT0+e2lmKCIvIj09PWUpcmV0dXJuIi8iO3ZhciB0PShlPShlPXdlKGUpKS5yZXBsYWNlKC9cLyQvLCIiKSkubGFzdEluZGV4T2YoIi8iKTtyZXR1cm4tMT09PXQ/ZTplLnN1YnN0cih0KzEpfSxFZT0oZSx0KT0+d2UoZSsiLyIrdCksVGU9KCk9PntpZigib2JqZWN0Ij09dHlwZW9mIGNyeXB0byYmImZ1bmN0aW9uIj09dHlwZW9mIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMpcmV0dXJuIGU9PmNyeXB0by5nZXRSYW5kb21WYWx1ZXMoZSk7aWYoYyl0cnl7dmFyIGU9dygiY3J5cHRvIik7aWYoZS5yYW5kb21GaWxsU3luYylyZXR1cm4gdD0+ZS5yYW5kb21GaWxsU3luYyh0KTt2YXIgdD1lLnJhbmRvbUJ5dGVzO3JldHVybiBlPT4oZS5zZXQodChlLmJ5dGVMZW5ndGgpKSxlKX1jYXRjaChlKXt9USgibm8gY3J5cHRvZ3JhcGhpYyBzdXBwb3J0IGZvdW5kIGZvciByYW5kb21EZXZpY2UuIGNvbnNpZGVyIHBvbHlmaWxsaW5nIGl0IGlmIHlvdSB3YW50IHRvIHVzZSBzb21ldGhpbmcgaW5zZWN1cmUgbGlrZSBNYXRoLnJhbmRvbSgpLCBlLmcuIHB1dCB0aGlzIGluIGEgLS1wcmUtanM6IHZhciBjcnlwdG8gPSB7IGdldFJhbmRvbVZhbHVlczogKGFycmF5KSA9PiB7IGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIGFycmF5W2ldID0gKE1hdGgucmFuZG9tKCkqMjU2KXwwIH0gfTsiKX0sa2U9ZT0+KGtlPVRlKCkpKGUpO2Z1bmN0aW9uIFNlKCl7Zm9yKHZhciBlPSIiLHQ9ITEscj1hcmd1bWVudHMubGVuZ3RoLTE7LTE8PXImJiF0O3ItLSl7aWYoInN0cmluZyIhPXR5cGVvZih0PTA8PXI/YXJndW1lbnRzW3JdOl90LmN3ZCgpKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJBcmd1bWVudHMgdG8gcGF0aC5yZXNvbHZlIG11c3QgYmUgc3RyaW5ncyIpO2lmKCF0KXJldHVybiIiO2U9dCsiLyIrZSx0PSIvIj09PXQuY2hhckF0KDApfXJldHVybih0PyIvIjoiIikrKGU9YmUoZS5zcGxpdCgiLyIpLmZpbHRlcigoZT0+ISFlKSksIXQpLmpvaW4oIi8iKSl8fCIuIn12YXIgQWU9KGUsdCk9PntmdW5jdGlvbiByKGUpe2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGgmJiIiPT09ZVt0XTt0KyspO2Zvcih2YXIgcj1lLmxlbmd0aC0xOzA8PXImJiIiPT09ZVtyXTtyLS0pO3JldHVybiB0PnI/W106ZS5zbGljZSh0LHItdCsxKX1lPVNlKGUpLnN1YnN0cigxKSx0PVNlKHQpLnN1YnN0cigxKSxlPXIoZS5zcGxpdCgiLyIpKSx0PXIodC5zcGxpdCgiLyIpKTtmb3IodmFyIGE9TWF0aC5taW4oZS5sZW5ndGgsdC5sZW5ndGgpLG49YSxpPTA7aTxhO2krKylpZihlW2ldIT09dFtpXSl7bj1pO2JyZWFrfWZvcihhPVtdLGk9bjtpPGUubGVuZ3RoO2krKylhLnB1c2goIi4uIik7cmV0dXJuKGE9YS5jb25jYXQodC5zbGljZShuKSkpLmpvaW4oIi8iKX0sUmU9InVuZGVmaW5lZCIhPXR5cGVvZiBUZXh0RGVjb2Rlcj9uZXcgVGV4dERlY29kZXIoInV0ZjgiKTp2b2lkIDAsTWU9KGUsdCk9Pntmb3IodmFyIHI9dCtOYU4sYT10O2VbYV0mJiEoYT49cik7KSsrYTtpZigxNjxhLXQmJmUuYnVmZmVyJiZSZSlyZXR1cm4gUmUuZGVjb2RlKGUuc3ViYXJyYXkodCxhKSk7Zm9yKHI9IiI7dDxhOyl7dmFyIG49ZVt0KytdO2lmKDEyOCZuKXt2YXIgaT02MyZlW3QrK107aWYoMTkyPT0oMjI0Jm4pKXIrPVN0cmluZy5mcm9tQ2hhckNvZGUoKDMxJm4pPDw2fGkpO2Vsc2V7dmFyIHU9NjMmZVt0KytdOzIyND09KDI0MCZuKT9uPSgxNSZuKTw8MTJ8aTw8Nnx1OigyNDAhPSgyNDgmbikmJmdlKCJJbnZhbGlkIFVURi04IGxlYWRpbmcgYnl0ZSAiK19lKG4pKyIgZW5jb3VudGVyZWQgd2hlbiBkZXNlcmlhbGl6aW5nIGEgVVRGLTggc3RyaW5nIGluIHdhc20gbWVtb3J5IHRvIGEgSlMgc3RyaW5nISIpLG49KDcmbik8PDE4fGk8PDEyfHU8PDZ8NjMmZVt0KytdKSw2NTUzNj5uP3IrPVN0cmluZy5mcm9tQ2hhckNvZGUobik6KG4tPTY1NTM2LHIrPVN0cmluZy5mcm9tQ2hhckNvZGUoNTUyOTZ8bj4+MTAsNTYzMjB8MTAyMyZuKSl9fWVsc2Ugcis9U3RyaW5nLmZyb21DaGFyQ29kZShuKX1yZXR1cm4gcn0sT2U9W10sRmU9ZT0+e2Zvcih2YXIgdD0wLHI9MDtyPGUubGVuZ3RoOysrcil7dmFyIGE9ZS5jaGFyQ29kZUF0KHIpOzEyNz49YT90Kys6MjA0Nz49YT90Kz0yOjU1Mjk2PD1hJiY1NzM0Mz49YT8odCs9NCwrK3IpOnQrPTN9cmV0dXJuIHR9LHhlPShlLHQscixhKT0+e2lmKE4oInN0cmluZyI9PXR5cGVvZiBlLGBzdHJpbmdUb1VURjhBcnJheSBleHBlY3RzIGEgc3RyaW5nIChnb3QgJHt0eXBlb2YgZX0pYCksISgwPGEpKXJldHVybiAwO3ZhciBuPXI7YT1yK2EtMTtmb3IodmFyIGk9MDtpPGUubGVuZ3RoOysraSl7dmFyIHU9ZS5jaGFyQ29kZUF0KGkpO2lmKDU1Mjk2PD11JiY1NzM0Mz49dSYmKHU9NjU1MzYrKCgxMDIzJnUpPDwxMCl8MTAyMyZlLmNoYXJDb2RlQXQoKytpKSksMTI3Pj11KXtpZihyPj1hKWJyZWFrO3RbcisrXT11fWVsc2V7aWYoMjA0Nz49dSl7aWYocisxPj1hKWJyZWFrO3RbcisrXT0xOTJ8dT4+Nn1lbHNle2lmKDY1NTM1Pj11KXtpZihyKzI+PWEpYnJlYWs7dFtyKytdPTIyNHx1Pj4xMn1lbHNle2lmKHIrMz49YSlicmVhazsxMTE0MTExPHUmJmdlKCJJbnZhbGlkIFVuaWNvZGUgY29kZSBwb2ludCAiK19lKHUpKyIgZW5jb3VudGVyZWQgd2hlbiBzZXJpYWxpemluZyBhIEpTIHN0cmluZyB0byBhIFVURi04IHN0cmluZyBpbiB3YXNtIG1lbW9yeSEgKFZhbGlkIHVuaWNvZGUgY29kZSBwb2ludHMgc2hvdWxkIGJlIGluIHJhbmdlIDAtMHgxMEZGRkYpLiIpLHRbcisrXT0yNDB8dT4+MTgsdFtyKytdPTEyOHx1Pj4xMiY2M310W3IrK109MTI4fHU+PjYmNjN9dFtyKytdPTEyOHw2MyZ1fX1yZXR1cm4gdFtyXT0wLHItbn07ZnVuY3Rpb24gUGUoZSx0KXt2YXIgcj1BcnJheShGZShlKSsxKTtyZXR1cm4gZT14ZShlLHIsMCxyLmxlbmd0aCksdCYmKHIubGVuZ3RoPWUpLHJ9dmFyIEllPVtdO2Z1bmN0aW9uIE5lKGUsdCl7SWVbZV09e2lucHV0OltdLG91dHB1dDpbXSxLOnR9LEtlKGUsQ2UpfXZhciBDZT17b3BlbihlKXt2YXIgdD1JZVtlLm5vZGUucmRldl07aWYoIXQpdGhyb3cgbmV3IF90LmcoNDMpO2UudHR5PXQsZS5zZWVrYWJsZT0hMX0sY2xvc2UoZSl7ZS50dHkuSy5mc3luYyhlLnR0eSl9LGZzeW5jKGUpe2UudHR5LksuZnN5bmMoZS50dHkpfSxyZWFkKGUsdCxyLGEpe2lmKCFlLnR0eXx8IWUudHR5LksucmEpdGhyb3cgbmV3IF90LmcoNjApO2Zvcih2YXIgbj0wLGk9MDtpPGE7aSsrKXt0cnl7dmFyIHU9ZS50dHkuSy5yYShlLnR0eSl9Y2F0Y2goZSl7dGhyb3cgbmV3IF90LmcoMjkpfWlmKHZvaWQgMD09PXUmJjA9PT1uKXRocm93IG5ldyBfdC5nKDYpO2lmKG51bGw9PXUpYnJlYWs7bisrLHRbcitpXT11fXJldHVybiBuJiYoZS5ub2RlLnRpbWVzdGFtcD1EYXRlLm5vdygpKSxufSx3cml0ZShlLHQscixhKXtpZighZS50dHl8fCFlLnR0eS5LLmlhKXRocm93IG5ldyBfdC5nKDYwKTt0cnl7Zm9yKHZhciBuPTA7bjxhO24rKyllLnR0eS5LLmlhKGUudHR5LHRbcituXSl9Y2F0Y2goZSl7dGhyb3cgbmV3IF90LmcoMjkpfXJldHVybiBhJiYoZS5ub2RlLnRpbWVzdGFtcD1EYXRlLm5vdygpKSxufX0sVWU9e3JhKCl7ZTp7aWYoIU9lLmxlbmd0aCl7dmFyIGU9bnVsbDtpZihjKXt2YXIgdD1CLmFsbG9jKDI1Nikscj0wLGE9ay5zdGRpbi5mZDt0cnl7cj15LnJlYWRTeW5jKGEsdCl9Y2F0Y2goZSl7aWYoIWUudG9TdHJpbmcoKS5pbmNsdWRlcygiRU9GIikpdGhyb3cgZTtyPTB9ZT0wPHI/dC5zbGljZSgwLHIpLnRvU3RyaW5nKCJ1dGYtOCIpOm51bGx9ZWxzZSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiYiZnVuY3Rpb24iPT10eXBlb2Ygd2luZG93LnByb21wdD9udWxsIT09KGU9d2luZG93LnByb21wdCgiSW5wdXQ6ICIpKSYmKGUrPSJcbiIpOiJmdW5jdGlvbiI9PXR5cGVvZiByZWFkbGluZSYmbnVsbCE9PShlPXJlYWRsaW5lKCkpJiYoZSs9IlxuIik7aWYoIWUpe2U9bnVsbDticmVhayBlfU9lPVBlKGUsITApfWU9T2Uuc2hpZnQoKX1yZXR1cm4gZX0saWEoZSx0KXtudWxsPT09dHx8MTA9PT10PyhFKE1lKGUub3V0cHV0LDApKSxlLm91dHB1dD1bXSk6MCE9dCYmZS5vdXRwdXQucHVzaCh0KX0sZnN5bmMoZSl7ZS5vdXRwdXQmJjA8ZS5vdXRwdXQubGVuZ3RoJiYoRShNZShlLm91dHB1dCwwKSksZS5vdXRwdXQ9W10pfSxJYTooKT0+KHthYjoyNTg1NixjYjo1LCRhOjE5MSxiYjozNTM4NyxaYTpbMywyOCwxMjcsMjEsNCwwLDEsMCwxNywxOSwyNiwwLDE4LDE1LDIzLDIyLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDBdfSksSmE6KCk9PjAsS2E6KCk9PlsyNCw4MF19LERlPXtpYShlLHQpe251bGw9PT10fHwxMD09PXQ/KEwoTWUoZS5vdXRwdXQsMCkpLGUub3V0cHV0PVtdKTowIT10JiZlLm91dHB1dC5wdXNoKHQpfSxmc3luYyhlKXtlLm91dHB1dCYmMDxlLm91dHB1dC5sZW5ndGgmJihMKE1lKGUub3V0cHV0LDApKSxlLm91dHB1dD1bXSl9fSxCZT0oKT0+e1EoImludGVybmFsIGVycm9yOiBtbWFwQWxsb2MgY2FsbGVkIGJ1dCBgZW1zY3JpcHRlbl9idWlsdGluX21lbWFsaWduYCBuYXRpdmUgc3ltYm9sIG5vdCBleHBvcnRlZCIpfTtmdW5jdGlvbiBWZShlLHQpe3ZhciByPWUubT9lLm0ubGVuZ3RoOjA7cj49dHx8KHQ9TWF0aC5tYXgodCxyKigxMDQ4NTc2PnI/MjoxLjEyNSk+Pj4wKSwwIT1yJiYodD1NYXRoLm1heCh0LDI1NikpLHI9ZS5tLGUubT1uZXcgVWludDhBcnJheSh0KSwwPGUubyYmZS5tLnNldChyLnN1YmFycmF5KDAsZS5vKSwwKSl9dmFyIFllPXtHOm51bGwsczooKT0+WWUuY3JlYXRlTm9kZShudWxsLCIvIiwxNjg5NSwwKSxjcmVhdGVOb2RlKGUsdCxyLGEpe2lmKDI0NTc2PT0oNjE0NDAmcil8fF90LmlzRklGTyhyKSl0aHJvdyBuZXcgX3QuZyg2Myk7cmV0dXJuIFllLkd8fChZZS5HPXtkaXI6e25vZGU6e0M6WWUuaC5DLHY6WWUuaC52LGxvb2t1cDpZZS5oLmxvb2t1cCxKOlllLmguSixyZW5hbWU6WWUuaC5yZW5hbWUsdW5saW5rOlllLmgudW5saW5rLHJtZGlyOlllLmgucm1kaXIscmVhZGRpcjpZZS5oLnJlYWRkaXIsc3ltbGluazpZZS5oLnN5bWxpbmt9LHN0cmVhbTp7RDpZZS5sLkR9fSxmaWxlOntub2RlOntDOlllLmguQyx2OlllLmgudn0sc3RyZWFtOntEOlllLmwuRCxyZWFkOlllLmwucmVhZCx3cml0ZTpZZS5sLndyaXRlLFQ6WWUubC5ULFM6WWUubC5TLFY6WWUubC5WfX0sbGluazp7bm9kZTp7QzpZZS5oLkMsdjpZZS5oLnYscmVhZGxpbms6WWUuaC5yZWFkbGlua30sc3RyZWFtOnt9fSxuYTp7bm9kZTp7QzpZZS5oLkMsdjpZZS5oLnZ9LHN0cmVhbTpfdC5EYX19KSxYZSgocj1fdC5jcmVhdGVOb2RlKGUsdCxyLGEpKS5tb2RlKT8oci5oPVllLkcuZGlyLm5vZGUsci5sPVllLkcuZGlyLnN0cmVhbSxyLm09e30pOl90LmlzRmlsZShyLm1vZGUpPyhyLmg9WWUuRy5maWxlLm5vZGUsci5sPVllLkcuZmlsZS5zdHJlYW0sci5vPTAsci5tPW51bGwpOjQwOTYwPT0oNjE0NDAmci5tb2RlKT8oci5oPVllLkcubGluay5ub2RlLHIubD1ZZS5HLmxpbmsuc3RyZWFtKTo4MTkyPT0oNjE0NDAmci5tb2RlKSYmKHIuaD1ZZS5HLm5hLm5vZGUsci5sPVllLkcubmEuc3RyZWFtKSxyLnRpbWVzdGFtcD1EYXRlLm5vdygpLGUmJihlLm1bdF09cixlLnRpbWVzdGFtcD1yLnRpbWVzdGFtcCkscn0sbGI6ZT0+ZS5tP2UubS5zdWJhcnJheT9lLm0uc3ViYXJyYXkoMCxlLm8pOm5ldyBVaW50OEFycmF5KGUubSk6bmV3IFVpbnQ4QXJyYXkoMCksaDp7QyhlKXt2YXIgdD17fTtyZXR1cm4gdC5kZXY9ODE5Mj09KDYxNDQwJmUubW9kZSk/ZS5pZDoxLHQuaW5vPWUuaWQsdC5tb2RlPWUubW9kZSx0Lm5saW5rPTEsdC51aWQ9MCx0LmdpZD0wLHQucmRldj1lLnJkZXYsWGUoZS5tb2RlKT90LnNpemU9NDA5NjpfdC5pc0ZpbGUoZS5tb2RlKT90LnNpemU9ZS5vOjQwOTYwPT0oNjE0NDAmZS5tb2RlKT90LnNpemU9ZS5saW5rLmxlbmd0aDp0LnNpemU9MCx0LmF0aW1lPW5ldyBEYXRlKGUudGltZXN0YW1wKSx0Lm10aW1lPW5ldyBEYXRlKGUudGltZXN0YW1wKSx0LmN0aW1lPW5ldyBEYXRlKGUudGltZXN0YW1wKSx0LkJhPTQwOTYsdC5ibG9ja3M9TWF0aC5jZWlsKHQuc2l6ZS90LkJhKSx0fSx2KGUsdCl7aWYodm9pZCAwIT09dC5tb2RlJiYoZS5tb2RlPXQubW9kZSksdm9pZCAwIT09dC50aW1lc3RhbXAmJihlLnRpbWVzdGFtcD10LnRpbWVzdGFtcCksdm9pZCAwIT09dC5zaXplJiYodD10LnNpemUsZS5vIT10KSlpZigwPT10KWUubT1udWxsLGUubz0wO2Vsc2V7dmFyIHI9ZS5tO2UubT1uZXcgVWludDhBcnJheSh0KSxyJiZlLm0uc2V0KHIuc3ViYXJyYXkoMCxNYXRoLm1pbih0LGUubykpKSxlLm89dH19LGxvb2t1cCgpe3Rocm93IF90LmRhWzQ0XX0sSjooZSx0LHIsYSk9PlllLmNyZWF0ZU5vZGUoZSx0LHIsYSkscmVuYW1lKGUsdCxyKXtpZihYZShlLm1vZGUpKXt0cnl7dmFyIGE9SmUodCxyKX1jYXRjaChlKXt9aWYoYSlmb3IodmFyIG4gaW4gYS5tKXRocm93IG5ldyBfdC5nKDU1KX1kZWxldGUgZS5wYXJlbnQubVtlLm5hbWVdLGUucGFyZW50LnRpbWVzdGFtcD1EYXRlLm5vdygpLGUubmFtZT1yLHQubVtyXT1lLHQudGltZXN0YW1wPWUucGFyZW50LnRpbWVzdGFtcCxlLnBhcmVudD10fSx1bmxpbmsoZSx0KXtkZWxldGUgZS5tW3RdLGUudGltZXN0YW1wPURhdGUubm93KCl9LHJtZGlyKGUsdCl7dmFyIHIsYT1KZShlLHQpO2ZvcihyIGluIGEubSl0aHJvdyBuZXcgX3QuZyg1NSk7ZGVsZXRlIGUubVt0XSxlLnRpbWVzdGFtcD1EYXRlLm5vdygpfSxyZWFkZGlyKGUpe3ZhciB0LHI9WyIuIiwiLi4iXTtmb3IodCBpbiBlLm0pZS5tLmhhc093blByb3BlcnR5KHQpJiZyLnB1c2godCk7cmV0dXJuIHJ9LHN5bWxpbms6KGUsdCxyKT0+KChlPVllLmNyZWF0ZU5vZGUoZSx0LDQxNDcxLDApKS5saW5rPXIsZSkscmVhZGxpbmsoZSl7aWYoNDA5NjAhPSg2MTQ0MCZlLm1vZGUpKXRocm93IG5ldyBfdC5nKDI4KTtyZXR1cm4gZS5saW5rfX0sbDp7cmVhZChlLHQscixhLG4pe3ZhciBpPWUubm9kZS5tO2lmKG4+PWUubm9kZS5vKXJldHVybiAwO2lmKE4oMDw9KGU9TWF0aC5taW4oZS5ub2RlLm8tbixhKSkpLDg8ZSYmaS5zdWJhcnJheSl0LnNldChpLnN1YmFycmF5KG4sbitlKSxyKTtlbHNlIGZvcihhPTA7YTxlO2ErKyl0W3IrYV09aVtuK2FdO3JldHVybiBlfSx3cml0ZShlLHQscixhLG4saSl7aWYoTighKHQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikpLHQuYnVmZmVyPT09Uy5idWZmZXImJihpPSExKSwhYSlyZXR1cm4gMDtpZigoZT1lLm5vZGUpLnRpbWVzdGFtcD1EYXRlLm5vdygpLHQuc3ViYXJyYXkmJighZS5tfHxlLm0uc3ViYXJyYXkpKXtpZihpKXJldHVybiBOKDA9PT1uLCJjYW5Pd24gbXVzdCBpbXBseSBubyB3ZWlyZCBwb3NpdGlvbiBpbnNpZGUgdGhlIGZpbGUiKSxlLm09dC5zdWJhcnJheShyLHIrYSksZS5vPWE7aWYoMD09PWUubyYmMD09PW4pcmV0dXJuIGUubT10LnNsaWNlKHIscithKSxlLm89YTtpZihuK2E8PWUubylyZXR1cm4gZS5tLnNldCh0LnN1YmFycmF5KHIscithKSxuKSxhfWlmKFZlKGUsbithKSxlLm0uc3ViYXJyYXkmJnQuc3ViYXJyYXkpZS5tLnNldCh0LnN1YmFycmF5KHIscithKSxuKTtlbHNlIGZvcihpPTA7aTxhO2krKyllLm1bbitpXT10W3IraV07cmV0dXJuIGUubz1NYXRoLm1heChlLm8sbithKSxhfSxEKGUsdCxyKXtpZigxPT09cj90Kz1lLnBvc2l0aW9uOjI9PT1yJiZfdC5pc0ZpbGUoZS5ub2RlLm1vZGUpJiYodCs9ZS5ub2RlLm8pLDA+dCl0aHJvdyBuZXcgX3QuZygyOCk7cmV0dXJuIHR9LFQoZSx0LHIpe1ZlKGUubm9kZSx0K3IpLGUubm9kZS5vPU1hdGgubWF4KGUubm9kZS5vLHQrcil9LFMoZSx0LHIsYSxuKXtpZighX3QuaXNGaWxlKGUubm9kZS5tb2RlKSl0aHJvdyBuZXcgX3QuZyg0Myk7aWYoZT1lLm5vZGUubSwyJm58fGUuYnVmZmVyIT09Uy5idWZmZXIpe2lmKCgwPHJ8fHIrdDxlLmxlbmd0aCkmJihlPWUuc3ViYXJyYXk/ZS5zdWJhcnJheShyLHIrdCk6QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSxyLHIrdCkpLHI9ITAsISh0PUJlKCkpKXRocm93IG5ldyBfdC5nKDQ4KTtTLnNldChlLHQpfWVsc2Ugcj0hMSx0PWUuYnl0ZU9mZnNldDtyZXR1cm57UmE6dCxBYTpyfX0sVjooZSx0LHIsYSk9PihZZS5sLndyaXRlKGUsdCwwLGEsciwhMSksMCl9fSxqZT0oZSx0LHIpPT57dmFyIGE9WChgYWwgJHtlfWApO3AoZSwocj0+e04ocixgTG9hZGluZyBkYXRhIGZpbGUgIiR7ZX0iIGZhaWxlZCAobm8gYXJyYXlCdWZmZXIpLmApLHQobmV3IFVpbnQ4QXJyYXkocikpLGEmJlooYSl9KSwoKCk9PntpZighcil0aHJvd2BMb2FkaW5nIGRhdGEgZmlsZSAiJHtlfSIgZmFpbGVkLmA7cigpfSkpLGEmJkooYSl9LHplPVtdLEhlPShlLHQscixhKT0+eyJ1bmRlZmluZWQiIT10eXBlb2YgQnJvd3NlciYmQnJvd3Nlci5SKCk7dmFyIG49ITE7cmV0dXJuIHplLmZvckVhY2goKGk9PnshbiYmaS5jYW5IYW5kbGUodCkmJihpLmhhbmRsZShlLHQscixhKSxuPSEwKX0pKSxufSwkZT0oZSx0KT0+e3ZhciByPTA7cmV0dXJuIGUmJihyfD0zNjUpLHQmJihyfD0xNDYpLHJ9LEdlPXswOiJTdWNjZXNzIiwxOiJBcmcgbGlzdCB0b28gbG9uZyIsMjoiUGVybWlzc2lvbiBkZW5pZWQiLDM6IkFkZHJlc3MgYWxyZWFkeSBpbiB1c2UiLDQ6IkFkZHJlc3Mgbm90IGF2YWlsYWJsZSIsNToiQWRkcmVzcyBmYW1pbHkgbm90IHN1cHBvcnRlZCBieSBwcm90b2NvbCBmYW1pbHkiLDY6Ik5vIG1vcmUgcHJvY2Vzc2VzIiw3OiJTb2NrZXQgYWxyZWFkeSBjb25uZWN0ZWQiLDg6IkJhZCBmaWxlIG51bWJlciIsOToiVHJ5aW5nIHRvIHJlYWQgdW5yZWFkYWJsZSBtZXNzYWdlIiwxMDoiTW91bnQgZGV2aWNlIGJ1c3kiLDExOiJPcGVyYXRpb24gY2FuY2VsZWQiLDEyOiJObyBjaGlsZHJlbiIsMTM6IkNvbm5lY3Rpb24gYWJvcnRlZCIsMTQ6IkNvbm5lY3Rpb24gcmVmdXNlZCIsMTU6IkNvbm5lY3Rpb24gcmVzZXQgYnkgcGVlciIsMTY6IkZpbGUgbG9ja2luZyBkZWFkbG9jayBlcnJvciIsMTc6IkRlc3RpbmF0aW9uIGFkZHJlc3MgcmVxdWlyZWQiLDE4OiJNYXRoIGFyZyBvdXQgb2YgZG9tYWluIG9mIGZ1bmMiLDE5OiJRdW90YSBleGNlZWRlZCIsMjA6IkZpbGUgZXhpc3RzIiwyMToiQmFkIGFkZHJlc3MiLDIyOiJGaWxlIHRvbyBsYXJnZSIsMjM6Ikhvc3QgaXMgdW5yZWFjaGFibGUiLDI0OiJJZGVudGlmaWVyIHJlbW92ZWQiLDI1OiJJbGxlZ2FsIGJ5dGUgc2VxdWVuY2UiLDI2OiJDb25uZWN0aW9uIGFscmVhZHkgaW4gcHJvZ3Jlc3MiLDI3OiJJbnRlcnJ1cHRlZCBzeXN0ZW0gY2FsbCIsMjg6IkludmFsaWQgYXJndW1lbnQiLDI5OiJJL08gZXJyb3IiLDMwOiJTb2NrZXQgaXMgYWxyZWFkeSBjb25uZWN0ZWQiLDMxOiJJcyBhIGRpcmVjdG9yeSIsMzI6IlRvbyBtYW55IHN5bWJvbGljIGxpbmtzIiwzMzoiVG9vIG1hbnkgb3BlbiBmaWxlcyIsMzQ6IlRvbyBtYW55IGxpbmtzIiwzNToiTWVzc2FnZSB0b28gbG9uZyIsMzY6Ik11bHRpaG9wIGF0dGVtcHRlZCIsMzc6IkZpbGUgb3IgcGF0aCBuYW1lIHRvbyBsb25nIiwzODoiTmV0d29yayBpbnRlcmZhY2UgaXMgbm90IGNvbmZpZ3VyZWQiLDM5OiJDb25uZWN0aW9uIHJlc2V0IGJ5IG5ldHdvcmsiLDQwOiJOZXR3b3JrIGlzIHVucmVhY2hhYmxlIiw0MToiVG9vIG1hbnkgb3BlbiBmaWxlcyBpbiBzeXN0ZW0iLDQyOiJObyBidWZmZXIgc3BhY2UgYXZhaWxhYmxlIiw0MzoiTm8gc3VjaCBkZXZpY2UiLDQ0OiJObyBzdWNoIGZpbGUgb3IgZGlyZWN0b3J5Iiw0NToiRXhlYyBmb3JtYXQgZXJyb3IiLDQ2OiJObyByZWNvcmQgbG9ja3MgYXZhaWxhYmxlIiw0NzoiVGhlIGxpbmsgaGFzIGJlZW4gc2V2ZXJlZCIsNDg6Ik5vdCBlbm91Z2ggY29yZSIsNDk6Ik5vIG1lc3NhZ2Ugb2YgZGVzaXJlZCB0eXBlIiw1MDoiUHJvdG9jb2wgbm90IGF2YWlsYWJsZSIsNTE6Ik5vIHNwYWNlIGxlZnQgb24gZGV2aWNlIiw1MjoiRnVuY3Rpb24gbm90IGltcGxlbWVudGVkIiw1MzoiU29ja2V0IGlzIG5vdCBjb25uZWN0ZWQiLDU0OiJOb3QgYSBkaXJlY3RvcnkiLDU1OiJEaXJlY3Rvcnkgbm90IGVtcHR5Iiw1NjoiU3RhdGUgbm90IHJlY292ZXJhYmxlIiw1NzoiU29ja2V0IG9wZXJhdGlvbiBvbiBub24tc29ja2V0Iiw1OToiTm90IGEgdHlwZXdyaXRlciIsNjA6Ik5vIHN1Y2ggZGV2aWNlIG9yIGFkZHJlc3MiLDYxOiJWYWx1ZSB0b28gbGFyZ2UgZm9yIGRlZmluZWQgZGF0YSB0eXBlIiw2MjoiUHJldmlvdXMgb3duZXIgZGllZCIsNjM6Ik5vdCBzdXBlci11c2VyIiw2NDoiQnJva2VuIHBpcGUiLDY1OiJQcm90b2NvbCBlcnJvciIsNjY6IlVua25vd24gcHJvdG9jb2wiLDY3OiJQcm90b2NvbCB3cm9uZyB0eXBlIGZvciBzb2NrZXQiLDY4OiJNYXRoIHJlc3VsdCBub3QgcmVwcmVzZW50YWJsZSIsNjk6IlJlYWQgb25seSBmaWxlIHN5c3RlbSIsNzA6IklsbGVnYWwgc2VlayIsNzE6Ik5vIHN1Y2ggcHJvY2VzcyIsNzI6IlN0YWxlIGZpbGUgaGFuZGxlIiw3MzoiQ29ubmVjdGlvbiB0aW1lZCBvdXQiLDc0OiJUZXh0IGZpbGUgYnVzeSIsNzU6IkNyb3NzLWRldmljZSBsaW5rIiwxMDA6IkRldmljZSBub3QgYSBzdHJlYW0iLDEwMToiQmFkIGZvbnQgZmlsZSBmbXQiLDEwMjoiSW52YWxpZCBzbG90IiwxMDM6IkludmFsaWQgcmVxdWVzdCBjb2RlIiwxMDQ6Ik5vIGFub2RlIiwxMDU6IkJsb2NrIGRldmljZSByZXF1aXJlZCIsMTA2OiJDaGFubmVsIG51bWJlciBvdXQgb2YgcmFuZ2UiLDEwNzoiTGV2ZWwgMyBoYWx0ZWQiLDEwODoiTGV2ZWwgMyByZXNldCIsMTA5OiJMaW5rIG51bWJlciBvdXQgb2YgcmFuZ2UiLDExMDoiUHJvdG9jb2wgZHJpdmVyIG5vdCBhdHRhY2hlZCIsMTExOiJObyBDU0kgc3RydWN0dXJlIGF2YWlsYWJsZSIsMTEyOiJMZXZlbCAyIGhhbHRlZCIsMTEzOiJJbnZhbGlkIGV4Y2hhbmdlIiwxMTQ6IkludmFsaWQgcmVxdWVzdCBkZXNjcmlwdG9yIiwxMTU6IkV4Y2hhbmdlIGZ1bGwiLDExNjoiTm8gZGF0YSAoZm9yIG5vIGRlbGF5IGlvKSIsMTE3OiJUaW1lciBleHBpcmVkIiwxMTg6Ik91dCBvZiBzdHJlYW1zIHJlc291cmNlcyIsMTE5OiJNYWNoaW5lIGlzIG5vdCBvbiB0aGUgbmV0d29yayIsMTIwOiJQYWNrYWdlIG5vdCBpbnN0YWxsZWQiLDEyMToiVGhlIG9iamVjdCBpcyByZW1vdGUiLDEyMjoiQWR2ZXJ0aXNlIGVycm9yIiwxMjM6IlNybW91bnQgZXJyb3IiLDEyNDoiQ29tbXVuaWNhdGlvbiBlcnJvciBvbiBzZW5kIiwxMjU6IkNyb3NzIG1vdW50IHBvaW50IChub3QgcmVhbGx5IGVycm9yKSIsMTI2OiJHaXZlbiBsb2cuIG5hbWUgbm90IHVuaXF1ZSIsMTI3OiJmLmQuIGludmFsaWQgZm9yIHRoaXMgb3BlcmF0aW9uIiwxMjg6IlJlbW90ZSBhZGRyZXNzIGNoYW5nZWQiLDEyOToiQ2FuICAgYWNjZXNzIGEgbmVlZGVkIHNoYXJlZCBsaWIiLDEzMDoiQWNjZXNzaW5nIGEgY29ycnVwdGVkIHNoYXJlZCBsaWIiLDEzMToiLmxpYiBzZWN0aW9uIGluIGEub3V0IGNvcnJ1cHRlZCIsMTMyOiJBdHRlbXB0aW5nIHRvIGxpbmsgaW4gdG9vIG1hbnkgbGlicyIsMTMzOiJBdHRlbXB0aW5nIHRvIGV4ZWMgYSBzaGFyZWQgbGlicmFyeSIsMTM1OiJTdHJlYW1zIHBpcGUgZXJyb3IiLDEzNjoiVG9vIG1hbnkgdXNlcnMiLDEzNzoiU29ja2V0IHR5cGUgbm90IHN1cHBvcnRlZCIsMTM4OiJOb3Qgc3VwcG9ydGVkIiwxMzk6IlByb3RvY29sIGZhbWlseSBub3Qgc3VwcG9ydGVkIiwxNDA6IkNhbid0IHNlbmQgYWZ0ZXIgc29ja2V0IHNodXRkb3duIiwxNDE6IlRvbyBtYW55IHJlZmVyZW5jZXMiLDE0MjoiSG9zdCBpcyBkb3duIiwxNDg6Ik5vIG1lZGl1bSAoaW4gdGFwZSBkcml2ZSkiLDE1NjoiTGV2ZWwgMiBub3Qgc3luY2hyb25pemVkIn0sV2U9e0VQRVJNOjYzLEVOT0VOVDo0NCxFU1JDSDo3MSxFSU5UUjoyNyxFSU86MjksRU5YSU86NjAsRTJCSUc6MSxFTk9FWEVDOjQ1LEVCQURGOjgsRUNISUxEOjEyLEVBR0FJTjo2LEVXT1VMREJMT0NLOjYsRU5PTUVNOjQ4LEVBQ0NFUzoyLEVGQVVMVDoyMSxFTk9UQkxLOjEwNSxFQlVTWToxMCxFRVhJU1Q6MjAsRVhERVY6NzUsRU5PREVWOjQzLEVOT1RESVI6NTQsRUlTRElSOjMxLEVJTlZBTDoyOCxFTkZJTEU6NDEsRU1GSUxFOjMzLEVOT1RUWTo1OSxFVFhUQlNZOjc0LEVGQklHOjIyLEVOT1NQQzo1MSxFU1BJUEU6NzAsRVJPRlM6NjksRU1MSU5LOjM0LEVQSVBFOjY0LEVET006MTgsRVJBTkdFOjY4LEVOT01TRzo0OSxFSURSTToyNCxFQ0hSTkc6MTA2LEVMMk5TWU5DOjE1NixFTDNITFQ6MTA3LEVMM1JTVDoxMDgsRUxOUk5HOjEwOSxFVU5BVENIOjExMCxFTk9DU0k6MTExLEVMMkhMVDoxMTIsRURFQURMSzoxNixFTk9MQ0s6NDYsRUJBREU6MTEzLEVCQURSOjExNCxFWEZVTEw6MTE1LEVOT0FOTzoxMDQsRUJBRFJRQzoxMDMsRUJBRFNMVDoxMDIsRURFQURMT0NLOjE2LEVCRk9OVDoxMDEsRU5PU1RSOjEwMCxFTk9EQVRBOjExNixFVElNRToxMTcsRU5PU1I6MTE4LEVOT05FVDoxMTksRU5PUEtHOjEyMCxFUkVNT1RFOjEyMSxFTk9MSU5LOjQ3LEVBRFY6MTIyLEVTUk1OVDoxMjMsRUNPTU06MTI0LEVQUk9UTzo2NSxFTVVMVElIT1A6MzYsRURPVERPVDoxMjUsRUJBRE1TRzo5LEVOT1RVTklROjEyNixFQkFERkQ6MTI3LEVSRU1DSEc6MTI4LEVMSUJBQ0M6MTI5LEVMSUJCQUQ6MTMwLEVMSUJTQ046MTMxLEVMSUJNQVg6MTMyLEVMSUJFWEVDOjEzMyxFTk9TWVM6NTIsRU5PVEVNUFRZOjU1LEVOQU1FVE9PTE9ORzozNyxFTE9PUDozMixFT1BOT1RTVVBQOjEzOCxFUEZOT1NVUFBPUlQ6MTM5LEVDT05OUkVTRVQ6MTUsRU5PQlVGUzo0MixFQUZOT1NVUFBPUlQ6NSxFUFJPVE9UWVBFOjY3LEVOT1RTT0NLOjU3LEVOT1BST1RPT1BUOjUwLEVTSFVURE9XTjoxNDAsRUNPTk5SRUZVU0VEOjE0LEVBRERSSU5VU0U6MyxFQ09OTkFCT1JURUQ6MTMsRU5FVFVOUkVBQ0g6NDAsRU5FVERPV046MzgsRVRJTUVET1VUOjczLEVIT1NURE9XTjoxNDIsRUhPU1RVTlJFQUNIOjIzLEVJTlBST0dSRVNTOjI2LEVBTFJFQURZOjcsRURFU1RBRERSUkVROjE3LEVNU0dTSVpFOjM1LEVQUk9UT05PU1VQUE9SVDo2NixFU09DS1ROT1NVUFBPUlQ6MTM3LEVBRERSTk9UQVZBSUw6NCxFTkVUUkVTRVQ6MzksRUlTQ09OTjozMCxFTk9UQ09OTjo1MyxFVE9PTUFOWVJFRlM6MTQxLEVVU0VSUzoxMzYsRURRVU9UOjE5LEVTVEFMRTo3MixFTk9UU1VQOjEzOCxFTk9NRURJVU06MTQ4LEVJTFNFUToyNSxFT1ZFUkZMT1c6NjEsRUNBTkNFTEVEOjExLEVOT1RSRUNPVkVSQUJMRTo1NixFT1dORVJERUFEOjYyLEVTVFJQSVBFOjEzNX0scWU9ZT0+ZS5yZXBsYWNlKC9cYl9aW1x3XGRfXSsvZywoZnVuY3Rpb24oZSl7cmV0dXJuIGdlKCJ3YXJuaW5nOiBidWlsZCB3aXRoIC1zREVNQU5HTEVfU1VQUE9SVCB0byBsaW5rIGluIGxpYmN4eGFiaSBkZW1hbmdsaW5nIiksZT09ZT9lOmUrIiBbIitlKyJdIn0pKTtmdW5jdGlvbiBLZShlLHQpe190LnBhW2VdPXtsOnR9fWZ1bmN0aW9uIFhlKGUpe3JldHVybiAxNjM4ND09KDYxNDQwJmUpfWZ1bmN0aW9uIEplKGUsdCl7dmFyIHI7aWYocj0ocj1udChlLCJ4IikpP3I6ZS5oLmxvb2t1cD8wOjIpdGhyb3cgbmV3IF90LmcocixlKTtmb3Iocj1fdC5GW2V0KGUuaWQsdCldO3I7cj1yLk4pe3ZhciBhPXIubmFtZTtpZihyLnBhcmVudC5pZD09PWUuaWQmJmE9PT10KXJldHVybiByfXJldHVybiBfdC5sb29rdXAoZSx0KX1mdW5jdGlvbiBaZShlLHQ9e30pe2lmKCEoZT1TZShlKSkpcmV0dXJue3BhdGg6IiIsbm9kZTpudWxsfTtpZig4PCh0PU9iamVjdC5hc3NpZ24oe2JhOiEwLGthOjB9LHQpKS5rYSl0aHJvdyBuZXcgX3QuZygzMik7ZT1lLnNwbGl0KCIvIikuZmlsdGVyKChlPT4hIWUpKTtmb3IodmFyIHI9X3Qucm9vdCxhPSIvIixuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciBpPW49PT1lLmxlbmd0aC0xO2lmKGkmJnQucGFyZW50KWJyZWFrO2lmKHI9SmUocixlW25dKSxhPXdlKGErIi8iK2Vbbl0pLHIuQSYmKCFpfHxpJiZ0LmJhKSYmKHI9ci5BLnJvb3QpLCFpfHx0LkIpZm9yKGk9MDs0MDk2MD09KDYxNDQwJnIubW9kZSk7KWlmKHI9X3QucmVhZGxpbmsoYSkscj1aZShhPVNlKHllKGEpLHIpLHtrYTp0LmthKzF9KS5ub2RlLDQwPGkrKyl0aHJvdyBuZXcgX3QuZygzMil9cmV0dXJue3BhdGg6YSxub2RlOnJ9fWZ1bmN0aW9uIFFlKGUpe2Zvcih2YXIgdDs7KXtpZihfdC5aKGUpKXJldHVybiBlPWUucy51YSx0PyIvIiE9PWVbZS5sZW5ndGgtMV0/YCR7ZX0vJHt0fWA6ZSt0OmU7dD10P2Ake2UubmFtZX0vJHt0fWA6ZS5uYW1lLGU9ZS5wYXJlbnR9fWZ1bmN0aW9uIGV0KGUsdCl7Zm9yKHZhciByPTAsYT0wO2E8dC5sZW5ndGg7YSsrKXI9KHI8PDUpLXIrdC5jaGFyQ29kZUF0KGEpfDA7cmV0dXJuKGUrcj4+PjApJV90LkYubGVuZ3RofWZ1bmN0aW9uIHR0KGUpe3ZhciB0PWV0KGUucGFyZW50LmlkLGUubmFtZSk7ZS5OPV90LkZbdF0sX3QuRlt0XT1lfWZ1bmN0aW9uIHJ0KGUpe3ZhciB0PWV0KGUucGFyZW50LmlkLGUubmFtZSk7aWYoX3QuRlt0XT09PWUpX3QuRlt0XT1lLk47ZWxzZSBmb3IodD1fdC5GW3RdO3Q7KXtpZih0Lk49PT1lKXt0Lk49ZS5OO2JyZWFrfXQ9dC5OfX1mdW5jdGlvbiBhdChlKXt2YXIgdD1bInIiLCJ3IiwicnciXVszJmVdO3JldHVybiA1MTImZSYmKHQrPSJ3IiksdH1mdW5jdGlvbiBudChlLHQpe3JldHVybiBfdC50YT8wOiF0LmluY2x1ZGVzKCJyIil8fDI5MiZlLm1vZGU/dC5pbmNsdWRlcygidyIpJiYhKDE0NiZlLm1vZGUpfHx0LmluY2x1ZGVzKCJ4IikmJiEoNzMmZS5tb2RlKT8yOjA6Mn1mdW5jdGlvbiBpdChlLHQpe3RyeXtyZXR1cm4gSmUoZSx0KSwyMH1jYXRjaChlKXt9cmV0dXJuIG50KGUsInd4Iil9ZnVuY3Rpb24gdXQoZSx0LHIpe3RyeXt2YXIgYT1KZShlLHQpfWNhdGNoKGUpe3JldHVybiBlLnV9aWYoZT1udChlLCJ3eCIpKXJldHVybiBlO2lmKHIpe2lmKCFYZShhLm1vZGUpKXJldHVybiA1NDtpZihfdC5aKGEpfHxRZShhKT09PV90LmN3ZCgpKXJldHVybiAxMH1lbHNlIGlmKFhlKGEubW9kZSkpcmV0dXJuIDMxO3JldHVybiAwfWZ1bmN0aW9uIG90KCl7Zm9yKHZhciBlPTA7ZTw9X3QueGE7ZSsrKWlmKCFfdC5zdHJlYW1zW2VdKXJldHVybiBlO3Rocm93IG5ldyBfdC5nKDMzKX1mdW5jdGlvbiBzdChlKXtpZighKGU9X3QucWEoZSkpKXRocm93IG5ldyBfdC5nKDgpO3JldHVybiBlfWZ1bmN0aW9uIGx0KGUsdD0tMSl7cmV0dXJuIF90Llh8fChfdC5YPWZ1bmN0aW9uKCl7dGhpcy5JPXt9fSxfdC5YLnByb3RvdHlwZT17fSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhfdC5YLnByb3RvdHlwZSx7b2JqZWN0OntnZXQoKXtyZXR1cm4gdGhpcy5ub2RlfSxzZXQoZSl7dGhpcy5ub2RlPWV9fSxmbGFnczp7Z2V0KCl7cmV0dXJuIHRoaXMuSS5mbGFnc30sc2V0KGUpe3RoaXMuSS5mbGFncz1lfX0scG9zaXRpb246e2dldCgpe3JldHVybiB0aGlzLkkucG9zaXRpb259LHNldChlKXt0aGlzLkkucG9zaXRpb249ZX19fSkpLGU9T2JqZWN0LmFzc2lnbihuZXcgX3QuWCxlKSwtMT09dCYmKHQ9b3QoKSksZS5mZD10LF90LnN0cmVhbXNbdF09ZX1mdW5jdGlvbiBodChlKXt2YXIgdD1bXTtmb3IoZT1bZV07ZS5sZW5ndGg7KXt2YXIgcj1lLnBvcCgpO3QucHVzaChyKSxlLnB1c2guYXBwbHkoZSxyLlUpfXJldHVybiB0fWZ1bmN0aW9uIGN0KGUsdCxyKXtyZXR1cm4gdm9pZCAwPT09ciYmKHI9dCx0PTQzOCksX3QuSihlLDgxOTJ8dCxyKX1mdW5jdGlvbiBkdCgpe190Lmd8fChfdC5nPWZ1bmN0aW9uKGUsdCl7dGhpcy5uYW1lPSJFcnJub0Vycm9yIix0aGlzLm5vZGU9dCx0aGlzLlNhPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiB0aGlzLnU9ZSxXZSlpZihXZVt0XT09PWUpe3RoaXMuY29kZT10O2JyZWFrfX0sdGhpcy5TYShlKSx0aGlzLm1lc3NhZ2U9R2VbZV0sdGhpcy5zdGFjayYmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJzdGFjayIse3ZhbHVlOkVycm9yKCkuc3RhY2ssd3JpdGFibGU6ITB9KSx0aGlzLnN0YWNrPXFlKHRoaXMuc3RhY2spKX0sX3QuZy5wcm90b3R5cGU9RXJyb3IoKSxfdC5nLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1fdC5nLFs0NF0uZm9yRWFjaCgoZT0+e190LmRhW2VdPW5ldyBfdC5nKGUpLF90LmRhW2VdLnN0YWNrPSI8Z2VuZXJpYyBlcnJvciwgbm8gc3RhY2s+In0pKSl9ZnVuY3Rpb24gZnQoZSx0KXt0cnl7dmFyIHI9WmUoZSx7QjohdH0pO2U9ci5wYXRofWNhdGNoKGUpe312YXIgYT17WjohMSxleGlzdHM6ITEsZXJyb3I6MCxuYW1lOm51bGwscGF0aDpudWxsLG9iamVjdDpudWxsLE9hOiExLFFhOm51bGwsUGE6bnVsbH07dHJ5e3I9WmUoZSx7cGFyZW50OiEwfSksYS5PYT0hMCxhLlFhPXIucGF0aCxhLlBhPXIubm9kZSxhLm5hbWU9dmUoZSkscj1aZShlLHtCOiF0fSksYS5leGlzdHM9ITAsYS5wYXRoPXIucGF0aCxhLm9iamVjdD1yLm5vZGUsYS5uYW1lPXIubm9kZS5uYW1lLGEuWj0iLyI9PT1yLnBhdGh9Y2F0Y2goZSl7YS5lcnJvcj1lLnV9cmV0dXJuIGF9ZnVuY3Rpb24gcHQoZSx0LHIsYSl7cmV0dXJuIGU9InN0cmluZyI9PXR5cGVvZiBlP2U6UWUoZSksdD13ZShlKyIvIit0KSxfdC5jcmVhdGUodCwkZShyLGEpKX1mdW5jdGlvbiBtdChlKXtpZighKGUuTGF8fGUuTWF8fGUubGlua3x8ZS5tKSl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBYTUxIdHRwUmVxdWVzdCl0aHJvdyBFcnJvcigiTGF6eSBsb2FkaW5nIHNob3VsZCBoYXZlIGJlZW4gcGVyZm9ybWVkIChjb250ZW50cyBzZXQpIGluIGNyZWF0ZUxhenlGaWxlLCBidXQgaXQgd2FzIG5vdC4gTGF6eSBsb2FkaW5nIG9ubHkgd29ya3MgaW4gd2ViIHdvcmtlcnMuIFVzZSAtLWVtYmVkLWZpbGUgb3IgLS1wcmVsb2FkLWZpbGUgaW4gZW1jYyBvbiB0aGUgbWFpbiB0aHJlYWQuIik7aWYoIWYpdGhyb3cgRXJyb3IoIkNhbm5vdCBsb2FkIHdpdGhvdXQgcmVhZCgpIG9yIFhNTEh0dHBSZXF1ZXN0LiIpO3RyeXtlLm09UGUoZihlLnVybCksITApLGUubz1lLm0ubGVuZ3RofWNhdGNoKGUpe3Rocm93IG5ldyBfdC5nKDI5KX19fXZhciBfdD17cm9vdDpudWxsLFU6W10scGE6e30sc3RyZWFtczpbXSxOYToxLEY6bnVsbCxvYToiLyIsWTohMSx0YTohMCxnOm51bGwsZGE6e30sRmE6bnVsbCxXOjAsY3JlYXRlTm9kZTooZSx0LHIsYSk9PihOKCJvYmplY3QiPT10eXBlb2YgZSksdHQoZT1uZXcgX3Qud2EoZSx0LHIsYSkpLGUpLFo6ZT0+ZT09PWUucGFyZW50LGlzRmlsZTplPT4zMjc2OD09KDYxNDQwJmUpLGlzRklGTzplPT40MDk2PT0oNjE0NDAmZSksaXNTb2NrZXQ6ZT0+NDkxNTI9PSg0OTE1MiZlKSx4YTo0MDk2LHFhOmU9Pl90LnN0cmVhbXNbZV0sRGE6e29wZW4oZSl7ZS5sPV90LkdhKGUubm9kZS5yZGV2KS5sLGUubC5vcGVuJiZlLmwub3BlbihlKX0sRCgpe3Rocm93IG5ldyBfdC5nKDcwKX19LGhhOmU9PmU+PjgsbmI6ZT0+MjU1JmUsTTooZSx0KT0+ZTw8OHx0LEdhOmU9Pl90LnBhW2VdLHZhKGUsdCl7ZnVuY3Rpb24gcihlKXtyZXR1cm4gTigwPF90LlcpLF90LlctLSx0KGUpfWZ1bmN0aW9uIGEoZSl7aWYoZSl7aWYoIWEuRWEpcmV0dXJuIGEuRWE9ITAscihlKX1lbHNlKytpPj1uLmxlbmd0aCYmcihudWxsKX0iZnVuY3Rpb24iPT10eXBlb2YgZSYmKHQ9ZSxlPSExKSxfdC5XKyssMTxfdC5XJiZMKGB3YXJuaW5nOiAke190Lld9IEZTLnN5bmNmcyBvcGVyYXRpb25zIGluIGZsaWdodCBhdCBvbmNlLCBwcm9iYWJseSBqdXN0IGRvaW5nIGV4dHJhIHdvcmtgKTt2YXIgbj1odChfdC5yb290LnMpLGk9MDtuLmZvckVhY2goKHQ9PntpZighdC50eXBlLnZhKXJldHVybiBhKG51bGwpO3QudHlwZS52YSh0LGUsYSl9KSl9LHMoZSx0LHIpe2lmKCJzdHJpbmciPT10eXBlb2YgZSl0aHJvdyBlO3ZhciBhPSIvIj09PXIsbj0hcjtpZihhJiZfdC5yb290KXRocm93IG5ldyBfdC5nKDEwKTtpZighYSYmIW4pe3ZhciBpPVplKHIse2JhOiExfSk7aWYocj1pLnBhdGgsKGk9aS5ub2RlKS5BKXRocm93IG5ldyBfdC5nKDEwKTtpZighWGUoaS5tb2RlKSl0aHJvdyBuZXcgX3QuZyg1NCl9cmV0dXJuIHQ9e3R5cGU6ZSxyYjp0LHVhOnIsVTpbXX0sKGU9ZS5zKHQpKS5zPXQsdC5yb290PWUsYT9fdC5yb290PWU6aSYmKGkuQT10LGkucyYmaS5zLlUucHVzaCh0KSksZX0seGIoZSl7aWYoIShlPVplKGUse2JhOiExfSkpLm5vZGUuQSl0aHJvdyBuZXcgX3QuZygyOCk7dmFyIHQ9KGU9ZS5ub2RlKS5BLHI9aHQodCk7T2JqZWN0LmtleXMoX3QuRikuZm9yRWFjaCgoZT0+e2ZvcihlPV90LkZbZV07ZTspe3ZhciB0PWUuTjtyLmluY2x1ZGVzKGUucykmJnJ0KGUpLGU9dH19KSksZS5BPW51bGwsTigtMSE9PSh0PWUucy5VLmluZGV4T2YodCkpKSxlLnMuVS5zcGxpY2UodCwxKX0sbG9va3VwOihlLHQpPT5lLmgubG9va3VwKGUsdCksSihlLHQscil7dmFyIGE9WmUoZSx7cGFyZW50OiEwfSkubm9kZTtpZighKGU9dmUoZSkpfHwiLiI9PT1lfHwiLi4iPT09ZSl0aHJvdyBuZXcgX3QuZygyOCk7dmFyIG49aXQoYSxlKTtpZihuKXRocm93IG5ldyBfdC5nKG4pO2lmKCFhLmguSil0aHJvdyBuZXcgX3QuZyg2Myk7cmV0dXJuIGEuaC5KKGEsZSx0LHIpfSxjcmVhdGU6KGUsdCk9Pl90LkooZSw0MDk1Jih2b2lkIDAhPT10P3Q6NDM4KXwzMjc2OCwwKSxta2RpcjooZSx0KT0+X3QuSihlLDEwMjMmKHZvaWQgMCE9PXQ/dDo1MTEpfDE2Mzg0LDApLG9iKGUsdCl7ZT1lLnNwbGl0KCIvIik7Zm9yKHZhciByPSIiLGE9MDthPGUubGVuZ3RoOysrYSlpZihlW2FdKXtyKz0iLyIrZVthXTt0cnl7X3QubWtkaXIocix0KX1jYXRjaChlKXtpZigyMCE9ZS51KXRocm93IGV9fX0sc3ltbGluayhlLHQpe2lmKCFTZShlKSl0aHJvdyBuZXcgX3QuZyg0NCk7dmFyIHI9WmUodCx7cGFyZW50OiEwfSkubm9kZTtpZighcil0aHJvdyBuZXcgX3QuZyg0NCk7dmFyIGE9aXQocix0PXZlKHQpKTtpZihhKXRocm93IG5ldyBfdC5nKGEpO2lmKCFyLmguc3ltbGluayl0aHJvdyBuZXcgX3QuZyg2Myk7cmV0dXJuIHIuaC5zeW1saW5rKHIsdCxlKX0scmVuYW1lKGUsdCl7dmFyIHI9eWUoZSksYT15ZSh0KSxuPXZlKGUpLGk9dmUodCksdT1aZShlLHtwYXJlbnQ6ITB9KSxvPXUubm9kZTtpZih1PSh1PVplKHQse3BhcmVudDohMH0pKS5ub2RlLCFvfHwhdSl0aHJvdyBuZXcgX3QuZyg0NCk7aWYoby5zIT09dS5zKXRocm93IG5ldyBfdC5nKDc1KTt2YXIgcz1KZShvLG4pO2lmKCIuIiE9PShlPUFlKGUsYSkpLmNoYXJBdCgwKSl0aHJvdyBuZXcgX3QuZygyOCk7aWYoIi4iIT09KGU9QWUodCxyKSkuY2hhckF0KDApKXRocm93IG5ldyBfdC5nKDU1KTt0cnl7dmFyIGw9SmUodSxpKX1jYXRjaChlKXt9aWYocyE9PWwpe2lmKG49dXQobyxuLHQ9WGUocy5tb2RlKSkpdGhyb3cgbmV3IF90Lmcobik7aWYobj1sP3V0KHUsaSx0KTppdCh1LGkpKXRocm93IG5ldyBfdC5nKG4pO2lmKCFvLmgucmVuYW1lKXRocm93IG5ldyBfdC5nKDYzKTtpZihzLkF8fGwmJmwuQSl0aHJvdyBuZXcgX3QuZygxMCk7aWYodSE9PW8mJihuPW50KG8sInciKSkpdGhyb3cgbmV3IF90Lmcobik7cnQocyk7dHJ5e28uaC5yZW5hbWUocyx1LGkpfWNhdGNoKGUpe3Rocm93IGV9ZmluYWxseXt0dChzKX19fSxybWRpcihlKXt2YXIgdD1aZShlLHtwYXJlbnQ6ITB9KS5ub2RlLHI9SmUodCxlPXZlKGUpKSxhPXV0KHQsZSwhMCk7aWYoYSl0aHJvdyBuZXcgX3QuZyhhKTtpZighdC5oLnJtZGlyKXRocm93IG5ldyBfdC5nKDYzKTtpZihyLkEpdGhyb3cgbmV3IF90LmcoMTApO3QuaC5ybWRpcih0LGUpLHJ0KHIpfSxyZWFkZGlyKGUpe2lmKCEoZT1aZShlLHtCOiEwfSkubm9kZSkuaC5yZWFkZGlyKXRocm93IG5ldyBfdC5nKDU0KTtyZXR1cm4gZS5oLnJlYWRkaXIoZSl9LHVubGluayhlKXt2YXIgdD1aZShlLHtwYXJlbnQ6ITB9KS5ub2RlO2lmKCF0KXRocm93IG5ldyBfdC5nKDQ0KTt2YXIgcj1KZSh0LGU9dmUoZSkpLGE9dXQodCxlLCExKTtpZihhKXRocm93IG5ldyBfdC5nKGEpO2lmKCF0LmgudW5saW5rKXRocm93IG5ldyBfdC5nKDYzKTtpZihyLkEpdGhyb3cgbmV3IF90LmcoMTApO3QuaC51bmxpbmsodCxlKSxydChyKX0scmVhZGxpbmsoZSl7aWYoIShlPVplKGUpLm5vZGUpKXRocm93IG5ldyBfdC5nKDQ0KTtpZighZS5oLnJlYWRsaW5rKXRocm93IG5ldyBfdC5nKDI4KTtyZXR1cm4gU2UoUWUoZS5wYXJlbnQpLGUuaC5yZWFkbGluayhlKSl9LHN0YXQoZSx0KXtpZighKGU9WmUoZSx7QjohdH0pLm5vZGUpKXRocm93IG5ldyBfdC5nKDQ0KTtpZighZS5oLkMpdGhyb3cgbmV3IF90LmcoNjMpO3JldHVybiBlLmguQyhlKX0sbHN0YXQ6ZT0+X3Quc3RhdChlLCEwKSxjaG1vZChlLHQscil7aWYoIShlPSJzdHJpbmciPT10eXBlb2YgZT9aZShlLHtCOiFyfSkubm9kZTplKS5oLnYpdGhyb3cgbmV3IF90LmcoNjMpO2UuaC52KGUse21vZGU6NDA5NSZ0fC00MDk2JmUubW9kZSx0aW1lc3RhbXA6RGF0ZS5ub3coKX0pfSxsY2htb2QoZSx0KXtfdC5jaG1vZChlLHQsITApfSxmY2htb2QoZSx0KXtlPXN0KGUpLF90LmNobW9kKGUubm9kZSx0KX0sY2hvd24oZSx0LHIsYSl7aWYoIShlPSJzdHJpbmciPT10eXBlb2YgZT9aZShlLHtCOiFhfSkubm9kZTplKS5oLnYpdGhyb3cgbmV3IF90LmcoNjMpO2UuaC52KGUse3RpbWVzdGFtcDpEYXRlLm5vdygpfSl9LGxjaG93bihlLHQscil7X3QuY2hvd24oZSx0LHIsITApfSxmY2hvd24oZSx0LHIpe2U9c3QoZSksX3QuY2hvd24oZS5ub2RlLHQscil9LHRydW5jYXRlKGUsdCl7aWYoMD50KXRocm93IG5ldyBfdC5nKDI4KTtpZighKGU9InN0cmluZyI9PXR5cGVvZiBlP1plKGUse0I6ITB9KS5ub2RlOmUpLmgudil0aHJvdyBuZXcgX3QuZyg2Myk7aWYoWGUoZS5tb2RlKSl0aHJvdyBuZXcgX3QuZygzMSk7aWYoIV90LmlzRmlsZShlLm1vZGUpKXRocm93IG5ldyBfdC5nKDI4KTt2YXIgcj1udChlLCJ3Iik7aWYocil0aHJvdyBuZXcgX3QuZyhyKTtlLmgudihlLHtzaXplOnQsdGltZXN0YW1wOkRhdGUubm93KCl9KX0sa2IoZSx0KXtpZigwPT0oMjA5NzE1NSYoZT1zdChlKSkuZmxhZ3MpKXRocm93IG5ldyBfdC5nKDI4KTtfdC50cnVuY2F0ZShlLm5vZGUsdCl9LHliKGUsdCxyKXsoZT1aZShlLHtCOiEwfSkubm9kZSkuaC52KGUse3RpbWVzdGFtcDpNYXRoLm1heCh0LHIpfSl9LG9wZW4oZSx0LHIpe2lmKCIiPT09ZSl0aHJvdyBuZXcgX3QuZyg0NCk7aWYoInN0cmluZyI9PXR5cGVvZiB0KXt2YXIgYT17cjowLCJyKyI6Mix3OjU3NywidysiOjU3OCxhOjEwODksImErIjoxMDkwfVt0XTtpZih2b2lkIDA9PT1hKXRocm93IEVycm9yKGBVbmtub3duIGZpbGUgb3BlbiBtb2RlOiAke3R9YCk7dD1hfWlmKHI9NjQmdD80MDk1Jih2b2lkIDA9PT1yPzQzODpyKXwzMjc2ODowLCJvYmplY3QiPT10eXBlb2YgZSl2YXIgbj1lO2Vsc2V7ZT13ZShlKTt0cnl7bj1aZShlLHtCOiEoMTMxMDcyJnQpfSkubm9kZX1jYXRjaChlKXt9fWlmKGE9ITEsNjQmdClpZihuKXtpZigxMjgmdCl0aHJvdyBuZXcgX3QuZygyMCl9ZWxzZSBuPV90LkooZSxyLDApLGE9ITA7aWYoIW4pdGhyb3cgbmV3IF90LmcoNDQpO2lmKDgxOTI9PSg2MTQ0MCZuLm1vZGUpJiYodCY9LTUxMyksNjU1MzYmdCYmIVhlKG4ubW9kZSkpdGhyb3cgbmV3IF90LmcoNTQpO2lmKCFhJiYocj1uPzQwOTYwPT0oNjE0NDAmbi5tb2RlKT8zMjpYZShuLm1vZGUpJiYoInIiIT09YXQodCl8fDUxMiZ0KT8zMTpudChuLGF0KHQpKTo0NCkpdGhyb3cgbmV3IF90Lmcocik7cmV0dXJuIDUxMiZ0JiYhYSYmX3QudHJ1bmNhdGUobiwwKSx0Jj0tMTMxNzEzLChuPWx0KHtub2RlOm4scGF0aDpRZShuKSxmbGFnczp0LHNlZWthYmxlOiEwLHBvc2l0aW9uOjAsbDpuLmwsWGE6W10sZXJyb3I6ITF9KSkubC5vcGVuJiZuLmwub3BlbihuKSwhaS5sb2dSZWFkRmlsZXN8fDEmdHx8KF90LmphfHwoX3QuamE9e30pLGUgaW4gX3QuamF8fChfdC5qYVtlXT0xKSksbn0sY2xvc2UoZSl7aWYobnVsbD09PWUuZmQpdGhyb3cgbmV3IF90LmcoOCk7ZS5lYSYmKGUuZWE9bnVsbCk7dHJ5e2UubC5jbG9zZSYmZS5sLmNsb3NlKGUpfWNhdGNoKGUpe3Rocm93IGV9ZmluYWxseXtfdC5zdHJlYW1zW2UuZmRdPW51bGx9ZS5mZD1udWxsfSxEKGUsdCxyKXtpZihudWxsPT09ZS5mZCl0aHJvdyBuZXcgX3QuZyg4KTtpZighZS5zZWVrYWJsZXx8IWUubC5EKXRocm93IG5ldyBfdC5nKDcwKTtpZigwIT1yJiYxIT1yJiYyIT1yKXRocm93IG5ldyBfdC5nKDI4KTtyZXR1cm4gZS5wb3NpdGlvbj1lLmwuRChlLHQsciksZS5YYT1bXSxlLnBvc2l0aW9ufSxyZWFkKGUsdCxyLGEsbil7aWYoTigwPD1yKSwwPmF8fDA+bil0aHJvdyBuZXcgX3QuZygyOCk7aWYobnVsbD09PWUuZmQpdGhyb3cgbmV3IF90LmcoOCk7aWYoMT09KDIwOTcxNTUmZS5mbGFncykpdGhyb3cgbmV3IF90LmcoOCk7aWYoWGUoZS5ub2RlLm1vZGUpKXRocm93IG5ldyBfdC5nKDMxKTtpZighZS5sLnJlYWQpdGhyb3cgbmV3IF90LmcoMjgpO3ZhciBpPXZvaWQgMCE9PW47aWYoaSl7aWYoIWUuc2Vla2FibGUpdGhyb3cgbmV3IF90LmcoNzApfWVsc2Ugbj1lLnBvc2l0aW9uO3JldHVybiB0PWUubC5yZWFkKGUsdCxyLGEsbiksaXx8KGUucG9zaXRpb24rPXQpLHR9LHdyaXRlKGUsdCxyLGEsbixpKXtpZihOKDA8PXIpLDA+YXx8MD5uKXRocm93IG5ldyBfdC5nKDI4KTtpZihudWxsPT09ZS5mZCl0aHJvdyBuZXcgX3QuZyg4KTtpZigwPT0oMjA5NzE1NSZlLmZsYWdzKSl0aHJvdyBuZXcgX3QuZyg4KTtpZihYZShlLm5vZGUubW9kZSkpdGhyb3cgbmV3IF90LmcoMzEpO2lmKCFlLmwud3JpdGUpdGhyb3cgbmV3IF90LmcoMjgpO2Uuc2Vla2FibGUmJjEwMjQmZS5mbGFncyYmX3QuRChlLDAsMik7dmFyIHU9dm9pZCAwIT09bjtpZih1KXtpZighZS5zZWVrYWJsZSl0aHJvdyBuZXcgX3QuZyg3MCl9ZWxzZSBuPWUucG9zaXRpb247cmV0dXJuIHQ9ZS5sLndyaXRlKGUsdCxyLGEsbixpKSx1fHwoZS5wb3NpdGlvbis9dCksdH0sVChlLHQscil7aWYobnVsbD09PWUuZmQpdGhyb3cgbmV3IF90LmcoOCk7aWYoMD50fHwwPj1yKXRocm93IG5ldyBfdC5nKDI4KTtpZigwPT0oMjA5NzE1NSZlLmZsYWdzKSl0aHJvdyBuZXcgX3QuZyg4KTtpZighX3QuaXNGaWxlKGUubm9kZS5tb2RlKSYmIVhlKGUubm9kZS5tb2RlKSl0aHJvdyBuZXcgX3QuZyg0Myk7aWYoIWUubC5UKXRocm93IG5ldyBfdC5nKDEzOCk7ZS5sLlQoZSx0LHIpfSxTKGUsdCxyLGEsbil7aWYoMCE9KDImYSkmJjA9PSgyJm4pJiYyIT0oMjA5NzE1NSZlLmZsYWdzKSl0aHJvdyBuZXcgX3QuZygyKTtpZigxPT0oMjA5NzE1NSZlLmZsYWdzKSl0aHJvdyBuZXcgX3QuZygyKTtpZighZS5sLlMpdGhyb3cgbmV3IF90LmcoNDMpO3JldHVybiBlLmwuUyhlLHQscixhLG4pfSxWOihlLHQscixhLG4pPT4oTigwPD1yKSxlLmwuVj9lLmwuVihlLHQscixhLG4pOjApLHFiOigpPT4wLGZhKGUsdCxyKXtpZighZS5sLmZhKXRocm93IG5ldyBfdC5nKDU5KTtyZXR1cm4gZS5sLmZhKGUsdCxyKX0scmVhZEZpbGUoZSx0PXt9KXtpZih0LmZsYWdzPXQuZmxhZ3N8fDAsdC5lbmNvZGluZz10LmVuY29kaW5nfHwiYmluYXJ5IiwidXRmOCIhPT10LmVuY29kaW5nJiYiYmluYXJ5IiE9PXQuZW5jb2RpbmcpdGhyb3cgRXJyb3IoYEludmFsaWQgZW5jb2RpbmcgdHlwZSAiJHt0LmVuY29kaW5nfSJgKTt2YXIgcixhPV90Lm9wZW4oZSx0LmZsYWdzKTtlPV90LnN0YXQoZSkuc2l6ZTt2YXIgbj1uZXcgVWludDhBcnJheShlKTtyZXR1cm4gX3QucmVhZChhLG4sMCxlLDApLCJ1dGY4Ij09PXQuZW5jb2Rpbmc/cj1NZShuLDApOiJiaW5hcnkiPT09dC5lbmNvZGluZyYmKHI9biksX3QuY2xvc2UoYSkscn0sd3JpdGVGaWxlKGUsdCxyPXt9KXtpZihyLmZsYWdzPXIuZmxhZ3N8fDU3NyxlPV90Lm9wZW4oZSxyLmZsYWdzLHIubW9kZSksInN0cmluZyI9PXR5cGVvZiB0KXt2YXIgYT1uZXcgVWludDhBcnJheShGZSh0KSsxKTt0PXhlKHQsYSwwLGEubGVuZ3RoKSxfdC53cml0ZShlLGEsMCx0LHZvaWQgMCxyLkNhKX1lbHNle2lmKCFBcnJheUJ1ZmZlci5pc1ZpZXcodCkpdGhyb3cgRXJyb3IoIlVuc3VwcG9ydGVkIGRhdGEgdHlwZSIpO190LndyaXRlKGUsdCwwLHQuYnl0ZUxlbmd0aCx2b2lkIDAsci5DYSl9X3QuY2xvc2UoZSl9LGN3ZDooKT0+X3Qub2EsY2hkaXIoZSl7aWYobnVsbD09PShlPVplKGUse0I6ITB9KSkubm9kZSl0aHJvdyBuZXcgX3QuZyg0NCk7aWYoIVhlKGUubm9kZS5tb2RlKSl0aHJvdyBuZXcgX3QuZyg1NCk7dmFyIHQ9bnQoZS5ub2RlLCJ4Iik7aWYodCl0aHJvdyBuZXcgX3QuZyh0KTtfdC5vYT1lLnBhdGh9LFIoZSx0LHIpe04oIV90LlIuWSwiRlMuaW5pdCB3YXMgcHJldmlvdXNseSBjYWxsZWQuIElmIHlvdSB3YW50IHRvIGluaXRpYWxpemUgbGF0ZXIgd2l0aCBjdXN0b20gcGFyYW1ldGVycywgcmVtb3ZlIGFueSBlYXJsaWVyIGNhbGxzIChub3RlIHRoYXQgb25lIGlzIGF1dG9tYXRpY2FsbHkgYWRkZWQgdG8gdGhlIGdlbmVyYXRlZCBjb2RlKSIpLF90LlIuWT0hMCxkdCgpLGkuc3RkaW49ZXx8aS5zdGRpbixpLnN0ZG91dD10fHxpLnN0ZG91dCxpLnN0ZGVycj1yfHxpLnN0ZGVycixpLnN0ZGluP190LkwoIi9kZXYiLCJzdGRpbiIsaS5zdGRpbik6X3Quc3ltbGluaygiL2Rldi90dHkiLCIvZGV2L3N0ZGluIiksaS5zdGRvdXQ/X3QuTCgiL2RldiIsInN0ZG91dCIsbnVsbCxpLnN0ZG91dCk6X3Quc3ltbGluaygiL2Rldi90dHkiLCIvZGV2L3N0ZG91dCIpLGkuc3RkZXJyP190LkwoIi9kZXYiLCJzdGRlcnIiLG51bGwsaS5zdGRlcnIpOl90LnN5bWxpbmsoIi9kZXYvdHR5MSIsIi9kZXYvc3RkZXJyIiksZT1fdC5vcGVuKCIvZGV2L3N0ZGluIiwwKSx0PV90Lm9wZW4oIi9kZXYvc3Rkb3V0IiwxKSxyPV90Lm9wZW4oIi9kZXYvc3RkZXJyIiwxKSxOKDA9PT1lLmZkLGBpbnZhbGlkIGhhbmRsZSBmb3Igc3RkaW4gKCR7ZS5mZH0pYCksTigxPT09dC5mZCxgaW52YWxpZCBoYW5kbGUgZm9yIHN0ZG91dCAoJHt0LmZkfSlgKSxOKDI9PT1yLmZkLGBpbnZhbGlkIGhhbmRsZSBmb3Igc3RkZXJyICgke3IuZmR9KWApfSxzYigpe190LlIuWT0hMSxqdCgwKTtmb3IodmFyIGU9MDtlPF90LnN0cmVhbXMubGVuZ3RoO2UrKyl7dmFyIHQ9X3Quc3RyZWFtc1tlXTt0JiZfdC5jbG9zZSh0KX19LGpiOihlLHQpPT4oZT1mdChlLHQpKS5leGlzdHM/ZS5vYmplY3Q6bnVsbCxoYihlLHQpe2ZvcihlPSJzdHJpbmciPT10eXBlb2YgZT9lOlFlKGUpLHQ9dC5zcGxpdCgiLyIpLnJldmVyc2UoKTt0Lmxlbmd0aDspe3ZhciByPXQucG9wKCk7aWYocil7dmFyIGE9d2UoZSsiLyIrcik7dHJ5e190Lm1rZGlyKGEpfWNhdGNoKGUpe31lPWF9fXJldHVybiBhfSxMKGUsdCxyLGEpe2U9RWUoInN0cmluZyI9PXR5cGVvZiBlP2U6UWUoZSksdCksdD0kZSghIXIsISFhKSxfdC5MLmhhfHwoX3QuTC5oYT02NCk7dmFyIG49X3QuTShfdC5MLmhhKyssMCk7cmV0dXJuIEtlKG4se29wZW4oZSl7ZS5zZWVrYWJsZT0hMX0sY2xvc2UoKXthJiZhLmJ1ZmZlciYmYS5idWZmZXIubGVuZ3RoJiZhKDEwKX0scmVhZChlLHQsYSxuKXtmb3IodmFyIGk9MCx1PTA7dTxuO3UrKyl7dHJ5e3ZhciBvPXIoKX1jYXRjaChlKXt0aHJvdyBuZXcgX3QuZygyOSl9aWYodm9pZCAwPT09byYmMD09PWkpdGhyb3cgbmV3IF90LmcoNik7aWYobnVsbD09bylicmVhaztpKyssdFthK3VdPW99cmV0dXJuIGkmJihlLm5vZGUudGltZXN0YW1wPURhdGUubm93KCkpLGl9LHdyaXRlKGUsdCxyLG4pe2Zvcih2YXIgaT0wO2k8bjtpKyspdHJ5e2EodFtyK2ldKX1jYXRjaChlKXt0aHJvdyBuZXcgX3QuZygyOSl9cmV0dXJuIG4mJihlLm5vZGUudGltZXN0YW1wPURhdGUubm93KCkpLGl9fSksY3QoZSx0LG4pfSxmYihlLHQscixhLG4pe2Z1bmN0aW9uIGkoKXt0aGlzLmdhPSExLHRoaXMuST1bXX1mdW5jdGlvbiB1KGUsdCxyLGEsbil7aWYobj49KGU9ZS5ub2RlLm0pLmxlbmd0aClyZXR1cm4gMDtpZihOKDA8PShhPU1hdGgubWluKGUubGVuZ3RoLW4sYSkpKSxlLnNsaWNlKWZvcih2YXIgaT0wO2k8YTtpKyspdFtyK2ldPWVbbitpXTtlbHNlIGZvcihpPTA7aTxhO2krKyl0W3IraV09ZS5nZXQobitpKTtyZXR1cm4gYX1pZihpLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7aWYoIShlPnRoaXMubGVuZ3RoLTF8fDA+ZSkpe3ZhciB0PWUldGhpcy5jaHVua1NpemU7cmV0dXJuIHRoaXMuc2EoZS90aGlzLmNodW5rU2l6ZXwwKVt0XX19LGkucHJvdG90eXBlLkhhPWZ1bmN0aW9uKGUpe3RoaXMuc2E9ZX0saS5wcm90b3R5cGUubWE9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgWE1MSHR0cFJlcXVlc3Q7aWYoZS5vcGVuKCJIRUFEIixyLCExKSxlLnNlbmQobnVsbCksISgyMDA8PWUuc3RhdHVzJiYzMDA+ZS5zdGF0dXN8fDMwND09PWUuc3RhdHVzKSl0aHJvdyBFcnJvcigiQ291bGRuJ3QgbG9hZCAiK3IrIi4gU3RhdHVzOiAiK2Uuc3RhdHVzKTt2YXIgdCxhPU51bWJlcihlLmdldFJlc3BvbnNlSGVhZGVyKCJDb250ZW50LWxlbmd0aCIpKSxuPSh0PWUuZ2V0UmVzcG9uc2VIZWFkZXIoIkFjY2VwdC1SYW5nZXMiKSkmJiJieXRlcyI9PT10O2U9KHQ9ZS5nZXRSZXNwb25zZUhlYWRlcigiQ29udGVudC1FbmNvZGluZyIpKSYmImd6aXAiPT09dDt2YXIgaT0xMDQ4NTc2O258fChpPWEpO3ZhciB1PXRoaXM7dS5IYSgoZT0+e3ZhciB0PWUqaSxuPShlKzEpKmktMTtpZihuPU1hdGgubWluKG4sYS0xKSx2b2lkIDA9PT11LklbZV0pe3ZhciBvPXUuSTtpZih0Pm4pdGhyb3cgRXJyb3IoImludmFsaWQgcmFuZ2UgKCIrdCsiLCAiK24rIikgb3Igbm8gYnl0ZXMgcmVxdWVzdGVkISIpO2lmKG4+YS0xKXRocm93IEVycm9yKCJvbmx5ICIrYSsiIGJ5dGVzIGF2YWlsYWJsZSEgcHJvZ3JhbW1lciBlcnJvciEiKTt2YXIgcz1uZXcgWE1MSHR0cFJlcXVlc3Q7aWYocy5vcGVuKCJHRVQiLHIsITEpLGEhPT1pJiZzLnNldFJlcXVlc3RIZWFkZXIoIlJhbmdlIiwiYnl0ZXM9Iit0KyItIituKSxzLnJlc3BvbnNlVHlwZT0iYXJyYXlidWZmZXIiLHMub3ZlcnJpZGVNaW1lVHlwZSYmcy5vdmVycmlkZU1pbWVUeXBlKCJ0ZXh0L3BsYWluOyBjaGFyc2V0PXgtdXNlci1kZWZpbmVkIikscy5zZW5kKG51bGwpLCEoMjAwPD1zLnN0YXR1cyYmMzAwPnMuc3RhdHVzfHwzMDQ9PT1zLnN0YXR1cykpdGhyb3cgRXJyb3IoIkNvdWxkbid0IGxvYWQgIityKyIuIFN0YXR1czogIitzLnN0YXR1cyk7dD12b2lkIDAhPT1zLnJlc3BvbnNlP25ldyBVaW50OEFycmF5KHMucmVzcG9uc2V8fFtdKTpQZShzLnJlc3BvbnNlVGV4dHx8IiIsITApLG9bZV09dH1pZih2b2lkIDA9PT11LklbZV0pdGhyb3cgRXJyb3IoImRvWEhSIGZhaWxlZCEiKTtyZXR1cm4gdS5JW2VdfSkpLCFlJiZhfHwoaT1hPTEsaT1hPXRoaXMuc2EoMCkubGVuZ3RoLEUoIkxhenlGaWxlcyBvbiBnemlwIGZvcmNlcyBkb3dubG9hZCBvZiB0aGUgd2hvbGUgZmlsZSB3aGVuIGxlbmd0aCBpcyBhY2Nlc3NlZCIpKSx0aGlzLnphPWEsdGhpcy55YT1pLHRoaXMuZ2E9ITB9LCJ1bmRlZmluZWQiIT10eXBlb2YgWE1MSHR0cFJlcXVlc3Qpe2lmKCFoKXRocm93IkNhbm5vdCBkbyBzeW5jaHJvbm91cyBiaW5hcnkgWEhScyBvdXRzaWRlIHdlYndvcmtlcnMgaW4gbW9kZXJuIGJyb3dzZXJzLiBVc2UgLS1lbWJlZC1maWxlIG9yIC0tcHJlbG9hZC1maWxlIGluIGVtY2MiO3ZhciBvPW5ldyBpO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG8se2xlbmd0aDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2F8fHRoaXMubWEoKSx0aGlzLnphfX0sY2h1bmtTaXplOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nYXx8dGhpcy5tYSgpLHRoaXMueWF9fX0pO3ZhciBzPXZvaWQgMH1lbHNlIHM9cixvPXZvaWQgMDt2YXIgbD1wdChlLHQsYSxuKTtvP2wubT1vOnMmJihsLm09bnVsbCxsLnVybD1zKSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhsLHtvOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tLmxlbmd0aH19fSk7dmFyIGM9e307cmV0dXJuIE9iamVjdC5rZXlzKGwubCkuZm9yRWFjaCgoZT0+e3ZhciB0PWwubFtlXTtjW2VdPWZ1bmN0aW9uKCl7cmV0dXJuIG10KGwpLHQuYXBwbHkobnVsbCxhcmd1bWVudHMpfX0pKSxjLnJlYWQ9KGUsdCxyLGEsbik9PihtdChsKSx1KGUsdCxyLGEsbikpLGMuUz0oZSx0LHIpPT57bXQobCk7dmFyIGE9QmUoKTtpZighYSl0aHJvdyBuZXcgX3QuZyg0OCk7cmV0dXJuIHUoZSxTLGEsdCxyKSx7UmE6YSxBYTohMH19LGwubD1jLGx9LFlhKCl7USgiRlMuYWJzb2x1dGVQYXRoIGhhcyBiZWVuIHJlbW92ZWQ7IHVzZSBQQVRIX0ZTLnJlc29sdmUgaW5zdGVhZCIpfSxlYigpe1EoIkZTLmNyZWF0ZUZvbGRlciBoYXMgYmVlbiByZW1vdmVkOyB1c2UgRlMubWtkaXIgaW5zdGVhZCIpfSxnYigpe1EoIkZTLmNyZWF0ZUxpbmsgaGFzIGJlZW4gcmVtb3ZlZDsgdXNlIEZTLnN5bWxpbmsgaW5zdGVhZCIpfSxtYigpe1EoIkZTLmpvaW5QYXRoIGhhcyBiZWVuIHJlbW92ZWQ7IHVzZSBQQVRILmpvaW4gaW5zdGVhZCIpfSxwYigpe1EoIkZTLm1tYXBBbGxvYyBoYXMgYmVlbiByZXBsYWNlZCBieSB0aGUgdG9wIGxldmVsIGZ1bmN0aW9uIG1tYXBBbGxvYyIpfSx2Yigpe1EoIkZTLnN0YW5kYXJkaXplUGF0aCBoYXMgYmVlbiByZW1vdmVkOyB1c2UgUEFUSC5ub3JtYWxpemUgaW5zdGVhZCIpfX0sZ3Q9ZT0+KE4oIm51bWJlciI9PXR5cGVvZiBlLGBVVEY4VG9TdHJpbmcgZXhwZWN0cyBhIG51bWJlciAoZ290ICR7dHlwZW9mIGV9KWApLGU/TWUoQSxlKToiIik7ZnVuY3Rpb24gYnQoZSx0KXtpZigiLyI9PT10LmNoYXJBdCgwKSlyZXR1cm4gdDtpZihlPS0xMDA9PT1lP190LmN3ZCgpOnN0KGUpLnBhdGgsMD09dC5sZW5ndGgpdGhyb3cgbmV3IF90LmcoNDQpO3JldHVybiB3ZShlKyIvIit0KX12YXIgd3Q9dm9pZCAwO2Z1bmN0aW9uIHl0KCl7TihudWxsIT13dCk7dmFyIGU9TVsrd3Q+PjJdO3JldHVybiB3dCs9NCxlfXZhciB2dCxFdCxMdCxUdD0oZSx0LHIpPT4oTigibnVtYmVyIj09dHlwZW9mIHIsInN0cmluZ1RvVVRGOChzdHIsIG91dFB0ciwgbWF4Qnl0ZXNUb1dyaXRlKSBpcyBtaXNzaW5nIHRoZSB0aGlyZCBwYXJhbWV0ZXIgdGhhdCBzcGVjaWZpZXMgdGhlIGxlbmd0aCBvZiB0aGUgb3V0cHV0IGJ1ZmZlciEiKSx4ZShlLEEsdCxyKSksa3Q9ZT0+MD09ZSU0JiYoMCE9ZSUxMDB8fDA9PWUlNDAwKSxTdD1bMCwzMSw2MCw5MSwxMjEsMTUyLDE4MiwyMTMsMjQ0LDI3NCwzMDUsMzM1XSxBdD1bMCwzMSw1OSw5MCwxMjAsMTUxLDE4MSwyMTIsMjQzLDI3MywzMDQsMzM0XSxSdD1lPT57dmFyIHQ9RmUoZSkrMSxyPXp0KHQpO3JldHVybiByJiZUdChlLHIsdCkscn0sTXQ9e30sT3Q9KCk9PntpZighdnQpe3ZhciBlLHQ9e1VTRVI6IndlYl91c2VyIixMT0dOQU1FOiJ3ZWJfdXNlciIsUEFUSDoiLyIsUFdEOiIvIixIT01FOiIvaG9tZS93ZWJfdXNlciIsTEFORzooIm9iamVjdCI9PXR5cGVvZiBuYXZpZ2F0b3ImJm5hdmlnYXRvci5sYW5ndWFnZXMmJm5hdmlnYXRvci5sYW5ndWFnZXNbMF18fCJDIikucmVwbGFjZSgiLSIsIl8iKSsiLlVURi04IixfOm98fCIuL3RoaXMucHJvZ3JhbSJ9O2ZvcihlIGluIE10KXZvaWQgMD09PU10W2VdP2RlbGV0ZSB0W2VdOnRbZV09TXRbZV07dmFyIHI9W107Zm9yKGUgaW4gdClyLnB1c2goYCR7ZX09JHt0W2VdfWApO3Z0PXJ9cmV0dXJuIHZ0fSxGdD1bMzEsMjksMzEsMzAsMzEsMzAsMzEsMzEsMzAsMzEsMzAsMzFdLHh0PVszMSwyOCwzMSwzMCwzMSwzMCwzMSwzMSwzMCwzMSwzMCwzMV0sUHQ9KGUsdCk9PntOKDA8PWUubGVuZ3RoLCJ3cml0ZUFycmF5VG9NZW1vcnkgYXJyYXkgbXVzdCBoYXZlIGEgbGVuZ3RoIChzaG91bGQgYmUgYW4gYXJyYXkgb3IgdHlwZWQgYXJyYXkpIiksUy5zZXQoZSx0KX0sSXQ9W10sTnQ9ZT0+e3ZhciB0PUl0W2VdO3JldHVybiB0fHwoZT49SXQubGVuZ3RoJiYoSXQubGVuZ3RoPWUrMSksSXRbZV09dD1FdC5nZXQoZSkpLE4oRXQuZ2V0KGUpPT10LCJKYXZhU2NyaXB0LXNpZGUgV2FzbSBmdW5jdGlvbiB0YWJsZSBtaXJyb3IgaXMgb3V0IG9mIGRhdGUhIiksdH0sQ3Q9ZT0+e3ZhciB0PWlbIl8iK2VdO3JldHVybiBOKHQsIkNhbm5vdCBjYWxsIHVua25vd24gZnVuY3Rpb24gIitlKyIsIG1ha2Ugc3VyZSBpdCBpcyBleHBvcnRlZCIpLHR9LFV0PVtdO2Z1bmN0aW9uIER0KGUsdCxyLGEpe2V8fD10aGlzLHRoaXMucGFyZW50PWUsdGhpcy5zPWUucyx0aGlzLkE9bnVsbCx0aGlzLmlkPV90Lk5hKyssdGhpcy5uYW1lPXQsdGhpcy5tb2RlPXIsdGhpcy5oPXt9LHRoaXMubD17fSx0aGlzLnJkZXY9YX1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhEdC5wcm90b3R5cGUse3JlYWQ6e2dldDpmdW5jdGlvbigpe3JldHVybiAzNjU9PSgzNjUmdGhpcy5tb2RlKX0sc2V0OmZ1bmN0aW9uKGUpe2U/dGhpcy5tb2RlfD0zNjU6dGhpcy5tb2RlJj0tMzY2fX0sd3JpdGU6e2dldDpmdW5jdGlvbigpe3JldHVybiAxNDY9PSgxNDYmdGhpcy5tb2RlKX0sc2V0OmZ1bmN0aW9uKGUpe2U/dGhpcy5tb2RlfD0xNDY6dGhpcy5tb2RlJj0tMTQ3fX0sTWE6e2dldDpmdW5jdGlvbigpe3JldHVybiBYZSh0aGlzLm1vZGUpfX0sTGE6e2dldDpmdW5jdGlvbigpe3JldHVybiA4MTkyPT0oNjE0NDAmdGhpcy5tb2RlKX19fSksX3Qud2E9RHQsX3QuaWI9KGUsdCxyLGEsbixpLHUsbyxzLGwpPT57ZnVuY3Rpb24gaChyKXtmdW5jdGlvbiBoKHIpe2lmKGwmJmwoKSwhbyl7dmFyIHU9ZSxoPXQ7aWYodSYmKHU9InN0cmluZyI9PXR5cGVvZiB1P3U6UWUodSksaD10P3dlKHUrIi8iK3QpOnUpLHU9JGUoYSxuKSxoPV90LmNyZWF0ZShoLHUpLHIpe2lmKCJzdHJpbmciPT10eXBlb2Ygcil7Zm9yKHZhciBjPUFycmF5KHIubGVuZ3RoKSxmPTAscD1yLmxlbmd0aDtmPHA7KytmKWNbZl09ci5jaGFyQ29kZUF0KGYpO3I9Y31fdC5jaG1vZChoLDE0Nnx1KSxjPV90Lm9wZW4oaCw1NzcpLF90LndyaXRlKGMsciwwLHIubGVuZ3RoLDAscyksX3QuY2xvc2UoYyksX3QuY2htb2QoaCx1KX19aSYmaSgpLFooZCl9SGUocixjLGgsKCgpPT57dSYmdSgpLFooZCl9KSl8fGgocil9dmFyIGM9dD9TZSh3ZShlKyIvIit0KSk6ZSxkPVgoYGNwICR7Y31gKTtKKGQpLCJzdHJpbmciPT10eXBlb2Ygcj9qZShyLChlPT5oKGUpKSx1KTpoKHIpfSxkdCgpLF90LkY9QXJyYXkoNDA5NiksX3QucyhZZSx7fSwiLyIpLF90Lm1rZGlyKCIvdG1wIiksX3QubWtkaXIoIi9ob21lIiksX3QubWtkaXIoIi9ob21lL3dlYl91c2VyIiksZnVuY3Rpb24oKXtfdC5ta2RpcigiL2RldiIpLEtlKF90Lk0oMSwzKSx7cmVhZDooKT0+MCx3cml0ZTooZSx0LHIsYSk9PmF9KSxjdCgiL2Rldi9udWxsIixfdC5NKDEsMykpLE5lKF90Lk0oNSwwKSxVZSksTmUoX3QuTSg2LDApLERlKSxjdCgiL2Rldi90dHkiLF90Lk0oNSwwKSksY3QoIi9kZXYvdHR5MSIsX3QuTSg2LDApKTt2YXIgZT1uZXcgVWludDhBcnJheSgxMDI0KSx0PTAscj0oKT0+KDA9PT10JiYodD1rZShlKS5ieXRlTGVuZ3RoKSxlWy0tdF0pO190LkwoIi9kZXYiLCJyYW5kb20iLHIpLF90LkwoIi9kZXYiLCJ1cmFuZG9tIixyKSxfdC5ta2RpcigiL2Rldi9zaG0iKSxfdC5ta2RpcigiL2Rldi9zaG0vdG1wIil9KCksZnVuY3Rpb24oKXtfdC5ta2RpcigiL3Byb2MiKTt2YXIgZT1fdC5ta2RpcigiL3Byb2Mvc2VsZiIpO190Lm1rZGlyKCIvcHJvYy9zZWxmL2ZkIiksX3Qucyh7cygpe3ZhciB0PV90LmNyZWF0ZU5vZGUoZSwiZmQiLDE2ODk1LDczKTtyZXR1cm4gdC5oPXtsb29rdXAoZSx0KXt2YXIgcj1zdCgrdCk7cmV0dXJuKGU9e3BhcmVudDpudWxsLHM6e3VhOiJmYWtlIn0saDp7cmVhZGxpbms6KCk9PnIucGF0aH19KS5wYXJlbnQ9ZX19LHR9fSx7fSwiL3Byb2Mvc2VsZi9mZCIpfSgpLF90LkZhPXtNRU1GUzpZZX07dmFyIEJ0PXtfX3N5c2NhbGxfZHVwMzpmdW5jdGlvbihlLHQscil7dHJ5e3ZhciBhPXN0KGUpO2lmKE4oIXIpLGEuZmQ9PT10KXJldHVybi0yODt2YXIgbj1fdC5xYSh0KTtyZXR1cm4gbiYmX3QuY2xvc2UobiksbHQoYSx0KS5mZH1jYXRjaChlKXtpZih2b2lkIDA9PT1fdHx8IkVycm5vRXJyb3IiIT09ZS5uYW1lKXRocm93IGU7cmV0dXJuLWUudX19LF9fc3lzY2FsbF9mY250bDY0OmZ1bmN0aW9uKGUsdCxyKXt3dD1yO3RyeXt2YXIgYT1zdChlKTtzd2l0Y2godCl7Y2FzZSAwOnZhciBuPXl0KCk7aWYoMD5uKXJldHVybi0yODtmb3IoO190LnN0cmVhbXNbbl07KW4rKztyZXR1cm4gbHQoYSxuKS5mZDtjYXNlIDE6Y2FzZSAyOmNhc2UgNjpjYXNlIDc6cmV0dXJuIDA7Y2FzZSAzOnJldHVybiBhLmZsYWdzO2Nhc2UgNDpyZXR1cm4gbj15dCgpLGEuZmxhZ3N8PW4sMDtjYXNlIDU6cmV0dXJuIG49eXQoKSxSW24rMD4+MV09MiwwO2Nhc2UgMTY6Y2FzZSA4OmRlZmF1bHQ6cmV0dXJuLTI4O2Nhc2UgOTpyZXR1cm4gTVtZdCgpPj4yXT0yOCwtMX19Y2F0Y2goZSl7aWYodm9pZCAwPT09X3R8fCJFcnJub0Vycm9yIiE9PWUubmFtZSl0aHJvdyBlO3JldHVybi1lLnV9fSxfX3N5c2NhbGxfaW9jdGw6ZnVuY3Rpb24oZSx0LHIpe3d0PXI7dHJ5e3ZhciBhPXN0KGUpO3N3aXRjaCh0KXtjYXNlIDIxNTA5OmNhc2UgMjE1MTA6Y2FzZSAyMTUxMTpjYXNlIDIxNTEyOmNhc2UgMjE1MjQ6Y2FzZSAyMTUxNTpyZXR1cm4gYS50dHk/MDotNTk7Y2FzZSAyMTUwNTppZighYS50dHkpcmV0dXJuLTU5O2lmKGEudHR5LksuSWEpe2U9WzMsMjgsMTI3LDIxLDQsMCwxLDAsMTcsMTksMjYsMCwxOCwxNSwyMywyMiwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwXTt2YXIgbj15dCgpO01bbj4+Ml09MjU4NTYsTVtuKzQ+PjJdPTUsTVtuKzg+PjJdPTE5MSxNW24rMTI+PjJdPTM1Mzg3O2Zvcih2YXIgaT0wOzMyPmk7aSsrKVNbbitpKzE3Pj4wXT1lW2ldfHwwfXJldHVybiAwO2Nhc2UgMjE1MDY6Y2FzZSAyMTUwNzpjYXNlIDIxNTA4OmlmKCFhLnR0eSlyZXR1cm4tNTk7aWYoYS50dHkuSy5KYSlmb3Iobj15dCgpLGU9W10saT0wOzMyPmk7aSsrKWUucHVzaChTW24raSsxNz4+MF0pO3JldHVybiAwO2Nhc2UgMjE1MTk6cmV0dXJuIGEudHR5PyhuPXl0KCksTVtuPj4yXT0wKTotNTk7Y2FzZSAyMTUyMDpyZXR1cm4gYS50dHk/LTI4Oi01OTtjYXNlIDIxNTMxOnJldHVybiBuPXl0KCksX3QuZmEoYSx0LG4pO2Nhc2UgMjE1MjM6cmV0dXJuIGEudHR5PyhhLnR0eS5LLkthJiYoaT1bMjQsODBdLG49eXQoKSxSW24+PjFdPWlbMF0sUltuKzI+PjFdPWlbMV0pLDApOi01OTtkZWZhdWx0OnJldHVybi0yOH19Y2F0Y2goZSl7aWYodm9pZCAwPT09X3R8fCJFcnJub0Vycm9yIiE9PWUubmFtZSl0aHJvdyBlO3JldHVybi1lLnV9fSxfX3N5c2NhbGxfb3BlbmF0OmZ1bmN0aW9uKGUsdCxyLGEpe3d0PWE7dHJ5e3Q9YnQoZSx0PWd0KHQpKTt2YXIgbj1hP3l0KCk6MDtyZXR1cm4gX3Qub3Blbih0LHIsbikuZmR9Y2F0Y2goZSl7aWYodm9pZCAwPT09X3R8fCJFcnJub0Vycm9yIiE9PWUubmFtZSl0aHJvdyBlO3JldHVybi1lLnV9fSxfX3N5c2NhbGxfcmVhZGxpbmthdDpmdW5jdGlvbihlLHQscixhKXt0cnl7aWYodD1idChlLHQ9Z3QodCkpLDA+PWEpcmV0dXJuLTI4O3ZhciBuPV90LnJlYWRsaW5rKHQpLGk9TWF0aC5taW4oYSxGZShuKSksdT1TW3IraV07cmV0dXJuIFR0KG4scixhKzEpLFNbcitpXT11LGl9Y2F0Y2goZSl7aWYodm9pZCAwPT09X3R8fCJFcnJub0Vycm9yIiE9PWUubmFtZSl0aHJvdyBlO3JldHVybi1lLnV9fSxfX3N5c2NhbGxfcmVuYW1lYXQ6ZnVuY3Rpb24oZSx0LHIsYSl7dHJ5e3JldHVybiB0PWd0KHQpLGE9Z3QoYSksdD1idChlLHQpLGE9YnQocixhKSxfdC5yZW5hbWUodCxhKSwwfWNhdGNoKGUpe2lmKHZvaWQgMD09PV90fHwiRXJybm9FcnJvciIhPT1lLm5hbWUpdGhyb3cgZTtyZXR1cm4tZS51fX0sX19zeXNjYWxsX3JtZGlyOmZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gZT1ndChlKSxfdC5ybWRpcihlKSwwfWNhdGNoKGUpe2lmKHZvaWQgMD09PV90fHwiRXJybm9FcnJvciIhPT1lLm5hbWUpdGhyb3cgZTtyZXR1cm4tZS51fX0sX19zeXNjYWxsX3VubGlua2F0OmZ1bmN0aW9uKGUsdCxyKXt0cnl7cmV0dXJuIHQ9YnQoZSx0PWd0KHQpKSwwPT09cj9fdC51bmxpbmsodCk6NTEyPT09cj9fdC5ybWRpcih0KTpRKCJJbnZhbGlkIGZsYWdzIHBhc3NlZCB0byB1bmxpbmthdCIpLDB9Y2F0Y2goZSl7aWYodm9pZCAwPT09X3R8fCJFcnJub0Vycm9yIiE9PWUubmFtZSl0aHJvdyBlO3JldHVybi1lLnV9fSxfZW1zY3JpcHRlbl9nZXRfbm93X2lzX21vbm90b25pYzooKT0+MSxfZW1zY3JpcHRlbl90aHJvd19sb25nam1wOigpPT57dGhyb3cgMS8wfSxfZ210aW1lX2pzOmZ1bmN0aW9uKGUsdCl7ZT0tOTAwNzE5OTI1NDc0MDk5Mj5lfHw5MDA3MTk5MjU0NzQwOTkyPGU/TmFOOk51bWJlcihlKSxlPW5ldyBEYXRlKDFlMyplKSxNW3Q+PjJdPWUuZ2V0VVRDU2Vjb25kcygpLE1bdCs0Pj4yXT1lLmdldFVUQ01pbnV0ZXMoKSxNW3QrOD4+Ml09ZS5nZXRVVENIb3VycygpLE1bdCsxMj4+Ml09ZS5nZXRVVENEYXRlKCksTVt0KzE2Pj4yXT1lLmdldFVUQ01vbnRoKCksTVt0KzIwPj4yXT1lLmdldFVUQ0Z1bGxZZWFyKCktMTkwMCxNW3QrMjQ+PjJdPWUuZ2V0VVRDRGF5KCksTVt0KzI4Pj4yXT0oZS5nZXRUaW1lKCktRGF0ZS5VVEMoZS5nZXRVVENGdWxsWWVhcigpLDAsMSwwLDAsMCwwKSkvODY0ZTV8MH0sX2xvY2FsdGltZV9qczpmdW5jdGlvbihlLHQpe2U9LTkwMDcxOTkyNTQ3NDA5OTI+ZXx8OTAwNzE5OTI1NDc0MDk5MjxlP05hTjpOdW1iZXIoZSksZT1uZXcgRGF0ZSgxZTMqZSksTVt0Pj4yXT1lLmdldFNlY29uZHMoKSxNW3QrND4+Ml09ZS5nZXRNaW51dGVzKCksTVt0Kzg+PjJdPWUuZ2V0SG91cnMoKSxNW3QrMTI+PjJdPWUuZ2V0RGF0ZSgpLE1bdCsxNj4+Ml09ZS5nZXRNb250aCgpLE1bdCsyMD4+Ml09ZS5nZXRGdWxsWWVhcigpLTE5MDAsTVt0KzI0Pj4yXT1lLmdldERheSgpLE1bdCsyOD4+Ml09KGt0KGUuZ2V0RnVsbFllYXIoKSk/U3Q6QXQpW2UuZ2V0TW9udGgoKV0rZS5nZXREYXRlKCktMXwwLE1bdCszNj4+Ml09LTYwKmUuZ2V0VGltZXpvbmVPZmZzZXQoKTt2YXIgcj1uZXcgRGF0ZShlLmdldEZ1bGxZZWFyKCksNiwxKS5nZXRUaW1lem9uZU9mZnNldCgpLGE9bmV3IERhdGUoZS5nZXRGdWxsWWVhcigpLDAsMSkuZ2V0VGltZXpvbmVPZmZzZXQoKTtNW3QrMzI+PjJdPTB8KHIhPWEmJmUuZ2V0VGltZXpvbmVPZmZzZXQoKT09TWF0aC5taW4oYSxyKSl9LF9ta3RpbWVfanM6ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IERhdGUoTVtlKzIwPj4yXSsxOTAwLE1bZSsxNj4+Ml0sTVtlKzEyPj4yXSxNW2UrOD4+Ml0sTVtlKzQ+PjJdLE1bZT4+Ml0sMCkscj1NW2UrMzI+PjJdLGE9dC5nZXRUaW1lem9uZU9mZnNldCgpLG49bmV3IERhdGUodC5nZXRGdWxsWWVhcigpLDYsMSkuZ2V0VGltZXpvbmVPZmZzZXQoKSxpPW5ldyBEYXRlKHQuZ2V0RnVsbFllYXIoKSwwLDEpLmdldFRpbWV6b25lT2Zmc2V0KCksdT1NYXRoLm1pbihpLG4pO3JldHVybiAwPnI/TVtlKzMyPj4yXT1OdW1iZXIobiE9aSYmdT09YSk6MDxyIT0odT09YSkmJihuPU1hdGgubWF4KGksbiksdC5zZXRUaW1lKHQuZ2V0VGltZSgpKzZlNCooKDA8cj91Om4pLWEpKSksTVtlKzI0Pj4yXT10LmdldERheSgpLE1bZSsyOD4+Ml09KGt0KHQuZ2V0RnVsbFllYXIoKSk/U3Q6QXQpW3QuZ2V0TW9udGgoKV0rdC5nZXREYXRlKCktMXwwLE1bZT4+Ml09dC5nZXRTZWNvbmRzKCksTVtlKzQ+PjJdPXQuZ2V0TWludXRlcygpLE1bZSs4Pj4yXT10LmdldEhvdXJzKCksTVtlKzEyPj4yXT10LmdldERhdGUoKSxNW2UrMTY+PjJdPXQuZ2V0TW9udGgoKSxNW2UrMjA+PjJdPXQuZ2V0WWVhcigpLGU9dC5nZXRUaW1lKCksaXNOYU4oZSk/KE1bWXQoKT4+Ml09NjEsZT0tMSk6ZS89MWUzLEJpZ0ludChlKX0sX3R6c2V0X2pzOihlLHQscik9PntmdW5jdGlvbiBhKGUpe3JldHVybihlPWUudG9UaW1lU3RyaW5nKCkubWF0Y2goL1woKFtBLVphLXogXSspXCkkLykpP2VbMV06IkdNVCJ9dmFyIG49KG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpLGk9bmV3IERhdGUobiwwLDEpLHU9bmV3IERhdGUobiw2LDEpO249aS5nZXRUaW1lem9uZU9mZnNldCgpO3ZhciBvPXUuZ2V0VGltZXpvbmVPZmZzZXQoKTtPW2U+PjJdPTYwKk1hdGgubWF4KG4sbyksTVt0Pj4yXT1OdW1iZXIobiE9byksZT1hKGkpLHQ9YSh1KSxlPVJ0KGUpLHQ9UnQodCksbzxuPyhPW3I+PjJdPWUsT1tyKzQ+PjJdPXQpOihPW3I+PjJdPXQsT1tyKzQ+PjJdPWUpfSxhYm9ydDooKT0+e1EoIm5hdGl2ZSBjb2RlIGNhbGxlZCBhYm9ydCgpIil9LGVtc2NyaXB0ZW5fZGF0ZV9ub3c6KCk9PkRhdGUubm93KCksZW1zY3JpcHRlbl9nZXRfbm93OigpPT5wZXJmb3JtYW5jZS5ub3coKSxlbXNjcmlwdGVuX3Jlc2l6ZV9oZWFwOmU9Pnt2YXIgdD1BLmxlbmd0aDtpZihOKChlPj4+PTApPnQpLDIxNDc0ODM2NDg8ZSlyZXR1cm4gTChgQ2Fubm90IGVubGFyZ2UgbWVtb3J5LCByZXF1ZXN0ZWQgJHtlfSBieXRlcywgYnV0IHRoZSBsaW1pdCBpcyAyMTQ3NDgzNjQ4IGJ5dGVzIWApLCExO2Zvcih2YXIgcj0xOzQ+PXI7cio9Mil7dmFyIGE9dCooMSsuMi9yKTthPU1hdGgubWluKGEsZSsxMDA2NjMyOTYpO3ZhciBuPU1hdGg7YT1NYXRoLm1heChlLGEpO2U6e2E9bj1uLm1pbi5jYWxsKG4sMjE0NzQ4MzY0OCxhKyg2NTUzNi1hJTY1NTM2KSU2NTUzNik7dmFyIGk9VC5idWZmZXIsdT0oYS1pLmJ5dGVMZW5ndGgrNjU1MzUpLzY1NTM2O3RyeXtULmdyb3codSksVSgpO3ZhciBvPTE7YnJlYWsgZX1jYXRjaChlKXtMKGBncm93TWVtb3J5OiBBdHRlbXB0ZWQgdG8gZ3JvdyBoZWFwIGZyb20gJHtpLmJ5dGVMZW5ndGh9IGJ5dGVzIHRvICR7YX0gYnl0ZXMsIGJ1dCBnb3QgZXJyb3I6ICR7ZX1gKX1vPXZvaWQgMH1pZihvKXJldHVybiEwfXJldHVybiBMKGBGYWlsZWQgdG8gZ3JvdyB0aGUgaGVhcCBmcm9tICR7dH0gYnl0ZXMgdG8gJHtufSBieXRlcywgbm90IGVub3VnaCBtZW1vcnkhYCksITF9LGVudmlyb25fZ2V0OihlLHQpPT57dmFyIHI9MDtyZXR1cm4gT3QoKS5mb3JFYWNoKCgoYSxuKT0+e3ZhciBpPXQrcjtmb3Iobj1PW2UrNCpuPj4yXT1pLGk9MDtpPGEubGVuZ3RoOysraSlOKGEuY2hhckNvZGVBdChpKT09PSgyNTUmYS5jaGFyQ29kZUF0KGkpKSksU1tuKys+PjBdPWEuY2hhckNvZGVBdChpKTtTW24+PjBdPTAscis9YS5sZW5ndGgrMX0pKSwwfSxlbnZpcm9uX3NpemVzX2dldDooZSx0KT0+e3ZhciByPU90KCk7T1tlPj4yXT1yLmxlbmd0aDt2YXIgYT0wO3JldHVybiByLmZvckVhY2goKGU9PmErPWUubGVuZ3RoKzEpKSxPW3Q+PjJdPWEsMH0sZXhpdDplPT57UXQoKSxJPSEwLHMoZSxuZXcgcGUoZSkpfSxmZF9jbG9zZTpmdW5jdGlvbihlKXt0cnl7dmFyIHQ9c3QoZSk7cmV0dXJuIF90LmNsb3NlKHQpLDB9Y2F0Y2goZSl7aWYodm9pZCAwPT09X3R8fCJFcnJub0Vycm9yIiE9PWUubmFtZSl0aHJvdyBlO3JldHVybiBlLnV9fSxmZF9yZWFkOmZ1bmN0aW9uKGUsdCxyLGEpe3RyeXtlOnt2YXIgbj1zdChlKTtlPXQ7Zm9yKHZhciBpLHU9dD0wO3U8cjt1Kyspe3ZhciBvPU9bZT4+Ml0scz1PW2UrND4+Ml07ZSs9ODt2YXIgbD1fdC5yZWFkKG4sUyxvLHMsaSk7aWYoMD5sKXt2YXIgaD0tMTticmVhayBlfWlmKHQrPWwsbDxzKWJyZWFrO3ZvaWQgMCE9PWkmJihpKz1sKX1oPXR9cmV0dXJuIE9bYT4+Ml09aCwwfWNhdGNoKGUpe2lmKHZvaWQgMD09PV90fHwiRXJybm9FcnJvciIhPT1lLm5hbWUpdGhyb3cgZTtyZXR1cm4gZS51fX0sZmRfc2VlazpmdW5jdGlvbihlLHQscixhKXt0PS05MDA3MTk5MjU0NzQwOTkyPnR8fDkwMDcxOTkyNTQ3NDA5OTI8dD9OYU46TnVtYmVyKHQpO3RyeXtpZihpc05hTih0KSlyZXR1cm4gNjE7dmFyIG49c3QoZSk7cmV0dXJuIF90LkQobix0LHIpLHhbYT4+M109QmlnSW50KG4ucG9zaXRpb24pLG4uZWEmJjA9PT10JiYwPT09ciYmKG4uZWE9bnVsbCksMH1jYXRjaChlKXtpZih2b2lkIDA9PT1fdHx8IkVycm5vRXJyb3IiIT09ZS5uYW1lKXRocm93IGU7cmV0dXJuIGUudX19LGZkX3dyaXRlOmZ1bmN0aW9uKGUsdCxyLGEpe3RyeXtlOnt2YXIgbj1zdChlKTtlPXQ7Zm9yKHZhciBpLHU9dD0wO3U8cjt1Kyspe3ZhciBvPU9bZT4+Ml0scz1PW2UrND4+Ml07ZSs9ODt2YXIgbD1fdC53cml0ZShuLFMsbyxzLGkpO2lmKDA+bCl7dmFyIGg9LTE7YnJlYWsgZX10Kz1sLHZvaWQgMCE9PWkmJihpKz1sKX1oPXR9cmV0dXJuIE9bYT4+Ml09aCwwfWNhdGNoKGUpe2lmKHZvaWQgMD09PV90fHwiRXJybm9FcnJvciIhPT1lLm5hbWUpdGhyb3cgZTtyZXR1cm4gZS51fX0saW52b2tlX3ZpaTpKdCxzdHJmdGltZTooZSx0LHIsYSk9PntmdW5jdGlvbiBuKGUsdCxyKXtmb3IoZT0ibnVtYmVyIj09dHlwZW9mIGU/ZS50b1N0cmluZygpOmV8fCIiO2UubGVuZ3RoPHQ7KWU9clswXStlO3JldHVybiBlfWZ1bmN0aW9uIGkoZSx0KXtyZXR1cm4gbihlLHQsIjAiKX1mdW5jdGlvbiB1KGUsdCl7ZnVuY3Rpb24gcihlKXtyZXR1cm4gMD5lPy0xOjA8ZT8xOjB9dmFyIGE7cmV0dXJuIDA9PT0oYT1yKGUuZ2V0RnVsbFllYXIoKS10LmdldEZ1bGxZZWFyKCkpKSYmMD09PShhPXIoZS5nZXRNb250aCgpLXQuZ2V0TW9udGgoKSkpJiYoYT1yKGUuZ2V0RGF0ZSgpLXQuZ2V0RGF0ZSgpKSksYX1mdW5jdGlvbiBvKGUpe3N3aXRjaChlLmdldERheSgpKXtjYXNlIDA6cmV0dXJuIG5ldyBEYXRlKGUuZ2V0RnVsbFllYXIoKS0xLDExLDI5KTtjYXNlIDE6cmV0dXJuIGU7Y2FzZSAyOnJldHVybiBuZXcgRGF0ZShlLmdldEZ1bGxZZWFyKCksMCwzKTtjYXNlIDM6cmV0dXJuIG5ldyBEYXRlKGUuZ2V0RnVsbFllYXIoKSwwLDIpO2Nhc2UgNDpyZXR1cm4gbmV3IERhdGUoZS5nZXRGdWxsWWVhcigpLDAsMSk7Y2FzZSA1OnJldHVybiBuZXcgRGF0ZShlLmdldEZ1bGxZZWFyKCktMSwxMSwzMSk7Y2FzZSA2OnJldHVybiBuZXcgRGF0ZShlLmdldEZ1bGxZZWFyKCktMSwxMSwzMCl9fWZ1bmN0aW9uIHMoZSl7dmFyIHQ9ZS5PO2ZvcihlPW5ldyBEYXRlKG5ldyBEYXRlKGUuUCsxOTAwLDAsMSkuZ2V0VGltZSgpKTswPHQ7KXt2YXIgcj1lLmdldE1vbnRoKCksYT0oa3QoZS5nZXRGdWxsWWVhcigpKT9GdDp4dClbcl07aWYoISh0PmEtZS5nZXREYXRlKCkpKXtlLnNldERhdGUoZS5nZXREYXRlKCkrdCk7YnJlYWt9dC09YS1lLmdldERhdGUoKSsxLGUuc2V0RGF0ZSgxKSwxMT5yP2Uuc2V0TW9udGgocisxKTooZS5zZXRNb250aCgwKSxlLnNldEZ1bGxZZWFyKGUuZ2V0RnVsbFllYXIoKSsxKSl9cmV0dXJuIHI9bmV3IERhdGUoZS5nZXRGdWxsWWVhcigpKzEsMCw0KSx0PW8obmV3IERhdGUoZS5nZXRGdWxsWWVhcigpLDAsNCkpLHI9byhyKSwwPj11KHQsZSk/MD49dShyLGUpP2UuZ2V0RnVsbFllYXIoKSsxOmUuZ2V0RnVsbFllYXIoKTplLmdldEZ1bGxZZWFyKCktMX12YXIgbD1PW2ErNDA+PjJdO2Zvcih2YXIgaCBpbiBhPXtWYTpNW2E+PjJdLFVhOk1bYSs0Pj4yXSwkOk1bYSs4Pj4yXSxsYTpNW2ErMTI+PjJdLGFhOk1bYSsxNj4+Ml0sUDpNW2ErMjA+PjJdLEg6TVthKzI0Pj4yXSxPOk1bYSsyOD4+Ml0sd2I6TVthKzMyPj4yXSxUYTpNW2ErMzY+PjJdLFdhOmw/Z3QobCk6IiJ9LHI9Z3QociksbD17IiVjIjoiJWEgJWIgJWQgJUg6JU06JVMgJVkiLCIlRCI6IiVtLyVkLyV5IiwiJUYiOiIlWS0lbS0lZCIsIiVoIjoiJWIiLCIlciI6IiVJOiVNOiVTICVwIiwiJVIiOiIlSDolTSIsIiVUIjoiJUg6JU06JVMiLCIleCI6IiVtLyVkLyV5IiwiJVgiOiIlSDolTTolUyIsIiVFYyI6IiVjIiwiJUVDIjoiJUMiLCIlRXgiOiIlbS8lZC8leSIsIiVFWCI6IiVIOiVNOiVTIiwiJUV5IjoiJXkiLCIlRVkiOiIlWSIsIiVPZCI6IiVkIiwiJU9lIjoiJWUiLCIlT0giOiIlSCIsIiVPSSI6IiVJIiwiJU9tIjoiJW0iLCIlT00iOiIlTSIsIiVPUyI6IiVTIiwiJU91IjoiJXUiLCIlT1UiOiIlVSIsIiVPViI6IiVWIiwiJU93IjoiJXciLCIlT1ciOiIlVyIsIiVPeSI6IiV5In0pcj1yLnJlcGxhY2UobmV3IFJlZ0V4cChoLCJnIiksbFtoXSk7dmFyIGM9IlN1bmRheSBNb25kYXkgVHVlc2RheSBXZWRuZXNkYXkgVGh1cnNkYXkgRnJpZGF5IFNhdHVyZGF5Ii5zcGxpdCgiICIpLGQ9IkphbnVhcnkgRmVicnVhcnkgTWFyY2ggQXByaWwgTWF5IEp1bmUgSnVseSBBdWd1c3QgU2VwdGVtYmVyIE9jdG9iZXIgTm92ZW1iZXIgRGVjZW1iZXIiLnNwbGl0KCIgIik7Zm9yKGggaW4gbD17IiVhIjplPT5jW2UuSF0uc3Vic3RyaW5nKDAsMyksIiVBIjplPT5jW2UuSF0sIiViIjplPT5kW2UuYWFdLnN1YnN0cmluZygwLDMpLCIlQiI6ZT0+ZFtlLmFhXSwiJUMiOmU9PmkoKGUuUCsxOTAwKS8xMDB8MCwyKSwiJWQiOmU9PmkoZS5sYSwyKSwiJWUiOmU9Pm4oZS5sYSwyLCIgIiksIiVnIjplPT5zKGUpLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDIpLCIlRyI6ZT0+cyhlKSwiJUgiOmU9PmkoZS4kLDIpLCIlSSI6ZT0+KDA9PShlPWUuJCk/ZT0xMjoxMjxlJiYoZS09MTIpLGkoZSwyKSksIiVqIjplPT57Zm9yKHZhciB0PTAscj0wO3I8PWUuYWEtMTt0Kz0oa3QoZS5QKzE5MDApP0Z0Onh0KVtyKytdKTtyZXR1cm4gaShlLmxhK3QsMyl9LCIlbSI6ZT0+aShlLmFhKzEsMiksIiVNIjplPT5pKGUuVWEsMiksIiVuIjooKT0+IlxuIiwiJXAiOmU9PjA8PWUuJCYmMTI+ZS4kPyJBTSI6IlBNIiwiJVMiOmU9PmkoZS5WYSwyKSwiJXQiOigpPT4iXHQiLCIldSI6ZT0+ZS5IfHw3LCIlVSI6ZT0+aShNYXRoLmZsb29yKChlLk8rNy1lLkgpLzcpLDIpLCIlViI6ZT0+e3ZhciB0PU1hdGguZmxvb3IoKGUuTys3LShlLkgrNiklNykvNyk7aWYoMj49KGUuSCszNzEtZS5PLTIpJTcmJnQrKyx0KTUzPT10JiYoND09KHI9KGUuSCszNzEtZS5PKSU3KXx8Mz09ciYma3QoZS5QKXx8KHQ9MSkpO2Vsc2V7dD01Mjt2YXIgcj0oZS5IKzctZS5PLTEpJTc7KDQ9PXJ8fDU9PXImJmt0KGUuUCU0MDAtMSkpJiZ0Kyt9cmV0dXJuIGkodCwyKX0sIiV3IjplPT5lLkgsIiVXIjplPT5pKE1hdGguZmxvb3IoKGUuTys3LShlLkgrNiklNykvNyksMiksIiV5IjplPT4oZS5QKzE5MDApLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDIpLCIlWSI6ZT0+ZS5QKzE5MDAsIiV6IjplPT57dmFyIHQ9MDw9KGU9ZS5UYSk7cmV0dXJuIGU9TWF0aC5hYnMoZSkvNjAsKHQ/IisiOiItIikrU3RyaW5nKCIwMDAwIisoZS82MCoxMDArZSU2MCkpLnNsaWNlKC00KX0sIiVaIjplPT5lLldhLCIlJSI6KCk9PiIlIn0scj1yLnJlcGxhY2UoLyUlL2csIlwwXDAiKSxsKXIuaW5jbHVkZXMoaCkmJihyPXIucmVwbGFjZShuZXcgUmVnRXhwKGgsImciKSxsW2hdKGEpKSk7cmV0dXJuKGg9UGUocj1yLnJlcGxhY2UoL1wwXDAvZywiJSIpLCExKSkubGVuZ3RoPnQ/MDooUHQoaCxlKSxoLmxlbmd0aC0xKX0sc3lzdGVtOmU9PntpZihjKXtpZighZSlyZXR1cm4gMTtpZighKGU9Z3QoZSkpLmxlbmd0aClyZXR1cm4gMDt2YXIgdD0oZSx0KT0+ZTw8OHx0O3JldHVybiBudWxsPT09KGU9dygiY2hpbGRfcHJvY2VzcyIpLnViKGUsW10se3RiOiEwLHN0ZGlvOiJpbmhlcml0In0pKS5zdGF0dXM/dCgwLChlPT57c3dpdGNoKGUpe2Nhc2UiU0lHSFVQIjpyZXR1cm4gMTtjYXNlIlNJR1FVSVQiOnJldHVybiAzO2Nhc2UiU0lHRlBFIjpyZXR1cm4gODtjYXNlIlNJR0tJTEwiOnJldHVybiA5O2Nhc2UiU0lHQUxSTSI6cmV0dXJuIDE0O2Nhc2UiU0lHVEVSTSI6cmV0dXJuIDE1fXJldHVybiAyfSkoZS5zaWduYWwpKTplLnN0YXR1czw8OHwwfXJldHVybiBlPyhNW1l0KCk+PjJdPTUyLC0xKTowfX0sVnQ9ZnVuY3Rpb24oKXt2YXIgZT17ZW52OkJ0LHdhc2lfc25hcHNob3RfcHJldmlldzE6QnR9O0ooIndhc20taW5zdGFudGlhdGUiKTt2YXIgdD1pO3JldHVybiBzZShlLChmdW5jdGlvbihlKXtOKGk9PT10LCJ0aGUgTW9kdWxlIG9iamVjdCBzaG91bGQgbm90IGJlIHJlcGxhY2VkIGR1cmluZyBhc3luYyBjb21waWxhdGlvbiAtIHBlcmhhcHMgdGhlIG9yZGVyIG9mIEhUTUwgZWxlbWVudHMgaXMgd3Jvbmc/IiksdD1udWxsLFZ0PWUuaW5zdGFuY2UuZXhwb3J0cyxOKFQ9VnQubWVtb3J5LCJtZW1vcnkgbm90IGZvdW5kIGluIHdhc20gZXhwb3J0cyIpLFUoKSxOKEV0PVZ0Ll9faW5kaXJlY3RfZnVuY3Rpb25fdGFibGUsInRhYmxlIG5vdCBmb3VuZCBpbiB3YXNtIGV4cG9ydHMiKSx6LnVuc2hpZnQoVnQuX193YXNtX2NhbGxfY3RvcnMpLFooIndhc20taW5zdGFudGlhdGUiKX0pKS5jYXRjaChuKSx7fX0oKTtpLl9sdWFfY2hlY2tzdGFjaz1hZSgibHVhX2NoZWNrc3RhY2siKSxpLl9sdWFfeG1vdmU9YWUoImx1YV94bW92ZSIpLGkuX2x1YV9hdHBhbmljPWFlKCJsdWFfYXRwYW5pYyIpLGkuX2x1YV92ZXJzaW9uPWFlKCJsdWFfdmVyc2lvbiIpLGkuX2x1YV9hYnNpbmRleD1hZSgibHVhX2Fic2luZGV4IiksaS5fbHVhX2dldHRvcD1hZSgibHVhX2dldHRvcCIpLGkuX2x1YV9zZXR0b3A9YWUoImx1YV9zZXR0b3AiKSxpLl9sdWFfY2xvc2VzbG90PWFlKCJsdWFfY2xvc2VzbG90IiksaS5fbHVhX3JvdGF0ZT1hZSgibHVhX3JvdGF0ZSIpLGkuX2x1YV9jb3B5PWFlKCJsdWFfY29weSIpLGkuX2x1YV9wdXNodmFsdWU9YWUoImx1YV9wdXNodmFsdWUiKSxpLl9sdWFfdHlwZT1hZSgibHVhX3R5cGUiKSxpLl9sdWFfdHlwZW5hbWU9YWUoImx1YV90eXBlbmFtZSIpLGkuX2x1YV9pc2NmdW5jdGlvbj1hZSgibHVhX2lzY2Z1bmN0aW9uIiksaS5fbHVhX2lzaW50ZWdlcj1hZSgibHVhX2lzaW50ZWdlciIpLGkuX2x1YV9pc251bWJlcj1hZSgibHVhX2lzbnVtYmVyIiksaS5fbHVhX2lzc3RyaW5nPWFlKCJsdWFfaXNzdHJpbmciKSxpLl9sdWFfaXN1c2VyZGF0YT1hZSgibHVhX2lzdXNlcmRhdGEiKSxpLl9sdWFfcmF3ZXF1YWw9YWUoImx1YV9yYXdlcXVhbCIpLGkuX2x1YV9hcml0aD1hZSgibHVhX2FyaXRoIiksaS5fbHVhX2NvbXBhcmU9YWUoImx1YV9jb21wYXJlIiksaS5fbHVhX3N0cmluZ3RvbnVtYmVyPWFlKCJsdWFfc3RyaW5ndG9udW1iZXIiKSxpLl9sdWFfdG9udW1iZXJ4PWFlKCJsdWFfdG9udW1iZXJ4IiksaS5fbHVhX3RvaW50ZWdlcng9YWUoImx1YV90b2ludGVnZXJ4IiksaS5fbHVhX3RvYm9vbGVhbj1hZSgibHVhX3RvYm9vbGVhbiIpLGkuX2x1YV90b2xzdHJpbmc9YWUoImx1YV90b2xzdHJpbmciKSxpLl9sdWFfcmF3bGVuPWFlKCJsdWFfcmF3bGVuIiksaS5fbHVhX3RvY2Z1bmN0aW9uPWFlKCJsdWFfdG9jZnVuY3Rpb24iKSxpLl9sdWFfdG91c2VyZGF0YT1hZSgibHVhX3RvdXNlcmRhdGEiKSxpLl9sdWFfdG90aHJlYWQ9YWUoImx1YV90b3RocmVhZCIpLGkuX2x1YV90b3BvaW50ZXI9YWUoImx1YV90b3BvaW50ZXIiKSxpLl9sdWFfcHVzaG5pbD1hZSgibHVhX3B1c2huaWwiKSxpLl9sdWFfcHVzaG51bWJlcj1hZSgibHVhX3B1c2hudW1iZXIiKSxpLl9sdWFfcHVzaGludGVnZXI9YWUoImx1YV9wdXNoaW50ZWdlciIpLGkuX2x1YV9wdXNobHN0cmluZz1hZSgibHVhX3B1c2hsc3RyaW5nIiksaS5fbHVhX3B1c2hzdHJpbmc9YWUoImx1YV9wdXNoc3RyaW5nIiksaS5fbHVhX3B1c2hjY2xvc3VyZT1hZSgibHVhX3B1c2hjY2xvc3VyZSIpLGkuX2x1YV9wdXNoYm9vbGVhbj1hZSgibHVhX3B1c2hib29sZWFuIiksaS5fbHVhX3B1c2hsaWdodHVzZXJkYXRhPWFlKCJsdWFfcHVzaGxpZ2h0dXNlcmRhdGEiKSxpLl9sdWFfcHVzaHRocmVhZD1hZSgibHVhX3B1c2h0aHJlYWQiKSxpLl9sdWFfZ2V0Z2xvYmFsPWFlKCJsdWFfZ2V0Z2xvYmFsIiksaS5fbHVhX2dldHRhYmxlPWFlKCJsdWFfZ2V0dGFibGUiKSxpLl9sdWFfZ2V0ZmllbGQ9YWUoImx1YV9nZXRmaWVsZCIpLGkuX2x1YV9nZXRpPWFlKCJsdWFfZ2V0aSIpLGkuX2x1YV9yYXdnZXQ9YWUoImx1YV9yYXdnZXQiKSxpLl9sdWFfcmF3Z2V0aT1hZSgibHVhX3Jhd2dldGkiKSxpLl9sdWFfcmF3Z2V0cD1hZSgibHVhX3Jhd2dldHAiKSxpLl9sdWFfY3JlYXRldGFibGU9YWUoImx1YV9jcmVhdGV0YWJsZSIpLGkuX2x1YV9nZXRtZXRhdGFibGU9YWUoImx1YV9nZXRtZXRhdGFibGUiKSxpLl9sdWFfZ2V0aXVzZXJ2YWx1ZT1hZSgibHVhX2dldGl1c2VydmFsdWUiKSxpLl9sdWFfc2V0Z2xvYmFsPWFlKCJsdWFfc2V0Z2xvYmFsIiksaS5fbHVhX3NldHRhYmxlPWFlKCJsdWFfc2V0dGFibGUiKSxpLl9sdWFfc2V0ZmllbGQ9YWUoImx1YV9zZXRmaWVsZCIpLGkuX2x1YV9zZXRpPWFlKCJsdWFfc2V0aSIpLGkuX2x1YV9yYXdzZXQ9YWUoImx1YV9yYXdzZXQiKSxpLl9sdWFfcmF3c2V0cD1hZSgibHVhX3Jhd3NldHAiKSxpLl9sdWFfcmF3c2V0aT1hZSgibHVhX3Jhd3NldGkiKSxpLl9sdWFfc2V0bWV0YXRhYmxlPWFlKCJsdWFfc2V0bWV0YXRhYmxlIiksaS5fbHVhX3NldGl1c2VydmFsdWU9YWUoImx1YV9zZXRpdXNlcnZhbHVlIiksaS5fbHVhX2NhbGxrPWFlKCJsdWFfY2FsbGsiKSxpLl9sdWFfcGNhbGxrPWFlKCJsdWFfcGNhbGxrIiksaS5fbHVhX2xvYWQ9YWUoImx1YV9sb2FkIiksaS5fbHVhX2R1bXA9YWUoImx1YV9kdW1wIiksaS5fbHVhX3N0YXR1cz1hZSgibHVhX3N0YXR1cyIpLGkuX2x1YV9lcnJvcj1hZSgibHVhX2Vycm9yIiksaS5fbHVhX25leHQ9YWUoImx1YV9uZXh0IiksaS5fbHVhX3RvY2xvc2U9YWUoImx1YV90b2Nsb3NlIiksaS5fbHVhX2NvbmNhdD1hZSgibHVhX2NvbmNhdCIpLGkuX2x1YV9sZW49YWUoImx1YV9sZW4iKSxpLl9sdWFfZ2V0YWxsb2NmPWFlKCJsdWFfZ2V0YWxsb2NmIiksaS5fbHVhX3NldGFsbG9jZj1hZSgibHVhX3NldGFsbG9jZiIpLGkuX2x1YV9zZXR3YXJuZj1hZSgibHVhX3NldHdhcm5mIiksaS5fbHVhX3dhcm5pbmc9YWUoImx1YV93YXJuaW5nIiksaS5fbHVhX25ld3VzZXJkYXRhdXY9YWUoImx1YV9uZXd1c2VyZGF0YXV2IiksaS5fbHVhX2dldHVwdmFsdWU9YWUoImx1YV9nZXR1cHZhbHVlIiksaS5fbHVhX3NldHVwdmFsdWU9YWUoImx1YV9zZXR1cHZhbHVlIiksaS5fbHVhX3VwdmFsdWVpZD1hZSgibHVhX3VwdmFsdWVpZCIpLGkuX2x1YV91cHZhbHVlam9pbj1hZSgibHVhX3VwdmFsdWVqb2luIiksaS5fbHVhTF90cmFjZWJhY2s9YWUoImx1YUxfdHJhY2ViYWNrIiksaS5fbHVhX2dldHN0YWNrPWFlKCJsdWFfZ2V0c3RhY2siKSxpLl9sdWFfZ2V0aW5mbz1hZSgibHVhX2dldGluZm8iKSxpLl9sdWFMX2J1ZmZpbml0PWFlKCJsdWFMX2J1ZmZpbml0IiksaS5fbHVhTF9hZGRzdHJpbmc9YWUoImx1YUxfYWRkc3RyaW5nIiksaS5fbHVhTF9wcmVwYnVmZnNpemU9YWUoImx1YUxfcHJlcGJ1ZmZzaXplIiksaS5fbHVhTF9hZGR2YWx1ZT1hZSgibHVhTF9hZGR2YWx1ZSIpLGkuX2x1YUxfcHVzaHJlc3VsdD1hZSgibHVhTF9wdXNocmVzdWx0IiksaS5fbHVhTF9hcmdlcnJvcj1hZSgibHVhTF9hcmdlcnJvciIpLGkuX2x1YUxfdHlwZWVycm9yPWFlKCJsdWFMX3R5cGVlcnJvciIpLGkuX2x1YUxfZ2V0bWV0YWZpZWxkPWFlKCJsdWFMX2dldG1ldGFmaWVsZCIpLGkuX2x1YUxfd2hlcmU9YWUoImx1YUxfd2hlcmUiKSxpLl9sdWFMX2ZpbGVyZXN1bHQ9YWUoImx1YUxfZmlsZXJlc3VsdCIpO3ZhciBZdD1hZSgiX19lcnJub19sb2NhdGlvbiIpO2kuX2x1YUxfZXhlY3Jlc3VsdD1hZSgibHVhTF9leGVjcmVzdWx0IiksaS5fbHVhTF9uZXdtZXRhdGFibGU9YWUoImx1YUxfbmV3bWV0YXRhYmxlIiksaS5fbHVhTF9zZXRtZXRhdGFibGU9YWUoImx1YUxfc2V0bWV0YXRhYmxlIiksaS5fbHVhTF90ZXN0dWRhdGE9YWUoImx1YUxfdGVzdHVkYXRhIiksaS5fbHVhTF9jaGVja3VkYXRhPWFlKCJsdWFMX2NoZWNrdWRhdGEiKSxpLl9sdWFMX29wdGxzdHJpbmc9YWUoImx1YUxfb3B0bHN0cmluZyIpLGkuX2x1YUxfY2hlY2tsc3RyaW5nPWFlKCJsdWFMX2NoZWNrbHN0cmluZyIpLGkuX2x1YUxfY2hlY2tzdGFjaz1hZSgibHVhTF9jaGVja3N0YWNrIiksaS5fbHVhTF9jaGVja3R5cGU9YWUoImx1YUxfY2hlY2t0eXBlIiksaS5fbHVhTF9jaGVja2FueT1hZSgibHVhTF9jaGVja2FueSIpLGkuX2x1YUxfY2hlY2tudW1iZXI9YWUoImx1YUxfY2hlY2tudW1iZXIiKSxpLl9sdWFMX29wdG51bWJlcj1hZSgibHVhTF9vcHRudW1iZXIiKSxpLl9sdWFMX2NoZWNraW50ZWdlcj1hZSgibHVhTF9jaGVja2ludGVnZXIiKSxpLl9sdWFMX29wdGludGVnZXI9YWUoImx1YUxfb3B0aW50ZWdlciIpLGkuX2x1YUxfc2V0ZnVuY3M9YWUoImx1YUxfc2V0ZnVuY3MiKSxpLl9sdWFMX2FkZGxzdHJpbmc9YWUoImx1YUxfYWRkbHN0cmluZyIpLGkuX2x1YUxfcHVzaHJlc3VsdHNpemU9YWUoImx1YUxfcHVzaHJlc3VsdHNpemUiKSxpLl9sdWFMX2J1ZmZpbml0c2l6ZT1hZSgibHVhTF9idWZmaW5pdHNpemUiKSxpLl9sdWFMX3JlZj1hZSgibHVhTF9yZWYiKSxpLl9sdWFMX3VucmVmPWFlKCJsdWFMX3VucmVmIiksaS5fbHVhTF9sb2FkZmlsZXg9YWUoImx1YUxfbG9hZGZpbGV4IiksaS5fbHVhTF9sb2FkYnVmZmVyeD1hZSgibHVhTF9sb2FkYnVmZmVyeCIpLGkuX2x1YUxfbG9hZHN0cmluZz1hZSgibHVhTF9sb2Fkc3RyaW5nIiksaS5fbHVhTF9jYWxsbWV0YT1hZSgibHVhTF9jYWxsbWV0YSIpLGkuX2x1YUxfbGVuPWFlKCJsdWFMX2xlbiIpLGkuX2x1YUxfdG9sc3RyaW5nPWFlKCJsdWFMX3RvbHN0cmluZyIpLGkuX2x1YUxfZ2V0c3VidGFibGU9YWUoImx1YUxfZ2V0c3VidGFibGUiKSxpLl9sdWFMX3JlcXVpcmVmPWFlKCJsdWFMX3JlcXVpcmVmIiksaS5fbHVhTF9hZGRnc3ViPWFlKCJsdWFMX2FkZGdzdWIiKSxpLl9sdWFMX2dzdWI9YWUoImx1YUxfZ3N1YiIpLGkuX2x1YUxfbmV3c3RhdGU9YWUoImx1YUxfbmV3c3RhdGUiKSxpLl9sdWFfbmV3c3RhdGU9YWUoImx1YV9uZXdzdGF0ZSIpLGkuX2ZyZWU9YWUoImZyZWUiKSxpLl9yZWFsbG9jPWFlKCJyZWFsbG9jIik7dmFyIGp0PWkuX2ZmbHVzaD1hZSgiZmZsdXNoIik7aS5fbHVhTF9jaGVja3ZlcnNpb25fPWFlKCJsdWFMX2NoZWNrdmVyc2lvbl8iKSxpLl9sdWFvcGVuX2Jhc2U9YWUoImx1YW9wZW5fYmFzZSIpLGkuX2x1YW9wZW5fY29yb3V0aW5lPWFlKCJsdWFvcGVuX2Nvcm91dGluZSIpLGkuX2x1YV9uZXd0aHJlYWQ9YWUoImx1YV9uZXd0aHJlYWQiKSxpLl9sdWFfeWllbGRrPWFlKCJsdWFfeWllbGRrIiksaS5fbHVhX2lzeWllbGRhYmxlPWFlKCJsdWFfaXN5aWVsZGFibGUiKSxpLl9sdWFfcmVzZXR0aHJlYWQ9YWUoImx1YV9yZXNldHRocmVhZCIpLGkuX2x1YV9yZXN1bWU9YWUoImx1YV9yZXN1bWUiKSxpLl9sdWFvcGVuX2RlYnVnPWFlKCJsdWFvcGVuX2RlYnVnIiksaS5fbHVhX2dldGhvb2ttYXNrPWFlKCJsdWFfZ2V0aG9va21hc2siKSxpLl9sdWFfZ2V0aG9vaz1hZSgibHVhX2dldGhvb2siKSxpLl9sdWFfZ2V0aG9va2NvdW50PWFlKCJsdWFfZ2V0aG9va2NvdW50IiksaS5fbHVhX2dldGxvY2FsPWFlKCJsdWFfZ2V0bG9jYWwiKSxpLl9sdWFfc2V0aG9vaz1hZSgibHVhX3NldGhvb2siKSxpLl9sdWFfc2V0bG9jYWw9YWUoImx1YV9zZXRsb2NhbCIpLGkuX2x1YV9zZXRjc3RhY2tsaW1pdD1hZSgibHVhX3NldGNzdGFja2xpbWl0Iik7dmFyIHp0PWkuX21hbGxvYz1hZSgibWFsbG9jIik7aS5fbHVhTF9vcGVubGlicz1hZSgibHVhTF9vcGVubGlicyIpLGkuX2x1YW9wZW5fcGFja2FnZT1hZSgibHVhb3Blbl9wYWNrYWdlIiksaS5fbHVhb3Blbl90YWJsZT1hZSgibHVhb3Blbl90YWJsZSIpLGkuX2x1YW9wZW5faW89YWUoImx1YW9wZW5faW8iKSxpLl9sdWFvcGVuX29zPWFlKCJsdWFvcGVuX29zIiksaS5fbHVhb3Blbl9zdHJpbmc9YWUoImx1YW9wZW5fc3RyaW5nIiksaS5fbHVhb3Blbl9tYXRoPWFlKCJsdWFvcGVuX21hdGgiKSxpLl9sdWFvcGVuX3V0Zjg9YWUoImx1YW9wZW5fdXRmOCIpLGkuX2x1YV9jbG9zZT1hZSgibHVhX2Nsb3NlIik7dmFyIEh0LCR0PWFlKCJzZXRUaHJldyIpLEd0PSgpPT4oR3Q9VnQuZW1zY3JpcHRlbl9zdGFja19pbml0KSgpLFd0PSgpPT4oV3Q9VnQuZW1zY3JpcHRlbl9zdGFja19nZXRfZW5kKSgpLHF0PWFlKCJzdGFja1NhdmUiKSxLdD1hZSgic3RhY2tSZXN0b3JlIiksWHQ9YWUoInN0YWNrQWxsb2MiKTtmdW5jdGlvbiBKdChlLHQscil7dmFyIGE9cXQoKTt0cnl7TnQoZSkodCxyKX1jYXRjaChlKXtpZihLdChhKSxlIT09ZSswKXRocm93IGU7JHQoMSwwKX19ZnVuY3Rpb24gWnQoKXtpZighKDA8Rykpe0d0KCk7dmFyIGU9V3QoKTtpZihOKDA9PSgzJmUpKSwwPT1lJiYoZSs9NCksT1tlPj4yXT0zNDgyMTIyMyxPW2UrND4+Ml09MjMxMDcyMTAyMixPWzBdPTE2Njg1MDkwMjksaS5wcmVSdW4pZm9yKCJmdW5jdGlvbiI9PXR5cGVvZiBpLnByZVJ1biYmKGkucHJlUnVuPVtpLnByZVJ1bl0pO2kucHJlUnVuLmxlbmd0aDspZT1pLnByZVJ1bi5zaGlmdCgpLGoudW5zaGlmdChlKTtmb3IoOzA8ai5sZW5ndGg7KWouc2hpZnQoKShpKTtpZighKDA8Rykpe2lmKCFIdCYmKEh0PSEwLGkuY2FsbGVkUnVuPSEwLCFJKSl7Zm9yKE4oISQpLCQ9ITAsRCgpLGkubm9GU0luaXR8fF90LlIuWXx8X3QuUigpLF90LnRhPSExOzA8ei5sZW5ndGg7KXouc2hpZnQoKShpKTtmb3IoYShpKSxOKCFpLl9tYWluLCdjb21waWxlZCB3aXRob3V0IGEgbWFpbiwgYnV0IG9uZSBpcyBwcmVzZW50LiBpZiB5b3UgYWRkZWQgaXQgZnJvbSBKUywgdXNlIE1vZHVsZVsib25SdW50aW1lSW5pdGlhbGl6ZWQiXScpLEQoKTswPEgubGVuZ3RoOylILnNoaWZ0KCkoaSl9RCgpfX19ZnVuY3Rpb24gUXQoKXt2YXIgZT1FLHQ9TCxyPSExO0U9TD0oKT0+e3I9ITB9O3RyeXtqdCgwKSxbInN0ZG91dCIsInN0ZGVyciJdLmZvckVhY2goKGZ1bmN0aW9uKGUpeyhlPWZ0KCIvZGV2LyIrZSkpJiYoZT1JZVtlLm9iamVjdC5yZGV2XSkmJmUub3V0cHV0JiZlLm91dHB1dC5sZW5ndGgmJihyPSEwKX0pKX1jYXRjaChlKXt9RT1lLEw9dCxyJiZnZSgic3RkaW8gc3RyZWFtcyBoYWQgY29udGVudCBpbiB0aGVtIHRoYXQgd2FzIG5vdCBmbHVzaGVkLiB5b3Ugc2hvdWxkIHNldCBFWElUX1JVTlRJTUUgdG8gMSAoc2VlIHRoZSBFbXNjcmlwdGVuIEZBUSksIG9yIG1ha2Ugc3VyZSB0byBlbWl0IGEgbmV3bGluZSB3aGVuIHlvdSBwcmludGYgZXRjLiIpfXJldHVybiBpLkVOVj1NdCxpLmNjYWxsPShlLHQscixhKT0+e3ZhciBuPXtzdHJpbmc6ZT0+e3ZhciB0PTA7aWYobnVsbCE9ZSYmMCE9PWUpe3Q9RmUoZSkrMTt2YXIgcj1YdCh0KTtUdChlLHIsdCksdD1yfXJldHVybiB0fSxhcnJheTplPT57dmFyIHQ9WHQoZS5sZW5ndGgpO3JldHVybiBQdChlLHQpLHR9fTtlPUN0KGUpO3ZhciBpLHU9W10sbz0wO2lmKE4oImFycmF5IiE9PXQsJ1JldHVybiB0eXBlIHNob3VsZCBub3QgYmUgImFycmF5Ii4nKSxhKWZvcih2YXIgcz0wO3M8YS5sZW5ndGg7cysrKXt2YXIgbD1uW3Jbc11dO2w/KDA9PT1vJiYobz1xdCgpKSx1W3NdPWwoYVtzXSkpOnVbc109YVtzXX1yZXR1cm4gcj1lLmFwcGx5KG51bGwsdSksaT1yLDAhPT1vJiZLdChvKSwic3RyaW5nIj09PXQ/Z3QoaSk6ImJvb2xlYW4iPT09dD8hIWk6aX0saS5hZGRGdW5jdGlvbj0oZSx0KT0+e2lmKE4odm9pZCAwIT09ZSksIUx0KXtMdD1uZXcgV2Vha01hcDt2YXIgcj1FdC5sZW5ndGg7aWYoTHQpZm9yKHZhciBhPTA7YTwwK3I7YSsrKXt2YXIgbj1OdChhKTtuJiZMdC5zZXQobixhKX19aWYocj1MdC5nZXQoZSl8fDApcmV0dXJuIHI7aWYoVXQubGVuZ3RoKXI9VXQucG9wKCk7ZWxzZXt0cnl7RXQuZ3JvdygxKX1jYXRjaChlKXtpZighKGUgaW5zdGFuY2VvZiBSYW5nZUVycm9yKSl0aHJvdyBlO3Rocm93IlVuYWJsZSB0byBncm93IHdhc20gdGFibGUuIFNldCBBTExPV19UQUJMRV9HUk9XVEguIn1yPUV0Lmxlbmd0aC0xfXRyeXthPXIsRXQuc2V0KGEsZSksSXRbYV09RXQuZ2V0KGEpfWNhdGNoKG8pe2lmKCEobyBpbnN0YW5jZW9mIFR5cGVFcnJvcikpdGhyb3cgbztpZihOKHZvaWQgMCE9PXQsIk1pc3Npbmcgc2lnbmF0dXJlIGFyZ3VtZW50IHRvIGFkZEZ1bmN0aW9uOiAiK2UpLCJmdW5jdGlvbiI9PXR5cGVvZiBXZWJBc3NlbWJseS5GdW5jdGlvbil7YT1XZWJBc3NlbWJseS5GdW5jdGlvbixuPXtpOiJpMzIiLGo6Imk2NCIsZjoiZjMyIixkOiJmNjQiLGU6ImV4dGVybnJlZiIscDoiaTMyIn07Zm9yKHZhciBpPXtwYXJhbWV0ZXJzOltdLHJlc3VsdHM6InYiPT10WzBdP1tdOltuW3RbMF1dXX0sdT0xO3U8dC5sZW5ndGg7Kyt1KU4odFt1XWluIG4sImludmFsaWQgc2lnbmF0dXJlIGNoYXI6ICIrdFt1XSksaS5wYXJhbWV0ZXJzLnB1c2goblt0W3VdXSk7dD1uZXcgYShpLGUpfWVsc2V7Zm9yKGE9WzFdLG49dC5zbGljZSgwLDEpLHQ9dC5zbGljZSgxKSxpPXtpOjEyNyxwOjEyNyxqOjEyNixmOjEyNSxkOjEyNCxlOjExMX0sYS5wdXNoKDk2KSxOKDE2Mzg0Pih1PXQubGVuZ3RoKSksMTI4PnU/YS5wdXNoKHUpOmEucHVzaCh1JTEyOHwxMjgsdT4+NyksdT0wO3U8dC5sZW5ndGg7Kyt1KU4odFt1XWluIGksImludmFsaWQgc2lnbmF0dXJlIGNoYXI6ICIrdFt1XSksYS5wdXNoKGlbdFt1XV0pOyJ2Ij09bj9hLnB1c2goMCk6YS5wdXNoKDEsaVtuXSksdD1bMCw5NywxMTUsMTA5LDEsMCwwLDAsMV0sTigxNjM4ND4obj1hLmxlbmd0aCkpLDEyOD5uP3QucHVzaChuKTp0LnB1c2gobiUxMjh8MTI4LG4+PjcpLHQucHVzaC5hcHBseSh0LGEpLHQucHVzaCgyLDcsMSwxLDEwMSwxLDEwMiwwLDAsNyw1LDEsMSwxMDIsMCwwKSx0PW5ldyBXZWJBc3NlbWJseS5Nb2R1bGUobmV3IFVpbnQ4QXJyYXkodCkpLHQ9bmV3IFdlYkFzc2VtYmx5Lkluc3RhbmNlKHQse2U6e2Y6ZX19KS5leHBvcnRzLmZ9YT1yLEV0LnNldChhLHQpLEl0W2FdPUV0LmdldChhKX1yZXR1cm4gTHQuc2V0KGUscikscn0saS5yZW1vdmVGdW5jdGlvbj1lPT57THQuZGVsZXRlKE50KGUpKSxFdC5zZXQoZSxudWxsKSxJdFtlXT1FdC5nZXQoZSksVXQucHVzaChlKX0saS5zZXRWYWx1ZT1mdW5jdGlvbihlLHQscj0iaTgiKXtzd2l0Y2goci5lbmRzV2l0aCgiKiIpJiYocj0iKiIpLHIpe2Nhc2UiaTEiOmNhc2UiaTgiOlNbZT4+MF09dDticmVhaztjYXNlImkxNiI6UltlPj4xXT10O2JyZWFrO2Nhc2UiaTMyIjpNW2U+PjJdPXQ7YnJlYWs7Y2FzZSJpNjQiOnhbZT4+M109QmlnSW50KHQpO2JyZWFrO2Nhc2UiZmxvYXQiOkZbZT4+Ml09dDticmVhaztjYXNlImRvdWJsZSI6UFtlPj4zXT10O2JyZWFrO2Nhc2UiKiI6T1tlPj4yXT10O2JyZWFrO2RlZmF1bHQ6UShgaW52YWxpZCB0eXBlIGZvciBzZXRWYWx1ZTogJHtyfWApfX0saS5nZXRWYWx1ZT1mdW5jdGlvbihlLHQ9Imk4Iil7c3dpdGNoKHQuZW5kc1dpdGgoIioiKSYmKHQ9IioiKSx0KXtjYXNlImkxIjpjYXNlImk4IjpyZXR1cm4gU1tlPj4wXTtjYXNlImkxNiI6cmV0dXJuIFJbZT4+MV07Y2FzZSJpMzIiOnJldHVybiBNW2U+PjJdO2Nhc2UiaTY0IjpyZXR1cm4geFtlPj4zXTtjYXNlImZsb2F0IjpyZXR1cm4gRltlPj4yXTtjYXNlImRvdWJsZSI6cmV0dXJuIFBbZT4+M107Y2FzZSIqIjpyZXR1cm4gT1tlPj4yXTtkZWZhdWx0OlEoYGludmFsaWQgdHlwZSBmb3IgZ2V0VmFsdWU6ICR7dH1gKX19LGkuc3RyaW5nVG9VVEY4PVR0LGkubGVuZ3RoQnl0ZXNVVEY4PUZlLGkuc3RyaW5nVG9OZXdVVEY4PVJ0LGkuRlM9X3QsIndyaXRlSTUzVG9JNjQgd3JpdGVJNTNUb0k2NENsYW1wZWQgd3JpdGVJNTNUb0k2NFNpZ25hbGluZyB3cml0ZUk1M1RvVTY0Q2xhbXBlZCB3cml0ZUk1M1RvVTY0U2lnbmFsaW5nIHJlYWRJNTNGcm9tSTY0IHJlYWRJNTNGcm9tVTY0IGNvbnZlcnRJMzJQYWlyVG9JNTMgY29udmVydEkzMlBhaXJUb0k1M0NoZWNrZWQgY29udmVydFUzMlBhaXJUb0k1MyBpbmV0UHRvbjQgaW5ldE50b3A0IGluZXRQdG9uNiBpbmV0TnRvcDYgcmVhZFNvY2thZGRyIHdyaXRlU29ja2FkZHIgZ2V0SG9zdEJ5TmFtZSBnZXRDYWxsc3RhY2sgZW1zY3JpcHRlbkxvZyBjb252ZXJ0UEN0b1NvdXJjZUxvY2F0aW9uIHJlYWRFbUFzbUFyZ3MganN0b2lfcSBqc3RvaV9zIGxpc3Rlbk9uY2UgYXV0b1Jlc3VtZUF1ZGlvQ29udGV4dCBnZXREeW5DYWxsZXIgZHluQ2FsbCBoYW5kbGVFeGNlcHRpb24gcnVudGltZUtlZXBhbGl2ZVB1c2ggcnVudGltZUtlZXBhbGl2ZVBvcCBjYWxsVXNlckNhbGxiYWNrIG1heWJlRXhpdCBhc21qc01hbmdsZSBoYW5kbGVBbGxvY2F0b3JJbml0IEhhbmRsZUFsbG9jYXRvciBnZXROYXRpdmVUeXBlU2l6ZSBTVEFDS19TSVpFIFNUQUNLX0FMSUdOIFBPSU5URVJfU0laRSBBU1NFUlRJT05TIGN3cmFwIHJlYWxseU5lZ2F0aXZlIHVuU2lnbiBzdHJMZW4gcmVTaWduIGZvcm1hdFN0cmluZyBpbnRBcnJheVRvU3RyaW5nIEFzY2lpVG9TdHJpbmcgVVRGMTZUb1N0cmluZyBzdHJpbmdUb1VURjE2IGxlbmd0aEJ5dGVzVVRGMTYgVVRGMzJUb1N0cmluZyBzdHJpbmdUb1VURjMyIGxlbmd0aEJ5dGVzVVRGMzIgcmVnaXN0ZXJLZXlFdmVudENhbGxiYWNrIG1heWJlQ1N0cmluZ1RvSnNTdHJpbmcgZmluZEV2ZW50VGFyZ2V0IGZpbmRDYW52YXNFdmVudFRhcmdldCBnZXRCb3VuZGluZ0NsaWVudFJlY3QgZmlsbE1vdXNlRXZlbnREYXRhIHJlZ2lzdGVyTW91c2VFdmVudENhbGxiYWNrIHJlZ2lzdGVyV2hlZWxFdmVudENhbGxiYWNrIHJlZ2lzdGVyVWlFdmVudENhbGxiYWNrIHJlZ2lzdGVyRm9jdXNFdmVudENhbGxiYWNrIGZpbGxEZXZpY2VPcmllbnRhdGlvbkV2ZW50RGF0YSByZWdpc3RlckRldmljZU9yaWVudGF0aW9uRXZlbnRDYWxsYmFjayBmaWxsRGV2aWNlTW90aW9uRXZlbnREYXRhIHJlZ2lzdGVyRGV2aWNlTW90aW9uRXZlbnRDYWxsYmFjayBzY3JlZW5PcmllbnRhdGlvbiBmaWxsT3JpZW50YXRpb25DaGFuZ2VFdmVudERhdGEgcmVnaXN0ZXJPcmllbnRhdGlvbkNoYW5nZUV2ZW50Q2FsbGJhY2sgZmlsbEZ1bGxzY3JlZW5DaGFuZ2VFdmVudERhdGEgcmVnaXN0ZXJGdWxsc2NyZWVuQ2hhbmdlRXZlbnRDYWxsYmFjayBKU0V2ZW50c19yZXF1ZXN0RnVsbHNjcmVlbiBKU0V2ZW50c19yZXNpemVDYW52YXNGb3JGdWxsc2NyZWVuIHJlZ2lzdGVyUmVzdG9yZU9sZFN0eWxlIGhpZGVFdmVyeXRoaW5nRXhjZXB0R2l2ZW5FbGVtZW50IHJlc3RvcmVIaWRkZW5FbGVtZW50cyBzZXRMZXR0ZXJib3ggc29mdEZ1bGxzY3JlZW5SZXNpemVXZWJHTFJlbmRlclRhcmdldCBkb1JlcXVlc3RGdWxsc2NyZWVuIGZpbGxQb2ludGVybG9ja0NoYW5nZUV2ZW50RGF0YSByZWdpc3RlclBvaW50ZXJsb2NrQ2hhbmdlRXZlbnRDYWxsYmFjayByZWdpc3RlclBvaW50ZXJsb2NrRXJyb3JFdmVudENhbGxiYWNrIHJlcXVlc3RQb2ludGVyTG9jayBmaWxsVmlzaWJpbGl0eUNoYW5nZUV2ZW50RGF0YSByZWdpc3RlclZpc2liaWxpdHlDaGFuZ2VFdmVudENhbGxiYWNrIHJlZ2lzdGVyVG91Y2hFdmVudENhbGxiYWNrIGZpbGxHYW1lcGFkRXZlbnREYXRhIHJlZ2lzdGVyR2FtZXBhZEV2ZW50Q2FsbGJhY2sgcmVnaXN0ZXJCZWZvcmVVbmxvYWRFdmVudENhbGxiYWNrIGZpbGxCYXR0ZXJ5RXZlbnREYXRhIGJhdHRlcnkgcmVnaXN0ZXJCYXR0ZXJ5RXZlbnRDYWxsYmFjayBzZXRDYW52YXNFbGVtZW50U2l6ZSBnZXRDYW52YXNFbGVtZW50U2l6ZSBqc1N0YWNrVHJhY2Ugc3RhY2tUcmFjZSBjaGVja1dhc2lDbG9jayB3YXNpUmlnaHRzVG9NdXNsT0ZsYWdzIHdhc2lPRmxhZ3NUb011c2xPRmxhZ3MgY3JlYXRlRHluY2FsbFdyYXBwZXIgc2FmZVNldFRpbWVvdXQgc2V0SW1tZWRpYXRlV3JhcHBlZCBjbGVhckltbWVkaWF0ZVdyYXBwZWQgcG9seWZpbGxTZXRJbW1lZGlhdGUgZ2V0UHJvbWlzZSBtYWtlUHJvbWlzZSBpZHNUb1Byb21pc2VzIG1ha2VQcm9taXNlQ2FsbGJhY2sgc2V0TWFpbkxvb3AgZ2V0U29ja2V0RnJvbUZEIGdldFNvY2tldEFkZHJlc3MgRlNfdW5saW5rIEZTX21rZGlyVHJlZSBfc2V0TmV0d29ya0NhbGxiYWNrIi5zcGxpdCgiICIpLmZvckVhY2goKGZ1bmN0aW9uKGUpeyJ1bmRlZmluZWQiPT10eXBlb2YgZ2xvYmFsVGhpc3x8T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihnbG9iYWxUaGlzLGUpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZ2xvYmFsVGhpcyxlLHtjb25maWd1cmFibGU6ITAsZ2V0KCl7dmFyIHQ9YFxgJHtlfVxgIGlzIGEgbGlicmFyeSBzeW1ib2wgYW5kIG5vdCBpbmNsdWRlZCBieSBkZWZhdWx0OyBhZGQgaXQgdG8geW91ciBsaWJyYXJ5LmpzIF9fZGVwcyBvciB0byBERUZBVUxUX0xJQlJBUllfRlVOQ1NfVE9fSU5DTFVERSBvbiB0aGUgY29tbWFuZCBsaW5lYCxyPWU7ci5zdGFydHNXaXRoKCJfIil8fChyPSIkIitlKSx0Kz1gIChlLmcuIC1zREVGQVVMVF9MSUJSQVJZX0ZVTkNTX1RPX0lOQ0xVREU9JyR7cn0nKWAsY2UoZSkmJih0Kz0iLiBBbHRlcm5hdGl2ZWx5LCBmb3JjaW5nIGZpbGVzeXN0ZW0gc3VwcG9ydCAoLXNGT1JDRV9GSUxFU1lTVEVNKSBjYW4gZXhwb3J0IHRoaXMgZm9yIHlvdSIpLGdlKHQpfX0pLGZlKGUpfSkpLCJydW4gYWRkT25QcmVSdW4gYWRkT25Jbml0IGFkZE9uUHJlTWFpbiBhZGRPbkV4aXQgYWRkT25Qb3N0UnVuIGFkZFJ1bkRlcGVuZGVuY3kgcmVtb3ZlUnVuRGVwZW5kZW5jeSBGU19jcmVhdGVGb2xkZXIgRlNfY3JlYXRlUGF0aCBGU19jcmVhdGVMYXp5RmlsZSBGU19jcmVhdGVMaW5rIEZTX2NyZWF0ZURldmljZSBGU19yZWFkRmlsZSBvdXQgZXJyIGNhbGxNYWluIGFib3J0IHdhc21NZW1vcnkgd2FzbUV4cG9ydHMgc3RhY2tBbGxvYyBzdGFja1NhdmUgc3RhY2tSZXN0b3JlIGdldFRlbXBSZXQwIHNldFRlbXBSZXQwIHdyaXRlU3RhY2tDb29raWUgY2hlY2tTdGFja0Nvb2tpZSBNQVhfSU5UNTMgTUlOX0lOVDUzIGJpZ2ludFRvSTUzQ2hlY2tlZCBwdHJUb1N0cmluZyB6ZXJvTWVtb3J5IGV4aXRKUyBnZXRIZWFwTWF4IGdyb3dNZW1vcnkgTU9OVEhfREFZU19SRUdVTEFSIE1PTlRIX0RBWVNfTEVBUCBNT05USF9EQVlTX1JFR1VMQVJfQ1VNVUxBVElWRSBNT05USF9EQVlTX0xFQVBfQ1VNVUxBVElWRSBpc0xlYXBZZWFyIHlkYXlGcm9tRGF0ZSBhcnJheVN1bSBhZGREYXlzIEVSUk5PX0NPREVTIEVSUk5PX01FU1NBR0VTIHNldEVyck5vIEROUyBQcm90b2NvbHMgU29ja2V0cyBpbml0UmFuZG9tRmlsbCByYW5kb21GaWxsIHRpbWVycyB3YXJuT25jZSBVTldJTkRfQ0FDSEUgcmVhZEVtQXNtQXJnc0FycmF5IGdldEV4ZWN1dGFibGVOYW1lIGtlZXBSdW50aW1lQWxpdmUgYXN5bmNMb2FkIGFsaWduTWVtb3J5IG1tYXBBbGxvYyB3YXNtVGFibGUgbm9FeGl0UnVudGltZSBnZXRDRnVuYyB1bGViMTI4RW5jb2RlIHNpZ1RvV2FzbVR5cGVzIGdlbmVyYXRlRnVuY1R5cGUgY29udmVydEpzRnVuY3Rpb25Ub1dhc20gZnJlZVRhYmxlSW5kZXhlcyBmdW5jdGlvbnNJblRhYmxlTWFwIGdldEVtcHR5VGFibGVTbG90IHVwZGF0ZVRhYmxlTWFwIGdldEZ1bmN0aW9uQWRkcmVzcyBQQVRIIFBBVEhfRlMgVVRGOERlY29kZXIgVVRGOEFycmF5VG9TdHJpbmcgVVRGOFRvU3RyaW5nIHN0cmluZ1RvVVRGOEFycmF5IGludEFycmF5RnJvbVN0cmluZyBzdHJpbmdUb0FzY2lpIFVURjE2RGVjb2RlciBzdHJpbmdUb1VURjhPblN0YWNrIHdyaXRlQXJyYXlUb01lbW9yeSBKU0V2ZW50cyBzcGVjaWFsSFRNTFRhcmdldHMgY3VycmVudEZ1bGxzY3JlZW5TdHJhdGVneSByZXN0b3JlT2xkV2luZG93ZWRTdHlsZSBkZW1hbmdsZSBkZW1hbmdsZUFsbCBFeGl0U3RhdHVzIGdldEVudlN0cmluZ3MgZG9SZWFkdiBkb1dyaXRldiBwcm9taXNlTWFwIEJyb3dzZXIgd2dldCBTWVNDQUxMUyBwcmVsb2FkUGx1Z2lucyBGU19jcmVhdGVQcmVsb2FkZWRGaWxlIEZTX21vZGVTdHJpbmdUb0ZsYWdzIEZTX2dldE1vZGUgRlNfc3RkaW5fZ2V0Q2hhcl9idWZmZXIgRlNfc3RkaW5fZ2V0Q2hhciBGU19jcmVhdGVEYXRhRmlsZSBNRU1GUyBUVFkgUElQRUZTIFNPQ0tGUyIuc3BsaXQoIiAiKS5mb3JFYWNoKGZlKSxxPWZ1bmN0aW9uIGUoKXtIdHx8WnQoKSxIdHx8KHE9ZSl9LFp0KCksdC5yZWFkeX0pO2NsYXNzIER7c3RhdGljIGFzeW5jIGluaXRpYWxpemUoZSx0KXtjb25zdCByPWF3YWl0IFUoe2xvY2F0ZUZpbGU6KHQscik9PmV8fHIrdCxwcmVSdW46ZT0+eyJvYmplY3QiPT10eXBlb2YgdCYmT2JqZWN0LmVudHJpZXModCkuZm9yRWFjaCgoKFt0LHJdKT0+ZS5FTlZbdF09cikpfX0pO3JldHVybiBuZXcgRChyKX1jb25zdHJ1Y3RvcihlKXt0aGlzLnJlZmVyZW5jZVRyYWNrZXI9bmV3IFdlYWtNYXAsdGhpcy5yZWZlcmVuY2VNYXA9bmV3IE1hcCx0aGlzLmF2YWlsYWJsZVJlZmVyZW5jZXM9W10sdGhpcy5tb2R1bGU9ZSx0aGlzLmx1YUxfY2hlY2t2ZXJzaW9uXz10aGlzLmN3cmFwKCJsdWFMX2NoZWNrdmVyc2lvbl8iLG51bGwsWyJudW1iZXIiLCJudW1iZXIiLCJudW1iZXIiXSksdGhpcy5sdWFMX2dldG1ldGFmaWVsZD10aGlzLmN3cmFwKCJsdWFMX2dldG1ldGFmaWVsZCIsIm51bWJlciIsWyJudW1iZXIiLCJudW1iZXIiLCJzdHJpbmciXSksdGhpcy5sdWFMX2NhbGxtZXRhPXRoaXMuY3dyYXAoImx1YUxfY2FsbG1ldGEiLCJudW1iZXIiLFsibnVtYmVyIiwibnVtYmVyIiwic3RyaW5nIl0pLHRoaXMubHVhTF90b2xzdHJpbmc9dGhpcy5jd3JhcCgibHVhTF90b2xzdHJpbmciLCJzdHJpbmciLFsibnVtYmVyIiwibnVtYmVyIiwibnVtYmVyIl0pLHRoaXMubHVhTF9hcmdlcnJvcj10aGlzLmN3cmFwKCJsdWFMX2FyZ2Vycm9yIiwibnVtYmVyIixbIm51bWJlciIsIm51bWJlciIsInN0cmluZyJdKSx0aGlzLmx1YUxfdHlwZWVycm9yPXRoaXMuY3dyYXAoImx1YUxfdHlwZWVycm9yIiwibnVtYmVyIixbIm51bWJlciIsIm51bWJlciIsInN0cmluZyJdKSx0aGlzLmx1YUxfY2hlY2tsc3RyaW5nPXRoaXMuY3dyYXAoImx1YUxfY2hlY2tsc3RyaW5nIiwic3RyaW5nIixbIm51bWJlciIsIm51bWJlciIsIm51bWJlciJdKSx0aGlzLmx1YUxfb3B0bHN0cmluZz10aGlzLmN3cmFwKCJsdWFMX29wdGxzdHJpbmciLCJzdHJpbmciLFsibnVtYmVyIiwibnVtYmVyIiwic3RyaW5nIiwibnVtYmVyIl0pLHRoaXMubHVhTF9jaGVja251bWJlcj10aGlzLmN3cmFwKCJsdWFMX2NoZWNrbnVtYmVyIiwibnVtYmVyIixbIm51bWJlciIsIm51bWJlciJdKSx0aGlzLmx1YUxfb3B0bnVtYmVyPXRoaXMuY3dyYXAoImx1YUxfb3B0bnVtYmVyIiwibnVtYmVyIixbIm51bWJlciIsIm51bWJlciIsIm51bWJlciJdKSx0aGlzLmx1YUxfY2hlY2tpbnRlZ2VyPXRoaXMuY3dyYXAoImx1YUxfY2hlY2tpbnRlZ2VyIiwibnVtYmVyIixbIm51bWJlciIsIm51bWJlciJdKSx0aGlzLmx1YUxfb3B0aW50ZWdlcj10aGlzLmN3cmFwKCJsdWFMX29wdGludGVnZXIiLCJudW1iZXIiLFsibnVtYmVyIiwibnVtYmVyIiwibnVtYmVyIl0pLHRoaXMubHVhTF9jaGVja3N0YWNrPXRoaXMuY3dyYXAoImx1YUxfY2hlY2tzdGFjayIsbnVsbCxbIm51bWJlciIsIm51bWJlciIsInN0cmluZyJdKSx0aGlzLmx1YUxfY2hlY2t0eXBlPXRoaXMuY3dyYXAoImx1YUxfY2hlY2t0eXBlIixudWxsLFsibnVtYmVyIiwibnVtYmVyIiwibnVtYmVyIl0pLHRoaXMubHVhTF9jaGVja2FueT10aGlzLmN3cmFwKCJsdWFMX2NoZWNrYW55IixudWxsLFsibnVtYmVyIiwibnVtYmVyIl0pLHRoaXMubHVhTF9uZXdtZXRhdGFibGU9dGhpcy5jd3JhcCgibHVhTF9uZXdtZXRhdGFibGUiLCJudW1iZXIiLFsibnVtYmVyIiwic3RyaW5nIl0pLHRoaXMubHVhTF9zZXRtZXRhdGFibGU9dGhpcy5jd3JhcCgibHVhTF9zZXRtZXRhdGFibGUiLG51bGwsWyJudW1iZXIiLCJzdHJpbmciXSksdGhpcy5sdWFMX3Rlc3R1ZGF0YT10aGlzLmN3cmFwKCJsdWFMX3Rlc3R1ZGF0YSIsIm51bWJlciIsWyJudW1iZXIiLCJudW1iZXIiLCJzdHJpbmciXSksdGhpcy5sdWFMX2NoZWNrdWRhdGE9dGhpcy5jd3JhcCgibHVhTF9jaGVja3VkYXRhIiwibnVtYmVyIixbIm51bWJlciIsIm51bWJlciIsInN0cmluZyJdKSx0aGlzLmx1YUxfd2hlcmU9dGhpcy5jd3JhcCgibHVhTF93aGVyZSIsbnVsbCxbIm51bWJlciIsIm51bWJlciJdKSx0aGlzLmx1YUxfZmlsZXJlc3VsdD10aGlzLmN3cmFwKCJsdWFMX2ZpbGVyZXN1bHQiLCJudW1iZXIiLFsibnVtYmVyIiwibnVtYmVyIiwic3RyaW5nIl0pLHRoaXMubHVhTF9leGVjcmVzdWx0PXRoaXMuY3dyYXAoImx1YUxfZXhlY3Jlc3VsdCIsIm51bWJlciIsWyJudW1iZXIiLCJudW1iZXIiXSksdGhpcy5sdWFMX3JlZj10aGlzLmN3cmFwKCJsdWFMX3JlZiIsIm51bWJlciIsWyJudW1iZXIiLCJudW1iZXIiXSksdGhpcy5sdWFMX3VucmVmPXRoaXMuY3dyYXAoImx1YUxfdW5yZWYiLG51bGwsWyJudW1iZXIiLCJudW1iZXIiLCJudW1iZXIiXSksdGhpcy5sdWFMX2xvYWRmaWxleD10aGlzLmN3cmFwKCJsdWFMX2xvYWRmaWxleCIsIm51bWJlciIsWyJudW1iZXIiLCJzdHJpbmciLCJzdHJpbmciXSksdGhpcy5sdWFMX2xvYWRidWZmZXJ4PXRoaXMuY3dyYXAoImx1YUxfbG9hZGJ1ZmZlcngiLCJudW1iZXIiLFsibnVtYmVyIiwic3RyaW5nfG51bWJlciIsIm51bWJlciIsInN0cmluZ3xudW1iZXIiLCJzdHJpbmciXSksdGhpcy5sdWFMX2xvYWRzdHJpbmc9dGhpcy5jd3JhcCgibHVhTF9sb2Fkc3RyaW5nIiwibnVtYmVyIixbIm51bWJlciIsInN0cmluZyJdKSx0aGlzLmx1YUxfbmV3c3RhdGU9dGhpcy5jd3JhcCgibHVhTF9uZXdzdGF0ZSIsIm51bWJlciIsW10pLHRoaXMubHVhTF9sZW49dGhpcy5jd3JhcCgibHVhTF9sZW4iLCJudW1iZXIiLFsibnVtYmVyIiwibnVtYmVyIl0pLHRoaXMubHVhTF9hZGRnc3ViPXRoaXMuY3dyYXAoImx1YUxfYWRkZ3N1YiIsbnVsbCxbIm51bWJlciIsInN0cmluZyIsInN0cmluZyIsInN0cmluZyJdKSx0aGlzLmx1YUxfZ3N1Yj10aGlzLmN3cmFwKCJsdWFMX2dzdWIiLCJzdHJpbmciLFsibnVtYmVyIiwic3RyaW5nIiwic3RyaW5nIiwic3RyaW5nIl0pLHRoaXMubHVhTF9zZXRmdW5jcz10aGlzLmN3cmFwKCJsdWFMX3NldGZ1bmNzIixudWxsLFsibnVtYmVyIiwibnVtYmVyIiwibnVtYmVyIl0pLHRoaXMubHVhTF9nZXRzdWJ0YWJsZT10aGlzLmN3cmFwKCJsdWFMX2dldHN1YnRhYmxlIiwibnVtYmVyIixbIm51bWJlciIsIm51bWJlciIsInN0cmluZyJdKSx0aGlzLmx1YUxfdHJhY2ViYWNrPXRoaXMuY3dyYXAoImx1YUxfdHJhY2ViYWNrIixudWxsLFsibnVtYmVyIiwibnVtYmVyIiwic3RyaW5nIiwibnVtYmVyIl0pLHRoaXMubHVhTF9yZXF1aXJlZj10aGlzLmN3cmFwKCJsdWFMX3JlcXVpcmVmIixudWxsLFsibnVtYmVyIiwic3RyaW5nIiwibnVtYmVyIiwibnVtYmVyIl0pLHRoaXMubHVhTF9idWZmaW5pdD10aGlzLmN3cmFwKCJsdWFMX2J1ZmZpbml0IixudWxsLFsibnVtYmVyIiwibnVtYmVyIl0pLHRoaXMubHVhTF9wcmVwYnVmZnNpemU9dGhpcy5jd3JhcCgibHVhTF9wcmVwYnVmZnNpemUiLCJzdHJpbmciLFsibnVtYmVyIiwibnVtYmVyIl0pLHRoaXMubHVhTF9hZGRsc3RyaW5nPXRoaXMuY3dyYXAoImx1YUxfYWRkbHN0cmluZyIsbnVsbCxbIm51bWJlciIsInN0cmluZyIsIm51bWJlciJdKSx0aGlzLmx1YUxfYWRkc3RyaW5nPXRoaXMuY3dyYXAoImx1YUxfYWRkc3RyaW5nIixudWxsLFsibnVtYmVyIiwic3RyaW5nIl0pLHRoaXMubHVhTF9hZGR2YWx1ZT10aGlzLmN3cmFwKCJsdWFMX2FkZHZhbHVlIixudWxsLFsibnVtYmVyIl0pLHRoaXMubHVhTF9wdXNocmVzdWx0PXRoaXMuY3dyYXAoImx1YUxfcHVzaHJlc3VsdCIsbnVsbCxbIm51bWJlciJdKSx0aGlzLmx1YUxfcHVzaHJlc3VsdHNpemU9dGhpcy5jd3JhcCgibHVhTF9wdXNocmVzdWx0c2l6ZSIsbnVsbCxbIm51bWJlciIsIm51bWJlciJdKSx0aGlzLmx1YUxfYnVmZmluaXRzaXplPXRoaXMuY3dyYXAoImx1YUxfYnVmZmluaXRzaXplIiwic3RyaW5nIixbIm51bWJlciIsIm51bWJlciIsIm51bWJlciJdKSx0aGlzLmx1YV9uZXdzdGF0ZT10aGlzLmN3cmFwKCJsdWFfbmV3c3RhdGUiLCJudW1iZXIiLFsibnVtYmVyIiwibnVtYmVyIl0pLHRoaXMubHVhX2Nsb3NlPXRoaXMuY3dyYXAoImx1YV9jbG9zZSIsbnVsbCxbIm51bWJlciJdKSx0aGlzLmx1YV9uZXd0aHJlYWQ9dGhpcy5jd3JhcCgibHVhX25ld3RocmVhZCIsIm51bWJlciIsWyJudW1iZXIiXSksdGhpcy5sdWFfcmVzZXR0aHJlYWQ9dGhpcy5jd3JhcCgibHVhX3Jlc2V0dGhyZWFkIiwibnVtYmVyIixbIm51bWJlciJdKSx0aGlzLmx1YV9hdHBhbmljPXRoaXMuY3dyYXAoImx1YV9hdHBhbmljIiwibnVtYmVyIixbIm51bWJlciIsIm51bWJlciJdKSx0aGlzLmx1YV92ZXJzaW9uPXRoaXMuY3dyYXAoImx1YV92ZXJzaW9uIiwibnVtYmVyIixbIm51bWJlciJdKSx0aGlzLmx1YV9hYnNpbmRleD10aGlzLmN3cmFwKCJsdWFfYWJzaW5kZXgiLCJudW1iZXIiLFsibnVtYmVyIiwibnVtYmVyIl0pLHRoaXMubHVhX2dldHRvcD10aGlzLmN3cmFwKCJsdWFfZ2V0dG9wIiwibnVtYmVyIixbIm51bWJlciJdKSx0aGlzLmx1YV9zZXR0b3A9dGhpcy5jd3JhcCgibHVhX3NldHRvcCIsbnVsbCxbIm51bWJlciIsIm51bWJlciJdKSx0aGlzLmx1YV9wdXNodmFsdWU9dGhpcy5jd3JhcCgibHVhX3B1c2h2YWx1ZSIsbnVsbCxbIm51bWJlciIsIm51bWJlciJdKSx0aGlzLmx1YV9yb3RhdGU9dGhpcy5jd3JhcCgibHVhX3JvdGF0ZSIsbnVsbCxbIm51bWJlciIsIm51bWJlciIsIm51bWJlciJdKSx0aGlzLmx1YV9jb3B5PXRoaXMuY3dyYXAoImx1YV9jb3B5IixudWxsLFsibnVtYmVyIiwibnVtYmVyIiwibnVtYmVyIl0pLHRoaXMubHVhX2NoZWNrc3RhY2s9dGhpcy5jd3JhcCgibHVhX2NoZWNrc3RhY2siLCJudW1iZXIiLFsibnVtYmVyIiwibnVtYmVyIl0pLHRoaXMubHVhX3htb3ZlPXRoaXMuY3dyYXAoImx1YV94bW92ZSIsbnVsbCxbIm51bWJlciIsIm51bWJlciIsIm51bWJlciJdKSx0aGlzLmx1YV9pc251bWJlcj10aGlzLmN3cmFwKCJsdWFfaXNudW1iZXIiLCJudW1iZXIiLFsibnVtYmVyIiwibnVtYmVyIl0pLHRoaXMubHVhX2lzc3RyaW5nPXRoaXMuY3dyYXAoImx1YV9pc3N0cmluZyIsIm51bWJlciIsWyJudW1iZXIiLCJudW1iZXIiXSksdGhpcy5sdWFfaXNjZnVuY3Rpb249dGhpcy5jd3JhcCgibHVhX2lzY2Z1bmN0aW9uIiwibnVtYmVyIixbIm51bWJlciIsIm51bWJlciJdKSx0aGlzLmx1YV9pc2ludGVnZXI9dGhpcy5jd3JhcCgibHVhX2lzaW50ZWdlciIsIm51bWJlciIsWyJudW1iZXIiLCJudW1iZXIiXSksdGhpcy5sdWFfaXN1c2VyZGF0YT10aGlzLmN3cmFwKCJsdWFfaXN1c2VyZGF0YSIsIm51bWJlciIsWyJudW1iZXIiLCJudW1iZXIiXSksdGhpcy5sdWFfdHlwZT10aGlzLmN3cmFwKCJsdWFfdHlwZSIsIm51bWJlciIsWyJudW1iZXIiLCJudW1iZXIiXSksdGhpcy5sdWFfdHlwZW5hbWU9dGhpcy5jd3JhcCgibHVhX3R5cGVuYW1lIiwic3RyaW5nIixbIm51bWJlciIsIm51bWJlciJdKSx0aGlzLmx1YV90b251bWJlcng9dGhpcy5jd3JhcCgibHVhX3RvbnVtYmVyeCIsIm51bWJlciIsWyJudW1iZXIiLCJudW1iZXIiLCJudW1iZXIiXSksdGhpcy5sdWFfdG9pbnRlZ2VyeD10aGlzLmN3cmFwKCJsdWFfdG9pbnRlZ2VyeCIsIm51bWJlciIsWyJudW1iZXIiLCJudW1iZXIiLCJudW1iZXIiXSksdGhpcy5sdWFfdG9ib29sZWFuPXRoaXMuY3dyYXAoImx1YV90b2Jvb2xlYW4iLCJudW1iZXIiLFsibnVtYmVyIiwibnVtYmVyIl0pLHRoaXMubHVhX3RvbHN0cmluZz10aGlzLmN3cmFwKCJsdWFfdG9sc3RyaW5nIiwic3RyaW5nIixbIm51bWJlciIsIm51bWJlciIsIm51bWJlciJdKSx0aGlzLmx1YV9yYXdsZW49dGhpcy5jd3JhcCgibHVhX3Jhd2xlbiIsIm51bWJlciIsWyJudW1iZXIiLCJudW1iZXIiXSksdGhpcy5sdWFfdG9jZnVuY3Rpb249dGhpcy5jd3JhcCgibHVhX3RvY2Z1bmN0aW9uIiwibnVtYmVyIixbIm51bWJlciIsIm51bWJlciJdKSx0aGlzLmx1YV90b3VzZXJkYXRhPXRoaXMuY3dyYXAoImx1YV90b3VzZXJkYXRhIiwibnVtYmVyIixbIm51bWJlciIsIm51bWJlciJdKSx0aGlzLmx1YV90b3RocmVhZD10aGlzLmN3cmFwKCJsdWFfdG90aHJlYWQiLCJudW1iZXIiLFsibnVtYmVyIiwibnVtYmVyIl0pLHRoaXMubHVhX3RvcG9pbnRlcj10aGlzLmN3cmFwKCJsdWFfdG9wb2ludGVyIiwibnVtYmVyIixbIm51bWJlciIsIm51bWJlciJdKSx0aGlzLmx1YV9hcml0aD10aGlzLmN3cmFwKCJsdWFfYXJpdGgiLG51bGwsWyJudW1iZXIiLCJudW1iZXIiXSksdGhpcy5sdWFfcmF3ZXF1YWw9dGhpcy5jd3JhcCgibHVhX3Jhd2VxdWFsIiwibnVtYmVyIixbIm51bWJlciIsIm51bWJlciIsIm51bWJlciJdKSx0aGlzLmx1YV9jb21wYXJlPXRoaXMuY3dyYXAoImx1YV9jb21wYXJlIiwibnVtYmVyIixbIm51bWJlciIsIm51bWJlciIsIm51bWJlciIsIm51bWJlciJdKSx0aGlzLmx1YV9wdXNobmlsPXRoaXMuY3dyYXAoImx1YV9wdXNobmlsIixudWxsLFsibnVtYmVyIl0pLHRoaXMubHVhX3B1c2hudW1iZXI9dGhpcy5jd3JhcCgibHVhX3B1c2hudW1iZXIiLG51bGwsWyJudW1iZXIiLCJudW1iZXIiXSksdGhpcy5sdWFfcHVzaGludGVnZXI9dGhpcy5jd3JhcCgibHVhX3B1c2hpbnRlZ2VyIixudWxsLFsibnVtYmVyIiwibnVtYmVyIl0pLHRoaXMubHVhX3B1c2hsc3RyaW5nPXRoaXMuY3dyYXAoImx1YV9wdXNobHN0cmluZyIsInN0cmluZyIsWyJudW1iZXIiLCJzdHJpbmd8bnVtYmVyIiwibnVtYmVyIl0pLHRoaXMubHVhX3B1c2hzdHJpbmc9dGhpcy5jd3JhcCgibHVhX3B1c2hzdHJpbmciLCJzdHJpbmciLFsibnVtYmVyIiwic3RyaW5nfG51bWJlciJdKSx0aGlzLmx1YV9wdXNoY2Nsb3N1cmU9dGhpcy5jd3JhcCgibHVhX3B1c2hjY2xvc3VyZSIsbnVsbCxbIm51bWJlciIsIm51bWJlciIsIm51bWJlciJdKSx0aGlzLmx1YV9wdXNoYm9vbGVhbj10aGlzLmN3cmFwKCJsdWFfcHVzaGJvb2xlYW4iLG51bGwsWyJudW1iZXIiLCJudW1iZXIiXSksdGhpcy5sdWFfcHVzaGxpZ2h0dXNlcmRhdGE9dGhpcy5jd3JhcCgibHVhX3B1c2hsaWdodHVzZXJkYXRhIixudWxsLFsibnVtYmVyIiwibnVtYmVyIl0pLHRoaXMubHVhX3B1c2h0aHJlYWQ9dGhpcy5jd3JhcCgibHVhX3B1c2h0aHJlYWQiLCJudW1iZXIiLFsibnVtYmVyIl0pLHRoaXMubHVhX2dldGdsb2JhbD10aGlzLmN3cmFwKCJsdWFfZ2V0Z2xvYmFsIiwibnVtYmVyIixbIm51bWJlciIsInN0cmluZyJdKSx0aGlzLmx1YV9nZXR0YWJsZT10aGlzLmN3cmFwKCJsdWFfZ2V0dGFibGUiLCJudW1iZXIiLFsibnVtYmVyIiwibnVtYmVyIl0pLHRoaXMubHVhX2dldGZpZWxkPXRoaXMuY3dyYXAoImx1YV9nZXRmaWVsZCIsIm51bWJlciIsWyJudW1iZXIiLCJudW1iZXIiLCJzdHJpbmciXSksdGhpcy5sdWFfZ2V0aT10aGlzLmN3cmFwKCJsdWFfZ2V0aSIsIm51bWJlciIsWyJudW1iZXIiLCJudW1iZXIiLCJudW1iZXIiXSksdGhpcy5sdWFfcmF3Z2V0PXRoaXMuY3dyYXAoImx1YV9yYXdnZXQiLCJudW1iZXIiLFsibnVtYmVyIiwibnVtYmVyIl0pLHRoaXMubHVhX3Jhd2dldGk9dGhpcy5jd3JhcCgibHVhX3Jhd2dldGkiLCJudW1iZXIiLFsibnVtYmVyIiwibnVtYmVyIiwibnVtYmVyIl0pLHRoaXMubHVhX3Jhd2dldHA9dGhpcy5jd3JhcCgibHVhX3Jhd2dldHAiLCJudW1iZXIiLFsibnVtYmVyIiwibnVtYmVyIiwibnVtYmVyIl0pLHRoaXMubHVhX2NyZWF0ZXRhYmxlPXRoaXMuY3dyYXAoImx1YV9jcmVhdGV0YWJsZSIsbnVsbCxbIm51bWJlciIsIm51bWJlciIsIm51bWJlciJdKSx0aGlzLmx1YV9uZXd1c2VyZGF0YXV2PXRoaXMuY3dyYXAoImx1YV9uZXd1c2VyZGF0YXV2IiwibnVtYmVyIixbIm51bWJlciIsIm51bWJlciIsIm51bWJlciJdKSx0aGlzLmx1YV9nZXRtZXRhdGFibGU9dGhpcy5jd3JhcCgibHVhX2dldG1ldGF0YWJsZSIsIm51bWJlciIsWyJudW1iZXIiLCJudW1iZXIiXSksdGhpcy5sdWFfZ2V0aXVzZXJ2YWx1ZT10aGlzLmN3cmFwKCJsdWFfZ2V0aXVzZXJ2YWx1ZSIsIm51bWJlciIsWyJudW1iZXIiLCJudW1iZXIiLCJudW1iZXIiXSksdGhpcy5sdWFfc2V0Z2xvYmFsPXRoaXMuY3dyYXAoImx1YV9zZXRnbG9iYWwiLG51bGwsWyJudW1iZXIiLCJzdHJpbmciXSksdGhpcy5sdWFfc2V0dGFibGU9dGhpcy5jd3JhcCgibHVhX3NldHRhYmxlIixudWxsLFsibnVtYmVyIiwibnVtYmVyIl0pLHRoaXMubHVhX3NldGZpZWxkPXRoaXMuY3dyYXAoImx1YV9zZXRmaWVsZCIsbnVsbCxbIm51bWJlciIsIm51bWJlciIsInN0cmluZyJdKSx0aGlzLmx1YV9zZXRpPXRoaXMuY3dyYXAoImx1YV9zZXRpIixudWxsLFsibnVtYmVyIiwibnVtYmVyIiwibnVtYmVyIl0pLHRoaXMubHVhX3Jhd3NldD10aGlzLmN3cmFwKCJsdWFfcmF3c2V0IixudWxsLFsibnVtYmVyIiwibnVtYmVyIl0pLHRoaXMubHVhX3Jhd3NldGk9dGhpcy5jd3JhcCgibHVhX3Jhd3NldGkiLG51bGwsWyJudW1iZXIiLCJudW1iZXIiLCJudW1iZXIiXSksdGhpcy5sdWFfcmF3c2V0cD10aGlzLmN3cmFwKCJsdWFfcmF3c2V0cCIsbnVsbCxbIm51bWJlciIsIm51bWJlciIsIm51bWJlciJdKSx0aGlzLmx1YV9zZXRtZXRhdGFibGU9dGhpcy5jd3JhcCgibHVhX3NldG1ldGF0YWJsZSIsIm51bWJlciIsWyJudW1iZXIiLCJudW1iZXIiXSksdGhpcy5sdWFfc2V0aXVzZXJ2YWx1ZT10aGlzLmN3cmFwKCJsdWFfc2V0aXVzZXJ2YWx1ZSIsIm51bWJlciIsWyJudW1iZXIiLCJudW1iZXIiLCJudW1iZXIiXSksdGhpcy5sdWFfY2FsbGs9dGhpcy5jd3JhcCgibHVhX2NhbGxrIixudWxsLFsibnVtYmVyIiwibnVtYmVyIiwibnVtYmVyIiwibnVtYmVyIiwibnVtYmVyIl0pLHRoaXMubHVhX3BjYWxsaz10aGlzLmN3cmFwKCJsdWFfcGNhbGxrIiwibnVtYmVyIixbIm51bWJlciIsIm51bWJlciIsIm51bWJlciIsIm51bWJlciIsIm51bWJlciIsIm51bWJlciJdKSx0aGlzLmx1YV9sb2FkPXRoaXMuY3dyYXAoImx1YV9sb2FkIiwibnVtYmVyIixbIm51bWJlciIsIm51bWJlciIsIm51bWJlciIsInN0cmluZyIsInN0cmluZyJdKSx0aGlzLmx1YV9kdW1wPXRoaXMuY3dyYXAoImx1YV9kdW1wIiwibnVtYmVyIixbIm51bWJlciIsIm51bWJlciIsIm51bWJlciIsIm51bWJlciJdKSx0aGlzLmx1YV95aWVsZGs9dGhpcy5jd3JhcCgibHVhX3lpZWxkayIsIm51bWJlciIsWyJudW1iZXIiLCJudW1iZXIiLCJudW1iZXIiLCJudW1iZXIiXSksdGhpcy5sdWFfcmVzdW1lPXRoaXMuY3dyYXAoImx1YV9yZXN1bWUiLCJudW1iZXIiLFsibnVtYmVyIiwibnVtYmVyIiwibnVtYmVyIiwibnVtYmVyIl0pLHRoaXMubHVhX3N0YXR1cz10aGlzLmN3cmFwKCJsdWFfc3RhdHVzIiwibnVtYmVyIixbIm51bWJlciJdKSx0aGlzLmx1YV9pc3lpZWxkYWJsZT10aGlzLmN3cmFwKCJsdWFfaXN5aWVsZGFibGUiLCJudW1iZXIiLFsibnVtYmVyIl0pLHRoaXMubHVhX3NldHdhcm5mPXRoaXMuY3dyYXAoImx1YV9zZXR3YXJuZiIsbnVsbCxbIm51bWJlciIsIm51bWJlciIsIm51bWJlciJdKSx0aGlzLmx1YV93YXJuaW5nPXRoaXMuY3dyYXAoImx1YV93YXJuaW5nIixudWxsLFsibnVtYmVyIiwic3RyaW5nIiwibnVtYmVyIl0pLHRoaXMubHVhX2Vycm9yPXRoaXMuY3dyYXAoImx1YV9lcnJvciIsIm51bWJlciIsWyJudW1iZXIiXSksdGhpcy5sdWFfbmV4dD10aGlzLmN3cmFwKCJsdWFfbmV4dCIsIm51bWJlciIsWyJudW1iZXIiLCJudW1iZXIiXSksdGhpcy5sdWFfY29uY2F0PXRoaXMuY3dyYXAoImx1YV9jb25jYXQiLG51bGwsWyJudW1iZXIiLCJudW1iZXIiXSksdGhpcy5sdWFfbGVuPXRoaXMuY3dyYXAoImx1YV9sZW4iLG51bGwsWyJudW1iZXIiLCJudW1iZXIiXSksdGhpcy5sdWFfc3RyaW5ndG9udW1iZXI9dGhpcy5jd3JhcCgibHVhX3N0cmluZ3RvbnVtYmVyIiwibnVtYmVyIixbIm51bWJlciIsInN0cmluZyJdKSx0aGlzLmx1YV9nZXRhbGxvY2Y9dGhpcy5jd3JhcCgibHVhX2dldGFsbG9jZiIsIm51bWJlciIsWyJudW1iZXIiLCJudW1iZXIiXSksdGhpcy5sdWFfc2V0YWxsb2NmPXRoaXMuY3dyYXAoImx1YV9zZXRhbGxvY2YiLG51bGwsWyJudW1iZXIiLCJudW1iZXIiLCJudW1iZXIiXSksdGhpcy5sdWFfdG9jbG9zZT10aGlzLmN3cmFwKCJsdWFfdG9jbG9zZSIsbnVsbCxbIm51bWJlciIsIm51bWJlciJdKSx0aGlzLmx1YV9jbG9zZXNsb3Q9dGhpcy5jd3JhcCgibHVhX2Nsb3Nlc2xvdCIsbnVsbCxbIm51bWJlciIsIm51bWJlciJdKSx0aGlzLmx1YV9nZXRzdGFjaz10aGlzLmN3cmFwKCJsdWFfZ2V0c3RhY2siLCJudW1iZXIiLFsibnVtYmVyIiwibnVtYmVyIiwibnVtYmVyIl0pLHRoaXMubHVhX2dldGluZm89dGhpcy5jd3JhcCgibHVhX2dldGluZm8iLCJudW1iZXIiLFsibnVtYmVyIiwic3RyaW5nIiwibnVtYmVyIl0pLHRoaXMubHVhX2dldGxvY2FsPXRoaXMuY3dyYXAoImx1YV9nZXRsb2NhbCIsInN0cmluZyIsWyJudW1iZXIiLCJudW1iZXIiLCJudW1iZXIiXSksdGhpcy5sdWFfc2V0bG9jYWw9dGhpcy5jd3JhcCgibHVhX3NldGxvY2FsIiwic3RyaW5nIixbIm51bWJlciIsIm51bWJlciIsIm51bWJlciJdKSx0aGlzLmx1YV9nZXR1cHZhbHVlPXRoaXMuY3dyYXAoImx1YV9nZXR1cHZhbHVlIiwic3RyaW5nIixbIm51bWJlciIsIm51bWJlciIsIm51bWJlciJdKSx0aGlzLmx1YV9zZXR1cHZhbHVlPXRoaXMuY3dyYXAoImx1YV9zZXR1cHZhbHVlIiwic3RyaW5nIixbIm51bWJlciIsIm51bWJlciIsIm51bWJlciJdKSx0aGlzLmx1YV91cHZhbHVlaWQ9dGhpcy5jd3JhcCgibHVhX3VwdmFsdWVpZCIsIm51bWJlciIsWyJudW1iZXIiLCJudW1iZXIiLCJudW1iZXIiXSksdGhpcy5sdWFfdXB2YWx1ZWpvaW49dGhpcy5jd3JhcCgibHVhX3VwdmFsdWVqb2luIixudWxsLFsibnVtYmVyIiwibnVtYmVyIiwibnVtYmVyIiwibnVtYmVyIiwibnVtYmVyIl0pLHRoaXMubHVhX3NldGhvb2s9dGhpcy5jd3JhcCgibHVhX3NldGhvb2siLG51bGwsWyJudW1iZXIiLCJudW1iZXIiLCJudW1iZXIiLCJudW1iZXIiXSksdGhpcy5sdWFfZ2V0aG9vaz10aGlzLmN3cmFwKCJsdWFfZ2V0aG9vayIsIm51bWJlciIsWyJudW1iZXIiXSksdGhpcy5sdWFfZ2V0aG9va21hc2s9dGhpcy5jd3JhcCgibHVhX2dldGhvb2ttYXNrIiwibnVtYmVyIixbIm51bWJlciJdKSx0aGlzLmx1YV9nZXRob29rY291bnQ9dGhpcy5jd3JhcCgibHVhX2dldGhvb2tjb3VudCIsIm51bWJlciIsWyJudW1iZXIiXSksdGhpcy5sdWFfc2V0Y3N0YWNrbGltaXQ9dGhpcy5jd3JhcCgibHVhX3NldGNzdGFja2xpbWl0IiwibnVtYmVyIixbIm51bWJlciIsIm51bWJlciJdKSx0aGlzLmx1YW9wZW5fYmFzZT10aGlzLmN3cmFwKCJsdWFvcGVuX2Jhc2UiLCJudW1iZXIiLFsibnVtYmVyIl0pLHRoaXMubHVhb3Blbl9jb3JvdXRpbmU9dGhpcy5jd3JhcCgibHVhb3Blbl9jb3JvdXRpbmUiLCJudW1iZXIiLFsibnVtYmVyIl0pLHRoaXMubHVhb3Blbl90YWJsZT10aGlzLmN3cmFwKCJsdWFvcGVuX3RhYmxlIiwibnVtYmVyIixbIm51bWJlciJdKSx0aGlzLmx1YW9wZW5faW89dGhpcy5jd3JhcCgibHVhb3Blbl9pbyIsIm51bWJlciIsWyJudW1iZXIiXSksdGhpcy5sdWFvcGVuX29zPXRoaXMuY3dyYXAoImx1YW9wZW5fb3MiLCJudW1iZXIiLFsibnVtYmVyIl0pLHRoaXMubHVhb3Blbl9zdHJpbmc9dGhpcy5jd3JhcCgibHVhb3Blbl9zdHJpbmciLCJudW1iZXIiLFsibnVtYmVyIl0pLHRoaXMubHVhb3Blbl91dGY4PXRoaXMuY3dyYXAoImx1YW9wZW5fdXRmOCIsIm51bWJlciIsWyJudW1iZXIiXSksdGhpcy5sdWFvcGVuX21hdGg9dGhpcy5jd3JhcCgibHVhb3Blbl9tYXRoIiwibnVtYmVyIixbIm51bWJlciJdKSx0aGlzLmx1YW9wZW5fZGVidWc9dGhpcy5jd3JhcCgibHVhb3Blbl9kZWJ1ZyIsIm51bWJlciIsWyJudW1iZXIiXSksdGhpcy5sdWFvcGVuX3BhY2thZ2U9dGhpcy5jd3JhcCgibHVhb3Blbl9wYWNrYWdlIiwibnVtYmVyIixbIm51bWJlciJdKSx0aGlzLmx1YUxfb3BlbmxpYnM9dGhpcy5jd3JhcCgibHVhTF9vcGVubGlicyIsbnVsbCxbIm51bWJlciJdKX1sdWFfcmVtb3ZlKGUsdCl7dGhpcy5sdWFfcm90YXRlKGUsdCwtMSksdGhpcy5sdWFfcG9wKGUsMSl9bHVhX3BvcChlLHQpe3RoaXMubHVhX3NldHRvcChlLC10LTEpfWx1YUxfZ2V0bWV0YXRhYmxlKGUsdCl7cmV0dXJuIHRoaXMubHVhX2dldGZpZWxkKGUsdSx0KX1sdWFfeWllbGQoZSx0KXtyZXR1cm4gdGhpcy5sdWFfeWllbGRrKGUsdCwwLG51bGwpfWx1YV91cHZhbHVlaW5kZXgoZSl7cmV0dXJuIHUtZX1yZWYoZSl7Y29uc3QgdD10aGlzLnJlZmVyZW5jZVRyYWNrZXIuZ2V0KGUpO2lmKHQpcmV0dXJuIHQucmVmQ291bnQrKyx0LmluZGV4O2NvbnN0IHI9dGhpcy5hdmFpbGFibGVSZWZlcmVuY2VzLnBvcCgpLGE9dm9pZCAwPT09cj90aGlzLnJlZmVyZW5jZU1hcC5zaXplKzE6cjtyZXR1cm4gdGhpcy5yZWZlcmVuY2VNYXAuc2V0KGEsZSksdGhpcy5yZWZlcmVuY2VUcmFja2VyLnNldChlLHtyZWZDb3VudDoxLGluZGV4OmF9KSx0aGlzLmxhc3RSZWZJbmRleD1hLGF9dW5yZWYoZSl7Y29uc3QgdD10aGlzLnJlZmVyZW5jZU1hcC5nZXQoZSk7aWYodm9pZCAwPT09dClyZXR1cm47Y29uc3Qgcj10aGlzLnJlZmVyZW5jZVRyYWNrZXIuZ2V0KHQpO2lmKHZvaWQgMD09PXIpcmV0dXJuIHRoaXMucmVmZXJlbmNlVHJhY2tlci5kZWxldGUodCksdm9pZCB0aGlzLmF2YWlsYWJsZVJlZmVyZW5jZXMucHVzaChlKTtyLnJlZkNvdW50LS0sci5yZWZDb3VudDw9MCYmKHRoaXMucmVmZXJlbmNlVHJhY2tlci5kZWxldGUodCksdGhpcy5yZWZlcmVuY2VNYXAuZGVsZXRlKGUpLHRoaXMuYXZhaWxhYmxlUmVmZXJlbmNlcy5wdXNoKGUpKX1nZXRSZWYoZSl7cmV0dXJuIHRoaXMucmVmZXJlbmNlTWFwLmdldChlKX1nZXRMYXN0UmVmSW5kZXgoKXtyZXR1cm4gdGhpcy5sYXN0UmVmSW5kZXh9cHJpbnRSZWZzKCl7Zm9yKGNvbnN0W2UsdF1vZiB0aGlzLnJlZmVyZW5jZU1hcC5lbnRyaWVzKCkpY29uc29sZS5sb2coZSx0KX1jd3JhcChlLHQscil7cmV0dXJuIHIuc29tZSgoZT0+InN0cmluZ3xudW1iZXIiPT09ZSkpPyguLi5hKT0+e2NvbnN0IG49W10saT1yLm1hcCgoKGUsdCk9Pnt2YXIgcjtpZigic3RyaW5nfG51bWJlciI9PT1lKXtpZigibnVtYmVyIj09dHlwZW9mIGFbdF0pcmV0dXJuIm51bWJlciI7aWYoKG51bGw9PT0ocj1hW3RdKXx8dm9pZCAwPT09cj92b2lkIDA6ci5sZW5ndGgpPjEwMjQpe2NvbnN0IGU9dGhpcy5tb2R1bGUuc3RyaW5nVG9OZXdVVEY4KGFbdF0pO3JldHVybiBhW3RdPWUsbi5wdXNoKGUpLCJudW1iZXIifXJldHVybiJzdHJpbmcifXJldHVybiBlfSkpO3RyeXtyZXR1cm4gdGhpcy5tb2R1bGUuY2NhbGwoZSx0LGksYSl9ZmluYWxseXtmb3IoY29uc3QgZSBvZiBuKXRoaXMubW9kdWxlLl9mcmVlKGUpfX06KC4uLmEpPT50aGlzLm1vZHVsZS5jY2FsbChlLHQscixhKX19dmFyIFY9IjEuMTYuMCI7Y2xhc3MgWXtjb25zdHJ1Y3RvcihlLHQpe3ZhciByO3ZvaWQgMD09PWUmJigib2JqZWN0Ij09dHlwZW9mIHdpbmRvdyYmdm9pZCAwIT09d2luZG93LmRvY3VtZW50fHwib2JqZWN0Ij09dHlwZW9mIHNlbGYmJiJEZWRpY2F0ZWRXb3JrZXJHbG9iYWxTY29wZSI9PT0obnVsbD09PShyPW51bGw9PT1zZWxmfHx2b2lkIDA9PT1zZWxmP3ZvaWQgMDpzZWxmLmNvbnN0cnVjdG9yKXx8dm9pZCAwPT09cj92b2lkIDA6ci5uYW1lKSkmJihlPWBodHRwczovL3VucGtnLmNvbS93YXNtb29uQCR7Vn0vZGlzdC9nbHVlLndhc21gKSx0aGlzLmx1YVdhc21Qcm9taXNlPUQuaW5pdGlhbGl6ZShlLHQpfWFzeW5jIG1vdW50RmlsZShlLHQpe3RoaXMubW91bnRGaWxlU3luYyhhd2FpdCB0aGlzLmdldEx1YU1vZHVsZSgpLGUsdCl9bW91bnRGaWxlU3luYyhlLHQscil7Y29uc3QgYT10Lmxhc3RJbmRleE9mKCIvIiksbj10LnN1YnN0cmluZyhhKzEpLGk9dC5zdWJzdHJpbmcoMCx0Lmxlbmd0aC1uLmxlbmd0aC0xKTtpZihpLmxlbmd0aD4wKXtjb25zdCB0PWkuc3BsaXQoIi8iKS5yZXZlcnNlKCk7bGV0IHI9IiI7Zm9yKDt0Lmxlbmd0aDspe2NvbnN0IGE9dC5wb3AoKTtpZighYSljb250aW51ZTtjb25zdCBuPWAke3J9LyR7YX1gO3RyeXtlLm1vZHVsZS5GUy5ta2RpcihuKX1jYXRjaChlKXt9cj1ufX1lLm1vZHVsZS5GUy53cml0ZUZpbGUodCxyKX1hc3luYyBjcmVhdGVFbmdpbmUoZT17fSl7cmV0dXJuIG5ldyBOKGF3YWl0IHRoaXMuZ2V0THVhTW9kdWxlKCksZSl9YXN5bmMgZ2V0THVhTW9kdWxlKCl7cmV0dXJuIHRoaXMubHVhV2FzbVByb21pc2V9fXQuRGVjb3JhdGlvbj1zLHQuTFVBSV9NQVhTVEFDSz1pLHQuTFVBX01VTFRSRVQ9bix0LkxVQV9SRUdJU1RSWUlOREVYPXUsdC5MdWFFbmdpbmU9Tix0Lkx1YUZhY3Rvcnk9WSx0Lkx1YUdsb2JhbD1wLHQuTHVhTXVsdGlSZXR1cm49Yyx0Lkx1YVJhd1Jlc3VsdD1iLHQuTHVhVGhyZWFkPWYsdC5MdWFUaW1lb3V0RXJyb3I9byx0Lkx1YVR5cGVFeHRlbnNpb249bSx0Lkx1YVdhc209RCx0LlBvaW50ZXJTaXplPWEsdC5kZWNvcmF0ZT1sLHQuZGVjb3JhdGVGdW5jdGlvbj13LHQuZGVjb3JhdGVQcm94eT1BLHQuZGVjb3JhdGVVc2VyZGF0YT14fShUZS5leHBvcnRzKTt2YXIga2U9VGUuZXhwb3J0cyxTZT1UZS5leHBvcnRzLkRlY29yYXRpb24sQWU9VGUuZXhwb3J0cy5MVUFJX01BWFNUQUNLLFJlPVRlLmV4cG9ydHMuTFVBX01VTFRSRVQsTWU9VGUuZXhwb3J0cy5MVUFfUkVHSVNUUllJTkRFWCxPZT1UZS5leHBvcnRzLkx1YUVuZ2luZSxGZT1UZS5leHBvcnRzLkx1YUV2ZW50Q29kZXMseGU9VGUuZXhwb3J0cy5MdWFFdmVudE1hc2tzLFBlPVRlLmV4cG9ydHMuTHVhRmFjdG9yeSxJZT1UZS5leHBvcnRzLkx1YUdsb2JhbCxOZT1UZS5leHBvcnRzLkx1YUxpYnJhcmllcyxDZT1UZS5leHBvcnRzLkx1YU11bHRpUmV0dXJuLFVlPVRlLmV4cG9ydHMuTHVhUmF3UmVzdWx0LERlPVRlLmV4cG9ydHMuTHVhUmV0dXJuLEJlPVRlLmV4cG9ydHMuTHVhVGhyZWFkLFZlPVRlLmV4cG9ydHMuTHVhVGltZW91dEVycm9yLFllPVRlLmV4cG9ydHMuTHVhVHlwZSxqZT1UZS5leHBvcnRzLkx1YVR5cGVFeHRlbnNpb24semU9VGUuZXhwb3J0cy5MdWFXYXNtLEhlPVRlLmV4cG9ydHMuUG9pbnRlclNpemUsJGU9VGUuZXhwb3J0cy5kZWNvcmF0ZSxHZT1UZS5leHBvcnRzLmRlY29yYXRlRnVuY3Rpb24sV2U9VGUuZXhwb3J0cy5kZWNvcmF0ZVByb3h5LHFlPVRlLmV4cG9ydHMuZGVjb3JhdGVVc2VyZGF0YTtleHBvcnR7U2UgYXMgRGVjb3JhdGlvbixBZSBhcyBMVUFJX01BWFNUQUNLLFJlIGFzIExVQV9NVUxUUkVULE1lIGFzIExVQV9SRUdJU1RSWUlOREVYLE9lIGFzIEx1YUVuZ2luZSxGZSBhcyBMdWFFdmVudENvZGVzLHhlIGFzIEx1YUV2ZW50TWFza3MsUGUgYXMgTHVhRmFjdG9yeSxJZSBhcyBMdWFHbG9iYWwsTmUgYXMgTHVhTGlicmFyaWVzLENlIGFzIEx1YU11bHRpUmV0dXJuLFVlIGFzIEx1YVJhd1Jlc3VsdCxEZSBhcyBMdWFSZXR1cm4sQmUgYXMgTHVhVGhyZWFkLFZlIGFzIEx1YVRpbWVvdXRFcnJvcixZZSBhcyBMdWFUeXBlLGplIGFzIEx1YVR5cGVFeHRlbnNpb24semUgYXMgTHVhV2FzbSxIZSBhcyBQb2ludGVyU2l6ZSwkZSBhcyBkZWNvcmF0ZSxHZSBhcyBkZWNvcmF0ZUZ1bmN0aW9uLFdlIGFzIGRlY29yYXRlUHJveHkscWUgYXMgZGVjb3JhdGVVc2VyZGF0YSxrZSBhcyBkZWZhdWx0fTsKLy8jIHNvdXJjZU1hcHBpbmdVUkw9L3NtLzlhMTdlODYwMzA2ZjFkM2NmNGM2YTQzNmRiYmYxNTQ4Zjc4MThiMWQzNDRkNTEzODk2OWJhMTdhNWZhMGYwOGUubWFw');
    const factory = new LuaFactory();
    let lua = await factory.createEngine();
  
    async function resetLua() {
      const threads = runtime.threads;
      const oldStatus = [];
      for (let i = 0; i < threads.length; i++) {
        const thisThread = threads[i];
        oldStatus.push(thisThread.status);
        thisThread.status = 5;
      }
      lua.global.close();
      lua = await factory.createEngine();
      for (let i = 0; i < threads.length; i++) {
        threads[i].status = oldStatus[i];
      }
    }
  
    function luacmds() {
  //i don't remember how to do this T-T //looool
    }
  
    const { Cast, BlockType, ArgumentType, vm } = Scratch,
      { runtime } = vm;
  
    class extension {
      getInfo() {
        return {
          id: 'Drago0znzwLua',
          name: "Lua",
          color1: '#000080',
          color2: '#ffffff',
          color3: '#808080',
          menuIconURI,
          blocks: [
            {
              blockType: Scratch.BlockType.LABEL,
              text: 'Configuration'
            },
            {
              opcode: 'reboot',
              blockType: Scratch.BlockType.BUTTON,
              text: 'reload lua'
            },
            {
              opcode: 'rebootcheck',
              blockType: BlockType.COMMAND,
              text: 'reload lua on flag press? [ROFP]',
              arguments: {
                ROFP: {
                  type: ArgumentType.BOOLEAN
                },
              },
            },
            {
              opcode: 'initcheck',
              blockType: BlockType.COMMAND,
              text: 'enable scratch commands? [ESCB]',
              arguments: {
                ESCB: {
                  type: ArgumentType.BOOLEAN
                },
              },
            },
            {
              blockType: Scratch.BlockType.LABEL,
              text: Scratch.translate('Code')
            },
            {
              func: 'execute',
              opcode: 'mainscript',
              blockType: Scratch.BlockType.COMMAND,
              text: 'main [CODE] .lua', //constantly running, like in love2d
              arguments: {
                CODE: {
                  type: ArgumentType.STRING,
                },
              },
            },
            {
              func: 'execute',
              opcode: 'executeCmd',
              blockType: Scratch.BlockType.COMMAND,
              text: 'lua [CODE]',
              arguments: {
                CODE: {
                  type: ArgumentType.STRING,
                },
              },
            },
            {
              func: 'execute',
              opcode: 'executeReporter',
              blockType: Scratch.BlockType.REPORTER,
              text: 'lua [CODE]',
              outputShape: Scratch.extensions.isPenguinmod ? 5 : 3,
              blockShape: Scratch.extensions.isPenguinmod ? 5 : 3,
              arguments: {
                CODE: {
                  type: ArgumentType.STRING,
                },
              },
              allowDropAnywhere: true,
            },
            {
              func: 'getluavar',
              opcode: 'luavar',
              blockType: Scratch.BlockType.REPORTER,
              text: 'variable [VAR]',
              outputShape: Scratch.extensions.isPenguinmod ? 5 : 3,
              blockShape: Scratch.extensions.isPenguinmod ? 5 : 3,
              arguments: {
                VAR: {
                  type: ArgumentType.STRING,
                },
              },
              allowDropAnywhere: true,
            },
            {
              opcode: 'callfunc',
              blockType: Scratch.BlockType.EVENT,
              text: 'function ([NAME]) [ARGS]',
              isEdgeActivated: false,
              arguments: {
                NAME: {
                  type: null,
                },
                ARGS: {
                  type: null,
                },
              },
            },
            {
              opcode: 'return',
              blockType: Scratch.BlockType.COMMAND,
              isTerminal: true,
              text: 'return [TEXT]',
              arguments: {
                TEXT: {
                  type: ArgumentType.STRING,
                },
              },
            },
          ]
        }
      }
  
      //block functions here
      async execute(args) {
        return await lua.doString(Cast.toString(args.CODE));
      }
  
      async getluavar(args) {
        const luaVar = lua.global.get(args.VAR);
        return luaVar !== undefined && luaVar !== null ? luaVar : "";
    }
    
    
      async reboot() {
        resetLua();
      }
    }
  
    runtime.on('PROJECT_START', () => resetLua());
    runtime.on('PROJECT_STOP_ALL', () => resetLua());
  
    Scratch.extensions.register(new extension())
  })(Scratch)